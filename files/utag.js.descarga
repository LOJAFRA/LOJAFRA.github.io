//tealium universal tag - utag.loader ut4.0.202201031354, Copyright 2022 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};var match=(""+document.cookie).match("(^|;\\s)utag_env_vodafone_es-mivoweb=(\/\/tags\.tiqcdn\.com\/utag\/vodafone\/[a-z0-9\\.-]{1,30}\\/[^\\s;]*)");if(match){if(match[2].indexOf("/prod/")===-1){var s=match[2];while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/vodafone/es-mivoweb/prod/';}}})();}catch(e){};try{try{(function(){var cookies=(function(){function set(name,value,expires,domain){try{if(typeof(expires)!="number"||typeof(name)=="undefined"||typeof(value)=="undefined")
return false;var now=new Date();var localTime=now.getTime()-now.getTimezoneOffset()*60*1000;var expireDate=now.setTime(localTime+expires*1000);document.cookie=(name+"="+escape(value))+((expireDate!==null)?"; expires="+new Date(expireDate).toUTCString():"")+((domain)?"; domain="+domain:"")+"; path=/";return true;}catch(e){return false;}}
function get(name){try{var c_value=document.cookie;var c_start=c_value.indexOf(" "+name+"=");if(c_start==-1){c_start=c_value.indexOf(name+"=");}
if(c_start==-1){c_value=null;}else{c_start=c_value.indexOf("=",c_start)+1;var c_end=c_value.indexOf(";",c_start);if(c_end==-1){c_end=c_value.length;}
c_value=decodeURI(c_value.substring(c_start,c_end));}
return c_value;}catch(e){return false;}}
function remove(name){try{window.document.cookie=name+'=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';return true;}catch(e){return false;}}
function cookies(){}
cookies.prototype.get=get;cookies.prototype.set=set;cookies.prototype.remove=remove;return cookies;})();var localstorage=(function(){function compatibility(){var mod='_compatible';try{window.localStorage.setItem(mod,mod);window.localStorage.removeItem(mod);return true;}catch(e){return false;}}
function get(name){try{var item=window.localStorage.getItem(name);var v=(item!==null)?JSON.parse(item).value:false;return v;}catch(e){return false;}}
function set(name,value,expires,domain){try{var tms=new Date().getTime();var cad=tms+expires*1000;var obj={value:value,timestamp:tms,expires:cad};window.localStorage.setItem(name,JSON.stringify(obj));return true;}catch(e){return false;}}
function remove(name){try{window.localStorage.removeItem(name);return true;}catch(e){return false;}}
function localstorage(){if(compatibility()){for(var key in window['localStorage']){var objecto=null;try{objecto=JSON.parse(window['localStorage'].getItem(key));}catch(e){}
if(objecto!=null&&typeof objecto==="object"){var now=new Date().getTime();var expires=('expires'in objecto&&typeof objecto["expires"]==="number")?objecto["expires"]:false;if(expires&&expires<now){remove(key);}}}}}
localstorage.prototype.compatibility=compatibility;localstorage.prototype.get=get;localstorage.prototype.set=set;localstorage.prototype.remove=remove;return localstorage;})();var data=(function(cookies,localstorage){function get(name){return this.provider.get(name);}
function set(name,value,expires,domain){return this.provider.set(name,value,expires,domain);}
function remove(name){return this.provider.remove(name);}
function data(){this.cookies=new cookies();this.localstorage=new localstorage();this.provider=this.localstorage.compatibility()?this.localstorage:this.cookies;}
data.prototype.get=get;data.prototype.set=set;data.prototype.remove=remove;return data;})(cookies,localstorage);var logger=(function(data){function logger(options){this.options=options||{};this.data=new data();this.levels={};this.levels.TRACE={'value':1,'name':'TRACE'};this.levels.DEBUG={'value':2,'name':'DEBUG'};this.levels.INFO={'value':3,'name':'INFO'};this.levels.TIME={'value':4,'name':'TIME'};this.levels.WARN={'value':5,'name':'WARN'};this.levels.ERROR={'value':8,'name':'ERROR'};this.levels.OFF={'value':99,'name':'OFF'};var level=this.data.get("dd_debug_level");if(level&&typeof this.levels[level]==="object"){this.filterLevel=this.levels[level];}else{var newLevel=options&&options.defaultLevel||this.levels.OFF;if(newLevel&&"value"in newLevel){this.filterLevel=newLevel;this.data.set("dd_debug_level",newLevel["value"],1000*60*60*24*365*10);}}
this.timerStartTimeByLabelMap={};}
logger.prototype.getFormattedDate=function(){var pad=function(n){return('00'+n).slice(-2);};var date=new Date();var hrs=date.getHours();var mins=date.getMinutes();var secs=date.getSeconds();var ms=date.getMilliseconds();return pad(hrs)+':'+pad(mins)+':'+pad(secs)+'.'+pad(ms,3);}
logger.prototype.formatter=function(messages,context){if(context){messages.unshift("["+context+"] ");messages.unshift(this.getFormattedDate());}
return messages;}
logger.prototype.setLevel=function(newLevel){if(newLevel&&"value"in newLevel){this.filterLevel=newLevel;this.data.set("dd_debug_level",newLevel["value"],1000*60*60*24*365*10);}}
logger.prototype.getLevel=function(){return this.filterLevel;}
logger.prototype.enabledFor=function(level){return level.value>=this.filterLevel.value;}
logger.prototype.invokeConsoleMethod=function(hdlr,messages){Function.prototype.apply.call(hdlr,console,messages);}
logger.prototype.invoke=function(context,level,msgArgs){if(typeof console==="undefined"||typeof msgArgs!=="object"){return false;}
var messages=Array.prototype.slice.call(msgArgs),hdlr=console.log,timerLabel,pad=function(n){('00'+n).slice(-2);};if(this.enabledFor(level)){if(level===this.levels.TIME){timerLabel=(context?' ['+context+'] ':'')+messages[0];if(messages[1]==='start'){this.timerStartTimeByLabelMap[timerLabel]=new Date().getTime();}else{this.invokeConsoleMethod(hdlr,["%c"+this.getFormattedDate()+' '+timerLabel+': '+
(new Date().getTime()-this.timerStartTimeByLabelMap[timerLabel])+'ms ',messages[2]]);}}else{messages=this.formatter(messages,context);if(level===this.levels.WARN&&console.warn){hdlr=console.warn;}else if(level===this.levels.ERROR&&console.error){hdlr=console.error;}else if(level===this.levels.INFO&&console.info){hdlr=console.info;}else if(level===this.levels.DEBUG&&console.debug){hdlr=console.debug;}else if(level===this.levels.TRACE&&console.trace){hdlr=console.trace;}
this.invokeConsoleMethod(hdlr,messages);}}}
logger.prototype.trace=function(){var args=[].slice.call(arguments);var context=args[0];args.shift();this.invoke(context,this.levels.TRACE,args);}
logger.prototype.debug=function(){var args=[].slice.call(arguments);var context=args[0];args.shift();this.invoke(context,this.levels.DEBUG,args);}
logger.prototype.info=function(){var args=[].slice.call(arguments);var context=args[0];args.shift();this.invoke(context,this.levels.INFO,args);}
logger.prototype.warn=function(){var args=[].slice.call(arguments);var context=args[0];args.shift();this.invoke(context,this.levels.WARN,args);}
logger.prototype.error=function(){var args=[].slice.call(arguments);var context=args[0];args.shift();this.invoke(context,this.levels.ERROR,args);}
logger.prototype.time=function(context,label){if(typeof label==='string'&&label.length>0){this.invoke(context,this.levels.TIME,[label,'start']);}}
logger.prototype.timeEnd=function(context,label,style){if(typeof label==='string'&&label.length>0){this.invoke(context,this.levels.TIME,[label,'end',style]);}}
logger.prototype.groupStart=function(){var args=[].slice.call(arguments);var context=args[0];args.shift();var style=args[0]?args[0]:false;args.shift();if(typeof args!=="object"){return false;}
if(this.enabledFor(this.levels.ERROR)){var messages=this.formatter(args,context);var msgs='';messages=messages.join(' ');if(style){messages="%c "+messages;msgs=[messages,style];}else{msgs=messages;}
if(console.group){Function.prototype.apply.call(console.group,console,msgs);}else{Function.prototype.apply.call(console.log,console,msgs);}}}
logger.prototype.groupEnd=function(){if(this.enabledFor(this.levels.ERROR)&&console.group){Function.prototype.apply.call(console.groupEnd,console);}}
logger.prototype.enable=function(level){try{if(level&&typeof level==="object"&&"name"in level){this.trace("Logger","Trace");this.setLevel(level);this.data.set("dd_debug_level",level["name"],1000*60*60*24*365*10);this.info("Logger","Logger has been enabled at level: "+level["name"]);}else if(level&&typeof level==="string"){this.trace("Logger","Trace");if(typeof this.levels[level]==="object"){this.setLevel(this.levels[level]);this.data.set("dd_debug_level",level,1000*60*60*24*365*10);this.info("Logger","Logger has been enabled at level: "+this.levels[level].name);}else{this.error("Logger","Level *"+level+"* doesn't exists");}}else{this.setLevel(this.levels.DEBUG);this.data.set("dd_debug_level",this.levels.DEBUG.name,1000*60*60*24*365*10);this.info("Logger","Logger has been enabled at level: "+this.levels.DEBUG.name);}}catch(e){this.error("Logger","An error ocurred:",e);}}
logger.prototype.disable=function(){try{this.trace("Logger","Trace");this.info("Logger","Logger has been disabled!");this.setLevel(this.levels.OFF);}catch(e){this.error("Logger","An error ocurred:",e);}}
return logger;})(data);window._vf=window._vf||{};window._vf.digitalData={};window._vf.digitalData.utils={};window._vf.digitalData.utils.logger=new logger();})(window);}catch(e){console.log(e)}}catch(e){console.log(e);}
if(!utag_condload){try{if(document.domain==="m.vodafone.es"||document.domain==="assets-es-prodref.myvdf.aws.cps.vodafone.com"){function AppMeasurement_Module_AudienceManagement(d){var a=this;a.s=d;var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0);a._il=b.s_c_il;a._in=b.s_c_in;a._il[a._in]=a;b.s_c_in++;a._c="s_m";a.setup=function(c){b.DIL&&c&&(c.disableDefaultRequest=!0,c.disableScriptAttachment=!0,a.instance=b.DIL.create(c),a.tools=b.DIL.tools)};a.isReady=function(){return a.instance?!0:!1};a.getEventCallConfigParams=function(){return a.instance&&a.instance.api&&a.instance.api.getEventCallConfigParams?a.instance.api.getEventCallConfigParams():{}};a.passData=function(b){a.instance&&a.instance.api&&a.instance.api.passData&&a.instance.api.passData(b)}}
"function"!==typeof window.DIL&&(window.DIL=function(a,c){var d=[],b,g;a!==Object(a)&&(a={});var f,k,n,u,s,m,p,y,x,J,K,D;f=a.partner;k=a.containerNSID;n=!!a.disableDestinationPublishingIframe;u=a.iframeAkamaiHTTPS;s=a.mappings;m=a.uuidCookie;p=!0===a.enableErrorReporting;y=a.visitorService;x=a.declaredId;J=!0===a.removeFinishedScriptsAndCallbacks;K=!0===a.delayAllUntilWindowLoad;D=!0===a.disableIDSyncs;var L,M,N,G,E,O,P,Q;L=!0===a.disableScriptAttachment;M=!0===a.disableCORSFiring;N=!0===a.disableDefaultRequest;G=a.afterResultForDefaultRequest;E=a.dpIframeSrc;O=!0===a.testCORS;P=!0===a.useJSONPOnly;Q=a.visitorConstructor;p&&DIL.errorModule.activate();var R=!0===window._dil_unit_tests;(b=c)&&d.push(b+"");if(!f||"string"!==typeof f)return b="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:b,filename:"dil.js"}),Error(b);b="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(k||"number"===typeof k)k=parseInt(k,10),!isNaN(k)&&0<=k&&(b="");b&&(k=0,d.push(b),b="");g=DIL.getDil(f,k);if(g instanceof DIL&&g.api.getPartner()===f&&g.api.getContainerNSID()===k)return g;if(this instanceof DIL)DIL.registerDil(this,f,k);else return new DIL(a,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+f+" and containerNSID = "+k);var B={IS_HTTPS:"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},H={stuffed:{}},l={},q={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:k+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+
"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,instance:null,releaseType:"no VisitorAPI",admsProcessingStarted:!1,process:function(e){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var t=this,a,h,b,d,c;if("function"===typeof e&&"function"===typeof e.getInstance){if(y===Object(y)&&(a=y.namespace)&&"string"===typeof a)h=e.getInstance(a,{idSyncContainerID:k});else{this.releaseType="no namespace";this.releaseRequests();return}if(h===Object(h)&&"function"===typeof h.isAllowed&&"function"===typeof h.getMarketingCloudVisitorID&&"function"===typeof h.getCustomerIDs){if(!h.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=h;b=function(e){"VisitorAPI"!==t.releaseType&&(t.mid=e,t.releaseType="VisitorAPI",t.releaseRequests())};R&&(d=y.server)&&"string"===typeof d&&(h.server=d);c=h.getMarketingCloudVisitorID(b);if("string"===typeof c&&c.length){b(c);return}setTimeout(function(){"VisitorAPI"!==t.releaseType&&(t.releaseType="timeout",t.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(f){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;q.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=w.isPopulatedString,t=this.getMarketingCloudVisitorID();e(this.mid)&&this.mid===t||(this.mid=t);return e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e===Object(e)){var t="",a=[],h=[],b,d;for(b in e)e.hasOwnProperty(b)&&(h[0]=b,d=e[b],d===Object(d)&&(h[1]=d.id||"",h[2]=d.authState||0,a.push(h),h=[]));if(h=a.length)for(e=0;e<h;e++)t+="&d_cid_ic="+a[e].join("%01");return t}return""}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var a=w.isPopulatedString,h=encodeURIComponent;if(e===Object(e)&&a(t)){var b=e.dpid,d=e.dpuuid,c=null;if(a(b)&&a(d)){c=h(b)+"$"+h(d);if(!0===this.declaredIdCombos[c])return"setDeclaredId: combo exists for type '"+t+"'";this.declaredIdCombos[c]=!0;this.declaredId[t]={dpid:b,dpuuid:d};return"setDeclaredId: succeeded for type '"+t+"'"}}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,a="";null!==e?a="&d_dpid="+e.dpid+"&d_dpuuid="+e.dpuuid:null!==t&&(a="&d_dpid="+t.dpid+"&d_dpuuid="+t.dpuuid);return a}},registerRequest:function(e){var a=this.firingQueue;e===Object(e)&&a.push(e);this.firing||!a.length||K&&!DIL.windowLoaded||!this.adms.calledBack||(e=a.shift(),e.src=e.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid="),w.isPopulatedString(e.corsPostData)&&(e.corsPostData=e.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid=")),C.fireRequest(e),this.firstRequestHasFired||"script"!==e.tag&&"cors"!==e.tag||(this.firstRequestHasFired=!0))},processVisitorAPI:function(){this.adms.process(Q||window.Visitor)},requestRemoval:function(e){if(!J)return"removeFinishedScriptsAndCallbacks is not boolean true";var a=this.toRemove,r,h;e===Object(e)&&(r=e.script,h=e.callbackName,(r===Object(r)&&"SCRIPT"===r.nodeName||"no script created"===r)&&"string"===typeof h&&h.length&&a.push(e));if(this.readyToRemove&&a.length){h=a.shift();r=h.script;h=h.callbackName;"no script created"!==r?(e=r.src,r.parentNode.removeChild(r)):e=r;window[h]=null;try{delete window[h]}catch(b){}this.removed.push({scriptSrc:e,callbackName:h});DIL.variables.scriptsRemoved.push(e);DIL.variables.callbacksRemoved.push(h);return this.requestRemoval()}return"requestRemoval() processed"}};g=function(){var e="http://fast.",a="?d_nsid="+k+"#"+encodeURIComponent(document.location.href);if("string"===typeof E&&E.length)return E+a;B.IS_HTTPS&&(e=!0===u?"https://fast.":"https://");return e+f+".demdex.net/dest5.html"+a};var z={THROTTLE_START:3E4,throttleTimerSet:!1,id:"destination_publishing_iframe_"+f+"_"+k,url:g(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:B.POST_MESSAGE_ENABLED?15:100,ibsDeleted:[],jsonProcessed:[],newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function e(){h=document.createElement("iframe");h.id=b.id;h.style.cssText="display: none; width: 0; height: 0;";h.src=b.url;b.newIframeCreated=!0;a();document.body.appendChild(h)}function a(){v.addListener(h,"load",function(){h.className="aamIframeLoaded";b.iframeHasLoaded=!0;b.requestToProcess()})}var b=this,h=document.getElementById(this.id);h?"IFRAME"!==h.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==h.className?(this.originalIframeHasLoadedAlready=!1,a()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.requestToProcess())):e();this.iframe=h},requestToProcess:function(e,a){var b=this;e&&!w.isEmptyObject(e)&&this.process(e,a);this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){b.messageSendingInterval=B.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},process:function(e,a){var b=encodeURIComponent,h,d,c,f,g,k;a===Object(a)&&(k=v.encodeAndBuildRequest(["",a.dpid||"",a.dpuuid||""],","));if((h=e.dests)&&h instanceof Array&&(d=h.length))for(c=0;c<d;c++)f=h[c],f=[b("dests"),b(f.id||""),b(f.y||""),b(f.c||"")],this.addMessage(f.join("|"));if((h=e.ibs)&&h instanceof Array&&(d=h.length))for(c=0;c<d;c++)f=h[c],f=[b("ibs"),b(f.id||""),b(f.tag||""),v.encodeAndBuildRequest(f.url||[],","),b(f.ttl||""),"",k],this.addMessage(f.join("|"));if((h=e.dpcalls)&&h instanceof Array&&(d=h.length))for(c=0;c<d;c++)f=h[c],g=f.callback||{},g=[g.obj||"",g.fn||"",g.key||"",g.tag||"",g.url||""],f=[b("dpm"),b(f.id||""),b(f.tag||""),v.encodeAndBuildRequest(f.url||[],","),b(f.ttl||""),v.encodeAndBuildRequest(g,","),k],this.addMessage(f.join("|"));this.jsonProcessed.push(e)},addMessage:function(e){var a=encodeURIComponent,a=p?a("---destpub-debug---"):a("---destpub---");this.messages.push(a+e)},sendMessages:function(){var e=this,a;this.messages.length?(a=this.messages.shift(),DIL.xd.postMessage(a,this.url,this.iframe.contentWindow),this.messagesPosted.push(a),setTimeout(function(){e.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},I={traits:function(e){w.isValidPdata(e)&&(l.sids instanceof Array||(l.sids=[]),v.extendArray(l.sids,e));return this},pixels:function(e){w.isValidPdata(e)&&(l.pdata instanceof Array||(l.pdata=[]),v.extendArray(l.pdata,e));return this},logs:function(e){w.isValidLogdata(e)&&(l.logdata!==Object(l.logdata)&&(l.logdata={}),v.extendObject(l.logdata,e));return this},customQueryParams:function(e){w.isEmptyObject(e)||v.extendObject(l,e,q.reservedKeys);return this},signals:function(e,a){var b,h=e;if(!w.isEmptyObject(h)){if(a&&"string"===typeof a)for(b in h={},e)e.hasOwnProperty(b)&&(h[a+b]=e[b]);v.extendObject(l,h,q.reservedKeys)}return this},declaredId:function(e){q.declaredId.setDeclaredId(e,"request");return this},result:function(e){"function"===typeof e&&(l.callback=e);return this},afterResult:function(e){"function"===typeof e&&(l.postCallbackFn=e);return this},useImageRequest:function(){l.useImageRequest=!0;return this},clearData:function(){l={};return this},submit:function(){C.submitRequest(l);l={};return this},getPartner:function(){return f},getContainerNSID:function(){return k},getEventLog:function(){return d},getState:function(){var e={},a={};v.extendObject(e,q,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});v.extendObject(a,z,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{pendingRequest:l,otherRequestInfo:e,destinationPublishingInfo:a}},idSync:function(e){if(D)return"Error: id syncs have been disabled";if(e!==Object(e)||"string"!==typeof e.dpid||!e.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof e.url||!e.url.length)return"Error: config.url is empty";var a=e.url,b=e.minutesToLive,h=encodeURIComponent,d,a=a.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof b)b=20160;else if(b=parseInt(b,10),isNaN(b)||0>=b)return"Error: config.minutesToLive needs to be a positive number";d=v.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],",");e=["ibs",h(e.dpid),"img",h(a),b,"",d];z.addMessage(e.join("|"));q.firstRequestHasFired&&z.requestToProcess();return"Successfully queued"},aamIdSync:function(e){if(D)return"Error: id syncs have been disabled";if(e!==Object(e)||"string"!==typeof e.dpuuid||!e.dpuuid.length)return"Error: config or config.dpuuid is empty";e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid;return this.idSync(e)},passData:function(e){if(w.isEmptyObject(e))return"Error: json is empty or not an object";z.ibsDeleted.push(e.ibs);delete e.ibs;C.defaultCallback(e);return e},getPlatformParams:function(){return q.platformParams},getEventCallConfigParams:function(){var e=q,a=e.modStatsParams,b=e.platformParams,h;if(!a){a={};for(h in b)b.hasOwnProperty(h)&&!e.nonModStatsParams[h]&&(a[h.replace(/^d_/,"")]=b[h]);e.modStatsParams=a}return a}},C={corsMetadata:function(){var e="none",a=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?e="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(a=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(a=!1));return{corsType:e,corsCookiesEnabled:a}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){q.registerRequest(C.createQueuedRequest(e));return!0},createQueuedRequest:function(e){var a=q,b,h=e.callback,d="img",c;if(!w.isEmptyObject(s)){var f,g,m;for(f in s)s.hasOwnProperty(f)&&(g=s[f],null!=g&&""!==g&&f in e&&!(g in e||g in q.reservedKeys)&&(m=e[f],null!=m&&""!==m&&(e[g]=m)))}w.isValidPdata(e.sids)||(e.sids=[]);w.isValidPdata(e.pdata)||(e.pdata=[]);w.isValidLogdata(e.logdata)||(e.logdata={});e.logdataArray=v.convertObjectToKeyValuePairs(e.logdata,"=",!0);e.logdataArray.push("_ts="+(new Date).getTime());"function"!==typeof h&&(h=this.defaultCallback);a.useJSONP=!0!==e.useImageRequest;a.useJSONP&&(d="script",b=a.callbackPrefix+"_"+k+"_"+
(new Date).getTime());a=this.makeRequestSrcData(e,b);!P&&(c=this.getCORSInstance())&&a.truncated&&(this.corsMetadata.corsCookiesEnabled||a.isDeclaredIdCall)&&(d="cors");return{tag:d,src:a.src,corsSrc:a.corsSrc,internalCallbackName:b,callbackFn:h,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:c,corsPostData:a.corsPostData,hasCORSError:!1}},defaultCallback:function(e,a){var b,h,d,c,f,g,k,x,p;if((b=e.stuff)&&b instanceof Array&&(h=b.length))for(d=0;d<h;d++)if((c=b[d])&&c===Object(c)){f=c.cn;g=c.cv;k=c.ttl;if("undefined"===typeof k||""===k)k=Math.floor(v.getMaxCookieExpiresInMinutes()/60/24);x=c.dmn||"."+document.domain.replace(/^www\./,"");p=c.type;f&&(g||"number"===typeof g)&&("var"!==p&&(k=parseInt(k,10))&&!isNaN(k)&&v.setCookie(f,g,1440*k,"/",x,!1),H.stuffed[f]=g)}b=e.uuid;w.isPopulatedString(b)&&!w.isEmptyObject(m)&&(h=m.path,"string"===typeof h&&h.length||(h="/"),d=parseInt(m.days,10),isNaN(d)&&(d=100),v.setCookie(m.name||"aam_did",b,1440*d,h,m.domain||"."+document.domain.replace(/^www\./,""),!0===m.secure));n||q.abortRequests||z.requestToProcess(e,a)},makeRequestSrcData:function(e,a){e.sids=w.removeEmptyArrayValues(e.sids||[]);e.pdata=w.removeEmptyArrayValues(e.pdata||[]);var b=q,d=b.platformParams,c=v.encodeAndBuildRequest(e.sids,","),g=v.encodeAndBuildRequest(e.pdata,","),m=(e.logdataArray||[]).join("&");delete e.logdataArray;var x=B.IS_HTTPS?"https://":"http://",p=b.declaredId.getDeclaredIdQueryString(),s=b.adms.instance?b.adms.getCustomerIDsQueryString(b.adms.getCustomerIDs()):"",A;A=[];var l,n,u,y;for(l in e)if(!(l in b.reservedKeys)&&e.hasOwnProperty(l))if(n=e[l],l=encodeURIComponent(l),n instanceof Array)for(u=0,y=n.length;u<y;u++)A.push(l+"="+encodeURIComponent(n[u]));else A.push(l+"="+encodeURIComponent(n));A=A.length?"&"+A.join("&"):"";l=!1;c="d_nsid="+d.d_nsid+p+s+(c.length?"&d_sid="+c:"")+(g.length?"&d_px="+g:"")+(m.length?"&d_ld="+encodeURIComponent(m):"");d="&d_rtbd="+d.d_rtbd+"&d_jsonv="+d.d_jsonv+"&d_dst="+d.d_dst;x=x+f+".demdex.net/event";g=b=x+"?"+c+(b.useJSONP?d+"&d_cb="+(a||""):"")+A;2048<b.length&&(b=b.substring(0,b.lastIndexOf("&")),l=!0);return{corsSrc:x+"?"+(O?"testcors=1&d_nsid="+k+"&":"")+"_ts="+(new Date).getTime(),src:b,originalSrc:g,truncated:l,corsPostData:c+d+A,isDeclaredIdCall:""!==p}},fireRequest:function(e){if("img"===e.tag)this.fireImage(e);else{var a=q.declaredId,a=a.declaredId.request||a.declaredId.init||{},a={dpid:a.dpid||"",dpuuid:a.dpuuid||""};"script"===e.tag?this.fireScript(e,a):"cors"===e.tag&&this.fireCORS(e,a)}},fireImage:function(e){var a=q,c,h;a.abortRequests||(a.firing=!0,c=new Image(0,0),a.sent.push(e),c.onload=function(){a.firing=!1;a.fired.push(e);a.num_of_img_responses++;a.registerRequest()},h=function(c){b="imgAbortOrErrorHandler received the event of type "+c.type;d.push(b);a.abortRequests=!0;a.firing=!1;a.errored.push(e);a.num_of_img_errors++;a.registerRequest()},c.addEventListener?(c.addEventListener("error",h,!1),c.addEventListener("abort",h,!1)):c.attachEvent&&(c.attachEvent("onerror",h),c.attachEvent("onabort",h)),c.src=e.src)},fireScript:function(a,c){var g=this,h=q,k,m,x=a.src,p=a.postCallbackFn,l="function"===typeof p,s=a.internalCallbackName;h.abortRequests||(h.firing=!0,window[s]=function(g){try{g!==Object(g)&&(g={});D&&(z.ibsDeleted.push(g.ibs),delete g.ibs);var k=a.callbackFn;h.firing=!1;h.fired.push(a);h.num_of_jsonp_responses++;k(g,c);l&&p(g,c)}catch(r){r.message="DIL jsonp callback caught error with message "+r.message;b=r.message;d.push(b);r.filename=r.filename||"dil.js";r.partner=f;DIL.errorModule.handleError(r);try{k({error:r.name+"|"+r.message},c),l&&p({error:r.name+"|"+r.message},c)}catch(x){}}finally{h.requestRemoval({script:m,callbackName:s}),h.registerRequest()}},L?(h.firing=!1,h.requestRemoval({script:"no script created",callbackName:s})):(m=document.createElement("script"),m.addEventListener&&m.addEventListener("error",function(c){h.requestRemoval({script:m,callbackName:s});b="jsonp script tag error listener received the event of type "+c.type+" with src "+x;g.handleScriptError(b,a)},!1),m.type="text/javascript",m.src=x,k=DIL.variables.scriptNodeList[0],k.parentNode.insertBefore(m,k)),h.sent.push(a),h.declaredId.declaredId.request=null)},fireCORS:function(a,c){function g(r){var m;try{if(m=JSON.parse(r),m!==Object(m)){h.handleCORSError(a,c,"Response is not JSON");return}}catch(p){h.handleCORSError(a,c,"Error parsing response as JSON");return}try{var x=a.callbackFn;k.firing=!1;k.fired.push(a);k.num_of_cors_responses++;x(m,c);n&&s(m,c)}catch(l){l.message="DIL handleCORSResponse caught error with message "+l.message;b=l.message;d.push(b);l.filename=l.filename||"dil.js";l.partner=f;DIL.errorModule.handleError(l);try{x({error:l.name+"|"+l.message},c),n&&s({error:l.name+"|"+l.message},c)}catch(q){}}finally{k.registerRequest()}}var h=this,k=q,m=this.corsMetadata.corsType,x=a.corsSrc,p=a.corsInstance,l=a.corsPostData,s=a.postCallbackFn,n="function"===typeof s;if(!k.abortRequests){k.firing=!0;if(M)k.firing=!1;else try{p.open("post",x,!0),"XMLHttpRequest"===m?(p.withCredentials=!0,p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.onreadystatechange=function(){4===this.readyState&&(200===this.status?g(this.responseText):h.handleCORSError(a,c,"onreadystatechange"))}):"XDomainRequest"===m&&(p.onload=function(){g(this.responseText)}),p.onerror=function(){h.handleCORSError(a,c,"onerror")},p.ontimeout=function(){h.handleCORSError(a,c,"ontimeout")},p.send(l)}catch(u){this.handleCORSError(a,c,"try-catch")}k.sent.push(a);k.declaredId.declaredId.request=null}},handleCORSError:function(a,b,c){a.hasCORSError||(a.hasCORSError=!0,q.num_of_cors_errors++,q.corsErrorSources.push(c),a.tag="script",this.fireScript(a,b))},handleScriptError:function(a,b){q.num_of_jsonp_errors++;this.handleRequestError(a,b)},handleRequestError:function(a,b){var c=q;d.push(a);c.abortRequests=!0;c.firing=!1;c.errored.push(b);c.registerRequest()}},w={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeEmptyArrayValues:function(a){for(var b=0,c=a.length,d,f=[],b=0;b<c;b++)d=a[b],"undefined"!==typeof d&&null!==d&&""!==d&&f.push(d);return f},isPopulatedString:function(a){return"string"===typeof a&&a.length}},v={addListener:function(){if(document.addEventListener)return function(a,b,c){a.addEventListener(b,function(a){"function"===typeof c&&c(a)},!1)};if(document.attachEvent)return function(a,b,c){a.attachEvent("on"+
b,function(a){"function"===typeof c&&c(a)})}}(),convertObjectToKeyValuePairs:function(a,b,c){var d=[],f,g;b||(b="=");for(f in a)a.hasOwnProperty(f)&&(g=a[f],"undefined"!==typeof g&&null!==g&&""!==g&&d.push(f+b+(c?encodeURIComponent(g):g)));return d},encodeAndBuildRequest:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)},map:function(a,b){if(Array.prototype.map)return a.map(b);if(void 0===a||null===a)throw new TypeError;var c=Object(a),d=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var f=Array(d),g=0;g<d;g++)g in c&&(f[g]=b.call(b,c[g],g,c));return f},filter:function(a,b){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var c=Object(a),d=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var g=[],f=0;f<d;f++)if(f in c){var k=c[f];b.call(b,k,f,c)&&g.push(k)}return g}return a.filter(b)},getCookie:function(a){a+="=";var b=document.cookie.split(";"),c,d,f;c=0;for(d=b.length;c<d;c++){for(f=b[c];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(a))return decodeURIComponent(f.substring(a.length,f.length))}return null},setCookie:function(a,b,c,d,f,g){var k=new Date;c&&(c*=6E4);document.cookie=a+"="+encodeURIComponent(b)+(c?";expires="+(new Date(k.getTime()+c)).toUTCString():"")+(d?";path="+d:"")+(f?";domain="+f:"")+(g?";secure":"")},extendArray:function(a,b){return a instanceof Array&&b instanceof Array?(Array.prototype.push.apply(a,b),!0):!1},extendObject:function(a,b,c){var d;if(a===Object(a)&&b===Object(b)){for(d in b)!b.hasOwnProperty(d)||!w.isEmptyObject(c)&&d in c||(a[d]=b[d]);return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(B.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60}};"error"===f&&0===k&&v.addListener(window,"load",function(){DIL.windowLoaded=!0});var S=!1,F=function(){S||(S=!0,q.registerRequest(),U(),n||q.abortRequests||z.attachIframe(),q.readyToRemove=!0,q.requestRemoval())},U=function(){n||setTimeout(function(){N||q.firstRequestHasFired||("function"===typeof G?I.afterResult(G).submit():I.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)},T=document;"error"!==f&&(DIL.windowLoaded?F():"complete"!==T.readyState&&"loaded"!==T.readyState?v.addListener(window,"load",function(){DIL.windowLoaded=!0;F()}):(DIL.windowLoaded=!0,F()));q.declaredId.setDeclaredId(x,"init");q.processVisitorAPI();this.api=I;this.getStuffedVariable=function(a){var b=H.stuffed[a];b||"number"===typeof b||(b=v.getCookie(a))||"number"===typeof b||(b="");return b};this.validators=w;this.helpers=v;this.constants=B;this.log=d;R&&(this.pendingRequest=l,this.requestController=q,this.setDestinationPublishingUrl=g,this.destinationPublishing=z,this.requestProcs=C,this.variables=H,this.callWindowLoadFunctions=F)},function(){var a=document,c;null==a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",c=function(){a.removeEventListener("DOMContentLoaded",c,!1);a.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(a){var c;if(a===Object(a))for(c in a)a.hasOwnProperty(c)&&(this[c]=a[c])},DIL.extendStaticPropertiesAndMethods({version:"6.2",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(a){this.windowLoaded="function"===typeof a?!!a():"boolean"===typeof a?a:!0},create:function(a){try{return new DIL(a)}catch(c){return(new Image(0,0)).src="http://error.demdex.net/event?d_nsid=0&d_px=14137&d_ld=name%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+
(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},registerDil:function(a,c,d){c=c+"$"+d;c in this.dils||(this.dils[c]=a)},getDil:function(a,c){var d;"string"!==typeof a&&(a="");c||(c=0);d=a+"$"+c;return d in this.dils?this.dils[d]:Error("The DIL instance with partner = "+a+" and containerNSID = "+c+" was not found")},dexGetQSVars:function(a,c,d){c=this.getDil(c,d);return c instanceof this?c.getStuffedVariable(a):""},xd:{postMessage:function(a,c,d){var b=1;c&&(window.postMessage?d.postMessage(a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(d.location=c.replace(/#.*$/,"")+"#"+ +new Date+b++ +"&"+a))}}}),DIL.errorModule=function(){var a=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),c={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},d=!1;return{activate:function(){d=!0},handleError:function(b){if(!d)return"DIL error module has not been activated";b!==Object(b)&&(b={});var g=b.name?(b.name+"").toLowerCase():"",f=[];b={name:g,filename:b.filename?b.filename+"":"",partner:b.partner?b.partner+"":"no_partner",site:b.site?b.site+"":document.location.href,message:b.message?b.message+"":""};f.push(g in c?c[g]:c.noerrortypedefined);a.api.pixels(f).logs(b).useImageRequest().submit();return"DIL error report sent"},pixelMap:c}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(a,c,d){var b="";c=c||"Error caught in DIL module/submodule: ";a===Object(a)?b=c+(a.message||"err has no message"):(b=c+"err is not a valid object",a={});a.message=b;d instanceof DIL&&(a.partner=d.api.getPartner());DIL.errorModule.handleError(a);return this.errorMessage=b}}});DIL.tools.getSearchReferrer=function(a,c){var d=DIL.getDil("error"),b=DIL.tools.decomposeURI(a||document.referrer),g="",f="",k={queryParam:"q"};return(g=d.helpers.filter([c===Object(c)?c:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(a){return!(!a.hasOwnProperty("hostPattern")||!b.hostname.match(a.hostPattern))}).shift())?{valid:!0,name:b.hostname,keywords:(d.helpers.extendObject(k,g),f=k.queryPattern?(g=(""+b.search).match(k.queryPattern))?g[1]:"":b.uriParams[k.queryParam],decodeURIComponent(f||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}};DIL.tools.decomposeURI=function(a){var c=DIL.getDil("error"),d=document.createElement("a");d.href=a||document.referrer;return{hash:d.hash,host:d.host.split(":").shift(),hostname:d.hostname,href:d.href,pathname:d.pathname.replace(/^\//,""),protocol:d.protocol,search:d.search,uriParams:function(a,d){c.helpers.map(d.split("&"),function(c){c=c.split("=");a[c.shift()]=c.shift()});return a}({},d.search.replace(/^(\/|\?)?|\/$/g,""))}};DIL.tools.getMetaTags=function(){var a={},c=document.getElementsByTagName("meta"),d,b,g,f,k;d=0;for(g=arguments.length;d<g;d++)if(f=arguments[d],null!==f)for(b=0;b<c.length;b++)if(k=c[b],k.name===f){a[f]=k.content;break}return a};DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,d,b){try{var g=this,f={name:"DIL Site Catalyst Module Error"},k=function(a){f.message=a;DIL.errorModule.handleError(f);return a};this.options=b===Object(b)?b:{};this.dil=null;if(c instanceof DIL)this.dil=c;else return k("dilInstance is not a valid instance of DIL");f.partner=c.api.getPartner();if(a!==Object(a))return k("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=a.m_DIL=function(a){var b="function"===typeof a.m_i?a.m_i("DIL"):this;if(b!==Object(b))return k("m is not an object");b.trackVars=g.constructTrackVars(d);b.d=0;b.s=a;b._t=function(){var a,b,c=","+this.trackVars+",",d=this.s,f,s=[];f=[];var n={},u=!1;if(d!==Object(d))return k("Error in m._t function: s is not an object");if(this.d){if("function"===typeof d.foreachVar)d.foreachVar(function(a,b){"undefined"!==typeof b&&(n[a]=b,u=!0)},this.trackVars);else{if(!(d.va_t instanceof Array))return k("Error in m._t function: s.va_t is not an array");if(d.lightProfileID)(a=d.lightTrackVars)&&(a=","+a+","+d.vl_mr+",");else if(d.pe||d.linkType)a=d.linkTrackVars,d.pe&&(b=d.pe.substring(0,1).toUpperCase()+d.pe.substring(1),d[b]&&(a=d[b].trackVars)),a&&(a=","+a+","+d.vl_l+","+d.vl_l2+",");if(a){b=0;for(s=a.split(",");b<s.length;b++)0<=c.indexOf(","+s[b]+",")&&f.push(s[b]);f.length&&(c=","+f.join(",")+",")}f=0;for(b=d.va_t.length;f<b;f++)a=d.va_t[f],0<=c.indexOf(","+a+",")&&"undefined"!==typeof d[a]&&null!==d[a]&&""!==d[a]&&(n[a]=d[a],u=!0)}g.includeContextData(d,n).store_populated&&(u=!0);u&&this.d.api.signals(n,"c_").submit()}}};a.loadModule("DIL");a.DIL.d=c;return f.message?f.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(n){return this.handle(n,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(a){var c=[],d,b,g,f,k;if(a===Object(a)){d=a.names;if(d instanceof Array&&(g=d.length))for(b=0;b<g;b++)f=d[b],"string"===typeof f&&f.length&&c.push(f);a=a.iteratedNames;if(a instanceof Array&&(g=a.length))for(b=0;b<g;b++)if(d=a[b],d===Object(d)&&(f=d.name,k=parseInt(d.maxIndex,10),"string"===typeof f&&f.length&&!isNaN(k)&&0<=k))for(d=0;d<=k;d++)c.push(f+d);if(c.length)return c.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(a,c){var d={},b=!1;if(a.contextData===Object(a.contextData)){var g=a.contextData,f=this.options.replaceContextDataPeriodsWith,k=this.options.filterFromContextVariables,n={},u,s,m,p;"string"===typeof f&&f.length||(f="_");if(k instanceof Array)for(u=0,s=k.length;u<s;u++)m=k[u],this.dil.validators.isPopulatedString(m)&&(n[m]=!0);for(p in g)!g.hasOwnProperty(p)||n[p]||!(k=g[p])&&"number"!==typeof k||(p=("contextData."+p).replace(/\./g,f),c[p]=k,b=!0)}d.store_populated=b;return d}};DIL.modules.GA={dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,d){try{this.tv=this.arr=this.dil=null;this.errorMessage="";this.signals={};this.hasSignals=!1;var b={name:"DIL GA Module Error"},g="";c instanceof DIL?(this.dil=c,b.partner=this.dil.api.getPartner()):(g="dilInstance is not a valid instance of DIL",b.message=g,DIL.errorModule.handleError(b));a instanceof Array&&a.length?this.arr=a:(g="gaArray is not an array or is empty",b.message=g,DIL.errorModule.handleError(b));this.tv=this.constructTrackVars(d);this.errorMessage=g}catch(f){this.handle(f,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(a){var c=[],d,b,g,f;if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){g=this.defaultTrackVars;f={};d=0;for(b=g.length;d<b;d++)f[g[d]]=!0;this.defaultTrackVarsObj=f}else f=this.defaultTrackVarsObj;if(a===Object(a)){a=a.names;if(a instanceof Array&&(b=a.length))for(d=0;d<b;d++)g=a[d],"string"===typeof g&&g.length&&g in f&&c.push(g);if(c.length)return c}return this.defaultTrackVars},constructGAObj:function(a){var c={};a=a instanceof Array?a:this.arr;var d,b,g,f;d=0;for(b=a.length;d<b;d++)g=a[d],g instanceof Array&&g.length&&(g=[],f=a[d],g instanceof Array&&f instanceof Array&&Array.prototype.push.apply(g,f),f=g.shift(),"string"===typeof f&&f.length&&(c[f]instanceof Array||(c[f]=[]),c[f].push(g)));return c},addToSignals:function(a,c){if("string"!==typeof a||""===a||null==c||""===c)return!1;this.signals[a]instanceof Array||(this.signals[a]=[]);this.signals[a].push(c);return this.hasSignals=!0},constructSignals:function(){var a=this.constructGAObj(),c={_setAccount:function(a){this.addToSignals("c_accountId",a)},_setCustomVar:function(a,b,c){"string"===typeof b&&b.length&&this.addToSignals("c_"+b,c)},_addItem:function(a,b,c,d,f,g){this.addToSignals("c_itemOrderId",a);this.addToSignals("c_itemSku",b);this.addToSignals("c_itemName",c);this.addToSignals("c_itemCategory",d);this.addToSignals("c_itemPrice",f);this.addToSignals("c_itemQuantity",g)},_addTrans:function(a,b,c,d,f,g,k,n){this.addToSignals("c_transOrderId",a);this.addToSignals("c_transAffiliation",b);this.addToSignals("c_transTotal",c);this.addToSignals("c_transTax",d);this.addToSignals("c_transShipping",f);this.addToSignals("c_transCity",g);this.addToSignals("c_transState",k);this.addToSignals("c_transCountry",n)},_trackSocial:function(a,b,c,d){this.addToSignals("c_socialNetwork",a);this.addToSignals("c_socialAction",b);this.addToSignals("c_socialTarget",c);this.addToSignals("c_socialPagePath",d)}},d=this.tv,b,g,f,k,n,u;b=0;for(g=d.length;b<g;b++)if(f=d[b],a.hasOwnProperty(f)&&c.hasOwnProperty(f)&&(u=a[f],u instanceof Array))for(k=0,n=u.length;k<n;k++)c[f].apply(this,u[k])},submit:function(){try{if(""!==this.errorMessage)return this.errorMessage;this.constructSignals();return this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)+this.dil.log):"No signals present"}catch(a){return this.handle(a,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:DIL.modules.helpers.handleModuleError,callback:null,v:function(){return!1},init:function(a,c,d){try{this.callback=this.dil=null,this.errorMessage="",a instanceof DIL?(this.dil=a,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(c)?c:"aam_ga",this.delimiter=this.v(d)?d:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(b){this.handle(b,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(a){var c,d,b,g,f,k;k=!1;var n=1;if(a===Object(a)&&(c=a.stuff)&&c instanceof Array&&(d=c.length))for(a=0;a<d;a++)if((b=c[a])&&b===Object(b)&&(g=b.cn,f=b.cv,g===this.cookieName&&this.v(f))){k=!0;break}if(k){c=f.split(this.delimiter);"undefined"===typeof window._gaq&&(window._gaq=[]);b=window._gaq;a=0;for(d=c.length;a<d&&!(k=c[a].split("="),f=k[0],k=k[1],this.v(f)&&this.v(k)&&b.push(["_setCustomVar",n++,f,k,1]),n>this.LIMIT);a++);this.errorMessage=1<n?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"===typeof this.callback)return this.callback()},submit:function(){try{var a=this;if(""!==this.errorMessage)return this.errorMessage;this.dil.api.afterResult(function(c){a.process(c)}).submit();return"DIL.modules.GA.Stuffer.submit() successful"}catch(c){return this.handle(c,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}};DIL.modules.Peer39={aid:"",dil:null,optionals:null,errorMessage:"",calledBack:!1,script:null,scriptsSent:[],returnedData:[],handle:DIL.modules.helpers.handleModuleError,init:function(a,c,d){try{this.dil=null;this.errorMessage="";this.calledBack=!1;this.optionals=d===Object(d)?d:{};d={name:"DIL Peer39 Module Error"};var b=[],g="";this.isSecurePageButNotEnabled(document.location.protocol)&&(g="Module has not been enabled for a secure page",b.push(g),d.message=g,DIL.errorModule.handleError(d));c instanceof
DIL?(this.dil=c,d.partner=this.dil.api.getPartner()):(g="dilInstance is not a valid instance of DIL",b.push(g),d.message=g,DIL.errorModule.handleError(d));"string"===typeof a&&a.length?this.aid=a:(g="aid is not a string or is empty",b.push(g),d.message=g,DIL.errorModule.handleError(d));this.errorMessage=b.join("\n")}catch(f){this.handle(f,"DIL.modules.Peer39.init() caught error with message ",this.dil)}finally{return this}},isSecurePageButNotEnabled:function(a){return"https:"===a&&!0!==this.optionals.enableHTTPS?!0:!1},constructSignals:function(){var a=this,c=this.constructScript(),d=DIL.variables.scriptNodeList[0];window["afterFinished_"+this.aid]=function(){try{var b=a.processData(p39_KVP_Short("c_p","|").split("|"));b.hasSignals&&a.dil.api.signals(b.signals).submit()}catch(c){}finally{a.calledBack=!0,"function"===typeof a.optionals.afterResult&&a.optionals.afterResult()}};d.parentNode.insertBefore(c,d);this.scriptsSent.push(c);return"Request sent to Peer39"},processData:function(a){var c,d,b,g,f={},k=!1;this.returnedData.push(a);if(a instanceof Array)for(c=0,d=a.length;c<d;c++)b=a[c].split("="),g=b[0],b=b[1],g&&isFinite(b)&&!isNaN(parseInt(b,10))&&(f[g]instanceof Array||(f[g]=[]),f[g].push(b),k=!0);return{hasSignals:k,signals:f}},constructScript:function(){var a=document.createElement("script"),c=this.optionals,d=c.scriptId,b=c.scriptSrc,c=c.scriptParams;a.id="string"===typeof d&&d.length?d:"peer39ScriptLoader";a.type="text/javascript";"string"===typeof b&&b.length?a.src=b:(a.src=(this.dil.constants.IS_HTTPS?"https:":"http:")+"//stags.peer39.net/"+this.aid+"/trg_"+this.aid+".js","string"===typeof c&&c.length&&(a.src+="?"+c));return a},submit:function(){try{return""!==this.errorMessage?this.errorMessage:this.constructSignals()}catch(a){return this.handle(a,"DIL.modules.Peer39.submit() caught error with message ",this.dil)}}};}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(!(document.domain==="m.vodafone.es"||document.domain==="assets-es-prodref.myvdf.aws.cps.vodafone.com")){try{window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};window.utag_cfg_ovrd.nocookie=true;window.utag.cfg.ovrd.nocookie=true;}catch(e){}}
sendMsisdn=function(msisdn){var numeroTelefono=msisdn;$.ajax({'url':"https://3qas14kvni.execute-api.eu-central-1.amazonaws.com/prod/vfencrypt2",'data':JSON.stringify({'msisdn':[numeroTelefono],'action':'encrypt','country_code':'34','third_party':'analytics'}),'type':'POST','processData':false}).done(function(res){setCookie("div_msisdn",encodeURIComponent(res[0]),180);});};window.setCookie=function(c_name,value,exdays)
{try
{var exdate=new Date();exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+((exdays===null)?"":"; expires="+exdate.toUTCString())+"; path="+escape("/");document.cookie=c_name+"="+c_value;}
catch(e)
{console.log("Funciones auxiliares - Error en setCookie")}}
window.setCookieSC=function(c_name,value,exdays){try{var exdate=new Date();exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+((exdays==null)?"":"; expires="+exdate.toUTCString())+"; path=/";document.cookie=c_name+"="+c_value;}catch(e){}}
window.setCookieDomainSC=function(name,value,exdays,domain){var exdate=new Date();exdate.setDate(exdate.getDate()+exdays);document.cookie=name+"="+escape(value)+((exdays==null)?"":"; expires="+exdate.toUTCString())+((domain)?"; domain="+domain:"")+"; path=/";}
window.getCookie=function(c_name)
{try
{var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++)
{x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name)
{return unescape(y);}}
return'';}
catch(e)
{console.log("Funciones auxiliares - Error en getCookie")}}
window.getCookieSC=function(c_name){var c_value=document.cookie;var
c_start=c_value.indexOf(" "+c_name+"=");if(c_start==-1){c_start=c_value.indexOf(c_name+"=");}
if(c_start==-1){c_value=null;}else{c_start=c_value.indexOf("=",c_start)+1;var c_end=c_value.indexOf(";",c_start);if(c_end==-1){c_end=c_value.length;}
c_value=unescape(c_value.substring(c_start,c_end));}
return c_value;}
window.getParameterByNameNoDecode=function(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return results[2].replace(/\+/g," ");}
}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{function prepend(value,max,char){if(typeof value=="string"){if(value.length>=max){return value;}else{var result=value;for(let i=0;i<max-value.length;i++){result+=char;}
return result;}}}
function removeURLParameter(url,parameter){var urlparts=url.split('?');if(urlparts.length>=2){var prefix=encodeURIComponent(parameter)+'=';var pars=urlparts[1].split(/[&;]/g);for(var i=pars.length;i-->0;){if(pars[i].lastIndexOf(prefix,0)!==-1){pars.splice(i,1);}}
return urlparts[0]+(pars.length>0?'?'+pars.join('&'):'');}
return url;}
window.qs=(function(a){if(a=="")return{};var b={};for(var i=0;i<a.length;++i)
{var p=a[i].split('=',2);if(p.length==1)
b[p[0]]="";else
b[p[0]]=decodeURIComponent(p[1].replace(/\+/g," "));}
return b;})(window.location.search.substr(1).split('&'));window.sendView=function(objeto_recibido){if(typeof hotjar_pv!="undefined")hotjar_pv();if(typeof s!=="undefined"&&s["clearVars"]!=="undefined"){s.clearVars();}
if(typeof gb!=="undefined"&&gb["clearVars"]!=="undefined"){gb.clearVars();}
if(getCookieSC('pageNameAnteriorOW')&&getCookieSC('pageNameAnteriorOW')!=''&&(objeto_recibido["page_name"]!=getCookieSC('pageNameAnteriorOW'))){var pageNameAnterior=getCookieSC('pageNameAnteriorOW');setCookieSC('pageNameAnteriorOW',objeto_recibido["page_name"]);window.pageNameAnteriorOW=pageNameAnterior;}else{setCookieSC('pageNameAnteriorOW',objeto_recibido["page_name"]);}
if(typeof objeto_recibido["journey_name"]!='undefined'&&objeto_recibido["journey_name"]!=""){window.journeyNameOW=objeto_recibido["journey_name"];}
var utag_data={};utag_data=objeto_recibido;if(utag_data["page_url"].indexOf("preregister")>-1&&utag_data["page_url"].indexOf("user")>-1){utag_data["page_url"]=removeURLParameter(utag_data["page_url"],"user");}
if(utag_data["service_plan"]!=undefined&&utag_data["service_plan"]!=""){var service_plan=utag_data["service_plan"];var yuproductos=["tpydp","tpydi","ix30y","vn301","ix601","vn601"];if(yuproductos.includes(service_plan)){utag.data.client_service_plan="yu";}
else{utag.data.client_service_plan="vodafone";}}
if(document.location.href.indexOf("cn=chatbot")>-1){utag_data.entrypoint_location=qs["cn"];if(document.location.href.indexOf("ta=")>-1){utag_data.entrypoint_section=qs["ta"];}
if(document.location.href.indexOf("pr=")>-1){utag_data.entrypoint_title=qs["pr"];}
if(document.location.href.indexOf("spr=")>-1){utag_data.entrypoint_code=qs["spr"];}}
if(utag_data["&&products"]!=undefined&&utag_data["&&products"]!=""){utag_data["products"]=utag_data["&&products"];}
if(typeof(utag_data.serviceAES256)=='undefined'||utag_data.serviceAES256==''){if(typeof(utag_data.service_msisdn_aes)!='undefined'&&utag_data.service_msisdn_aes!=''){utag_data.serviceAES256=utag_data.service_msisdn_aes;}}
try{window._vf.digitalData.utils.logger.groupStart('Analytics Data Core',"background-color:#003f9c;padding:2px 0;color:#fff;font-weight:bold;font-size:14px",'\ud83d\udcc4 PAGEVIEW');window._vf.digitalData.utils.logger.time('Analytics Data Core','\ud83d\udd51 Duration');window._vf.digitalData.utils.logger.trace("Tealium","Trace");window._vf.digitalData.utils.logger.groupStart("Tealium","background-color:#0e62e0;padding:2px 0;color:#FFF;font-weight:bold;font-size:13px","utag.view()");var datalayer=utag_data;for(var key in datalayer){if(typeof(datalayer[key])!='undefined'&&datalayer[key]!=null){var dlkey=prepend(key,30,' ');var type=Object.prototype.toString.call(datalayer[key]);if(type=='[object Array]'||type=='[object Object]'){window._vf.digitalData.utils.logger.info('',"%c "+dlkey+" : "+JSON.stringify(datalayer[key])+" ","padding:2px 0;font-weight:bold;font-size:12px");}else if(type=='[object String]'){window._vf.digitalData.utils.logger.info('',"%c "+dlkey+" : '"+datalayer[key]+"' ","padding:2px 0;font-weight:bold;font-size:12px");}}}
window._vf.digitalData.utils.logger.groupEnd();utag_data.call_type="view"
utag.view(utag_data);window._vf.digitalData.utils.logger.timeEnd('Analytics Data Core','\ud83d\udd51 Duration',"background-color:#7f7f7f;padding:2px 0;color:#FFF;font-weight:bold;font-size:13px");window._vf.digitalData.utils.logger.groupEnd();}catch(e){console.log("ERROR: Error en funcin sendView");}};window.sendLink=function(objeto_recibido){try{if(typeof s!=="undefined"&&s["clearVars"]!=="undefined"){s.clearVars();}
if(typeof gb!=="undefined"&&gb["clearVars"]!=="undefined"){gb.clearVars();}
var utag_data={};if(Object.keys(objeto_recibido).length==0)
{objeto_recibido=objeto_recibido.__proto__;}
if(getCookieSC('journeyAnteriorOW')&&getCookieSC('journeyAnteriorOW')!=''){var journeyAnterior=getCookieSC('journeyAnteriorOW');setCookieSC('journeyAnteriorOW',objeto_recibido["journey_name"]);window.journeyAnteriorOW=journeyAnterior;}else{setCookieSC('journeyAnteriorOW',objeto_recibido["journey_name"]);}
if(typeof objeto_recibido["journey_name"]!='undefined'&&objeto_recibido["journey_name"]!=""){window.journeyNameOW=objeto_recibido["journey_name"];}
utag_data=objeto_recibido;if(utag_data["page_url"].indexOf("preregister")>-1&&utag_data["page_url"].indexOf("user")>-1){utag_data["page_url"]=removeURLParameter(utag_data["page_url"],"user");}
if(utag_data["service_plan"]!=undefined&&utag_data["service_plan"]!=""){var service_plan=utag_data["service_plan"];var yuproductos=["tpydp","tpydi","ix30y","vn301","ix601","vn601"];if(yuproductos.includes(service_plan)){utag.data.client_service_plan="yu";}
else{utag.data.client_service_plan="vodafone";}}
if(utag_data["&&products"]!=undefined&&utag_data["&&products"]!=""){utag_data["products"]=utag_data["&&products"];}
if(typeof(utag_data.serviceAES256)=='undefined'||utag_data.serviceAES256==''){if(typeof(utag_data.service_msisdn_aes)!='undefined'&&utag_data.service_msisdn_aes!=''){utag_data.serviceAES256=utag_data.service_msisdn_aes;}}
var link_text=(utag_data["event_name"]!=undefined&&utag_data["event_name"]!="")?utag_data["event_name"]:(utag_data["journey_name"]!=undefined&&utag_data["journey_name"]!="")?utag_data["journey_name"]:"sin descripcion";if(link_text.indexOf("descarga:")!=-1)
{utag_data["link_type"]="d";}
if(utag_data["event_name"]!=undefined&&utag_data["event_name"]!="")
{utag_data["link_text"]=utag_data["page_name"]+":"+link_text;}
else
{utag_data["link_text"]=link_text;}
window._vf.digitalData.utils.logger.groupStart('Analytics Data Core',"background-color:#003f9c;padding:2px 0;color:#fff;font-weight:bold;font-size:14px",'\ud83c\udfc1 EVENT');window._vf.digitalData.utils.logger.time('Analytics Data Core','\ud83d\udd51 Duration');window._vf.digitalData.utils.logger.trace("Tealium","Trace");window._vf.digitalData.utils.logger.groupStart("Tealium","background-color:#0e62e0;padding:2px 0;color:#FFF;font-weight:bold;font-size:13px","utag.link()");var datalayer=utag_data;for(var key in datalayer){if(typeof(datalayer[key])!='undefined'&&datalayer[key]!=null){var dlkey=prepend(key,30,' ');var type=Object.prototype.toString.call(datalayer[key]);if(type=='[object Array]'||type=='[object Object]'){window._vf.digitalData.utils.logger.info('',"%c "+dlkey+" : "+JSON.stringify(datalayer[key])+" ","padding:2px 0;font-weight:bold;font-size:12px");}else if(type=='[object String]'){window._vf.digitalData.utils.logger.info('',"%c "+dlkey+" : '"+datalayer[key]+"' ","padding:2px 0;font-weight:bold;font-size:12px");}}}
window._vf.digitalData.utils.logger.groupEnd();utag_data.call_type="link"
utag.link(utag_data);window._vf.digitalData.utils.logger.timeEnd('Analytics Data Core','\ud83d\udd51 Duration',"background-color:#7f7f7f;padding:2px 0;color:#FFF;font-weight:bold;font-size:13px");window._vf.digitalData.utils.logger.groupEnd();}catch(e){console.log("ERROR: Error en funcin sendLink");}};}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(document.domain==="m.vodafone.es"||document.domain==="assets-es-prodref.myvdf.aws.cps.vodafone.com"||document.domain==="assets-es-uat.myvdf.aws.cps.vodafone.com"||document.domain==="assets-es-staging2.myvdf.aws.cps.vodafone.com"||document.domain==="assets-es-hidden.dxl.local.vodafone.es"||document.domain==="assets-es-sit1.dxlpreprod.local.vodafone.es"||document.domain==="assets-es-pprd.dxlpreprod.local.vodafone.es"||document.domain==="assets-es-sit2.dxlpreprod.local.vodafone.es"){var e=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!j.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function i(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}function r(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function a(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}function o(e,t){if(e===t)return 0;var n=e.toString().split("."),o=t.toString().split(".");return i(n.concat(o))?(r(n,o),a(n,o)):NaN}function s(e){return e===Object(e)&&0===Object.keys(e).length}function l(e){return"function"==typeof e||e instanceof Array&&e.length}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=he("log",e,t),this.warn=he("warn",e,t),this.error=he("error",e,t)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isEnabled,n=e.cookieName,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.cookies;return t&&n&&r?{remove:function(){r.remove(n)},get:function(){var e=r.get(n),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},r.set(n,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}}:{get:Te,set:Te,remove:Te}}function d(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function f(){function e(e,t){var n=ve(e);return n.length?n.every(function(e){return!!t[e]}):De(t)}function t(){M(y),O(le.COMPLETE),_(h.status,h.permissions),m.set(h.permissions,{optInCookieDomain:l,optInStorageExpiry:c}),C.execute(Ne)}function n(e){return function(n,i){if(!Se(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return O(le.CHANGED),Object.assign(y,be(ve(n),e)),i||t(),h}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.doesOptInApply,a=i.previousPermissions,o=i.preOptInApprovals,s=i.isOptInStorageEnabled,l=i.optInCookieDomain,c=i.optInStorageExpiry,d=i.isIabContext,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=f.cookies,p=Le(a);Pe(p,"Invalid `previousPermissions`!"),Pe(o,"Invalid `preOptInApprovals`!");var m=u({isEnabled:!!s,cookieName:"adobeujs-optin"},{cookies:g}),h=this,_=se(h),C=ge(),I=Oe(p),v=Oe(o),D=m.get(),S={},b=function(e,t){return Me(e)||t&&Me(t)?le.COMPLETE:le.PENDING}(I,D),A=function(e,t,n){var i=be(fe,!r);return r?Object.assign({},i,e,t,n):i}(v,I,D),y=Ae(A),O=function(e){return b=e},M=function(e){return A=e};h.deny=n(!1),h.approve=n(!0),h.denyAll=h.deny.bind(h,fe),h.approveAll=h.approve.bind(h,fe),h.isApproved=function(t){return e(t,h.permissions)},h.isPreApproved=function(t){return e(t,v)},h.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?h.on(le.COMPLETE,e):Te;return!r||r&&h.isComplete||!!o?setTimeout(e(h.permissions),0):t||C.add(Ne,function(){return e(h.permissions)}),n},h.complete=function(){h.status===le.CHANGED&&t()},h.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(xe);S[e.name]||(S[e.name]=e,e.onRegister.call(e,h))},h.execute=Fe(S),Object.defineProperties(h,{permissions:{get:function(){return A}},status:{get:function(){return b}},Categories:{get:function(){return ce}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return h.status===le.PENDING}},isComplete:{get:function(){return h.status===le.COMPLETE}},__plugins:{get:function(){return Object.keys(S)}},isIabContext:{get:function(){return d}}})}function g(e,t){function n(){r=null,e.call(e,new d("The call took longer than you wanted!"))}function i(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(n,t);return i}function p(){if(window.__cmp)return window.__cmp;var e=window;if(e===window.top)return void Ce.error("__cmp not found");for(var t;!t;){e=e.parent;try{e.frames.__cmpLocator&&(t=e)}catch(e){}if(e===window.top)break}if(!t)return void Ce.error("__cmp not found");var n={};return window.__cmp=function(e,i,r){var a=Math.random()+"",o={__cmpCall:{command:e,parameter:i,callId:a}};n[a]=r,t.postMessage(o,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__cmpReturn){var i=t.__cmpReturn;n[i.callId]&&(n[i.callId](i.returnValue,i.success),delete n[i.callId])}},!1),window.__cmp}function m(){var e=this;e.name="iabPlugin",e.version="0.0.1";var t=ge(),n={allConsentData:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n[e]=t};e.fetchConsentData=function(e){var t=e.callback,n=e.timeout,i=g(t,n);r({callback:i})},e.isApproved=function(e){var t=e.callback,i=e.category,a=e.timeout;if(n.allConsentData)return t(null,s(i,n.allConsentData.vendorConsents,n.allConsentData.purposeConsents));var o=g(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.vendorConsents,a=n.purposeConsents;t(e,s(i,r,a))},a);r({category:i,callback:o})},e.onRegister=function(t){var n=Object.keys(ue),i=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.purposeConsents,a=i.gdprApplies,o=i.vendorConsents;!e&&a&&o&&r&&(n.forEach(function(e){var n=s(e,o,r);t[n?"approve":"deny"](e,!0)}),t.complete())};e.fetchConsentData({callback:i})};var r=function(e){var r=e.callback;if(n.allConsentData)return r(null,n.allConsentData);t.add("FETCH_CONSENT_DATA",r);var s={};o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.purposeConsents,o=e.gdprApplies,l=e.vendorConsents;(arguments.length>1?arguments[1]:void 0)&&(s={purposeConsents:r,gdprApplies:o,vendorConsents:l},i("allConsentData",s)),a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)&&(s.consentString=e.consentData,i("allConsentData",s)),t.execute("FETCH_CONSENT_DATA",[null,n.allConsentData])})})},a=function(e){var t=p();t&&t("getConsentData",null,e)},o=function(e){var t=Re(ue),n=p();n&&n("getVendorConsents",t,e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!!t[ue[e]];return i&&function(){return de[e].every(function(e){return n[e]})}()}}function h(e,t,n){var i=null==e?void 0:e[t];return void 0===i?n:i}var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e};var C,I,v={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},D={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},S={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",ALLFIELDS:"getVisitorValues"},b={CUSTOMERIDS:"getCustomerIDs"},A={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},y={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},O={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},M={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},k={GLOBAL:"global"},E={MESSAGES:v,STATE_KEYS_MAP:D,ASYNC_API_MAP:S,SYNC_API_MAP:b,ALL_APIS:A,FIELDGROUP_TO_FIELD:y,FIELDS:O,AUTH_STATE:M,OPT_OUT:k},T=E.STATE_KEYS_MAP,L=function(e){function t(){}function n(t,n){var i=this;return function(){var r=e(0,t),a={};return a[t]=r,i.setStateAndPublish(a),n(r),r}}var i=this;this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(T.MCMID,e),r=n.call(this,T.MCMID,e);return void 0!==i?i:r()},this.getVisitorValues=function(e){i.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},P=E.MESSAGES,w=E.ASYNC_API_MAP,R=E.SYNC_API_MAP,F=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(P.GETSTATE),""}}function n(n){this[w[n]]=function(i){i=i||e;var r=this.findField(n,i),a=t.call(this,n,i);return void 0!==r?r:a()}}function i(t){this[R[t]]=function(){return this.findField(t,e)||{}}}Object.keys(w).forEach(n,this),Object.keys(R).forEach(i,this)},N=E.ASYNC_API_MAP,x=function(){Object.keys(N).forEach(function(e){this[N[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},j=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)},n.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}),V=(j.isObjectEmpty,j.isValueEmpty,j.getIeVersion,j.encodeAndBuildRequest,j.isObject,j.defineGlobalNamespace,j.pluck,j.parseOptOut,j.normalizeBoolean,n),U=E.MESSAGES,H={0:"prefix",1:"orgID",2:"state"},B=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){if(void 0!==e){t[H[n]]=2!==n?e:JSON.parse(e)}}),t}catch(e){}},this.isInvalid=function(n){var i=this.parse(n);if(!i||Object.keys(i).length<2)return!0;var r=e!==i.orgID,a=!t||n.origin!==t,o=-1===Object.keys(U).indexOf(i.prefix);return r||a||o},this.send=function(n,i,r){var a=i+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{n.postMessage(a,t)}catch(e){}}},G=E.MESSAGES,q=function(e,t,n,i){function r(e){Object.assign(g,e)}function a(e){Object.assign(g.state,e),Object.assign(g.state.ALLFIELDS,e),g.callbackRegistry.executeAll(g.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);g.setStateAndPublish(t.state)}}function s(e){!m&&p&&(m=!0,h.send(i,e))}function l(){r(new L(n._generateID)),g.getMarketingCloudVisitorID(),g.callbackRegistry.executeAll(g.state,!0),_.removeEventListener("message",c)}function c(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,_.clearTimeout(g._handshakeTimeout),_.removeEventListener("message",c),r(new F(g)),_.addEventListener("message",o),g.setStateAndPublish(t.state),g.callbackRegistry.hasCallbacks()&&s(G.GETSTATE)}}function u(){p&&postMessage?(_.addEventListener("message",c),s(G.HANDSHAKE),g._handshakeTimeout=setTimeout(l,250)):l()}function d(){_.s_c_in||(_.s_c_il=[],_.s_c_in=0),g._c="Visitor",g._il=_.s_c_il,g._in=_.s_c_in,g._il[g._in]=g,_.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(g[e]=function(){})}Object.keys(n).forEach(e),g.getSupplementalDataID=n.getSupplementalDataID,g.isAllowed=function(){return!0}}var g=this,p=t.whitelistParentDomain;g.state={ALLFIELDS:{}},g.version=n.version,g.marketingCloudOrgID=e,g.cookieDomain=n.cookieDomain||"",g._instanceType="child";var m=!1,h=new B(e,p);g.callbackRegistry=V(),g.init=function(){d(),f(),r(new x(g)),u()},g.findField=function(e,t){if(g.state[e])return t(g.state[e]),g.state[e]},g.messageParent=s,g.setStateAndPublish=a},Y=E.MESSAGES,X=E.ALL_APIS,z=E.ASYNC_API_MAP,W=E.FIELDGROUP_TO_FIELD,J=function(e,t){function n(){var t={};return Object.keys(X).forEach(function(n){var i=X[n],r=e[i]();j.isValueEmpty(r)||(t[n]=r)}),t}function i(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=W[n];t.push(i)}}),t.length?t:null}function r(t){return function n(r){var a=i();if(a){var o=z[a[0]];e[o](n,!0)}else t()}}function a(e,i){var r=n();t.send(e,i,r)}function o(e){l(e),a(e,Y.HANDSHAKE)}function s(e){r(function(){a(e,Y.PARENTSTATE)})()}function l(n){function i(i){r.call(e,i),t.send(n,Y.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=i}return function(e){if(!t.isInvalid(e)){(t.parse(e).prefix===Y.HANDSHAKE?o:s)(e.source)}}},K=function(e,t){function n(e){return function(n){i[e]=n,r++,r===a&&t(i)}}var i={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,r)}})},Q=function(e){var t;if(!e&&_.location&&(e=_.location.hostname),t=e)if(/^[0-9.]+$/.test(t))t="";else{var n=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",i=t.split("."),r=i.length-1,a=r-1;if(r>1&&i[r].length<=2&&(2===i[r-1].length||n.indexOf(","+i[r]+",")<0)&&a--,a>0)for(t="";r>=a;)t=i[r]+(t?".":"")+t,r--}return t},$={compare:o,isLessThan:function(e,t){return o(e,t)<0},areVersionsDifferent:function(e,t){return 0!==o(e,t)},isGreaterThan:function(e,t){return o(e,t)>0},isEqual:function(e,t){return 0===o(e,t)}},Z=!!_.postMessage,ee={postMessage:function(e,t,n){var i=1;t&&(Z?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},receiveMessage:function(e,t){var n;try{Z&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),_.addEventListener?_[e?"addEventListener":"removeEventListener"]("message",n):_[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},te=function(e){var t,n,i="0123456789",r="",a="",o=8,s=10,l=10;if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),r+=i.substring(n,n+1),n=Math.floor(Math.random()*o),a+=i.substring(n,n+1),o=16;return r+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),r+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*l),a+=i.substring(n,n+1),0===t&&9==n?l=3:(1==t||2==t)&&10!=l&&2>n?l=10:2<t&&(l=10);return r+a},ne=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(_.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new _[this.corsMetadata.corsType]},fireCORS:function(t,n,i){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,r=_,o=0;o<i.length;o++)r=r[i[o]];r(n)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}var a=this;n&&(t.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,i){e.CORSErrors.push({corsData:t,error:n,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},ie={POST_MESSAGE_ENABLED:!!_.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},re=function(e,t){var n=_.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",r="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:ie.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){r=n.createElement("iframe"),r.sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=i.id,r.name=i.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=i.url,i.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var i,r=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var a,o,s,l=!1;for(a=0,o=this.jsonForComparison.length;a<o;a++)if(s=this.jsonForComparison[a],i===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!ie.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=ie.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var i=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=r)):(i=r)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)r=t[i],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,i,r,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,i=0;i<n;i++)r=t[i],a=[o("ibs"),o(r.id||""),o(r.tag||""),j.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,i){var r="syncOnPage"===i,a=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(a),c=!1,u=!1,d=Math.ceil((new Date).getTime()/ie.MILLIS_PER_DAY);l?(o=l.split("*"),s=this.pruneSyncData(o,t.id,d),c=s.dataPresent,u=s.dataValid,c&&u||this.fireSync(r,t,n,o,a,d)):(o=[],this.fireSync(r,t,n,o,a,d))},pruneSyncData:function(e,t,n){var i,r,a,o=!1,s=!1;for(r=0;r<e.length;r++)i=e[r],a=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(r,1),r--)):n>=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,i,r,a,o){var s=this;if(t){if("img"===n.tag){var l,c,u,d,f=n.url,g=e.loadSSL?"https:":"http:";for(l=0,c=f.length;l<c;l++){u=f[l],d=/^\/\//.test(u);var p=new Image;p.addEventListener("load",function(t,n,i,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,l=e._getField(a),c=[];if(l){o=l.split("*");var u,d,f;for(u=0,d=o.length;u<d;u++)f=o[u],f.match("^"+n.id+"-")||c.push(f)}s.setSyncTrackingData(c,n,i,r)}}(this.onPagePixels.length,n,a,o)),p.src=(d?g:"")+u,this.onPagePixels.push(p)}}}else this.addMessage(i),this.setSyncTrackingData(r,n,a,o)},addMessage:function(t){var n=encodeURIComponent,i=n(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((ie.POST_MESSAGE_ENABLED?"":i)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?ie.POST_MESSAGE_ENABLED?(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ee.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&(t=e.replace(n,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>ie.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},ae={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},oe={getConfigNames:function(){return Object.keys(ae)},getConfigs:function(){return ae},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},se=function(e){var t={};return e.on=function(e,n,i){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:n,context:i})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,n)})}},e.publish},le={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ce={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},ue=(C={},t(C,ce.AAM,565),t(C,ce.ECID,565),C),de=(I={},t(I,ce.AAM,[1,2,5]),t(I,ce.ECID,[1,2,5]),I),fe=function(e){return Object.keys(e).map(function(t){return e[t]})}(ce),ge=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!l(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var i=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=void 0===n?[]:n,n=n instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,n):i instanceof Array&&i[1].apply(i[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!s(t))&&Object.keys(e.callbacks).forEach(function(n){var i=void 0!==t[n]?t[n]:"";e.execute(n,i)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},pe=function(){},me=function(e){var t=window,n=t.console;return!!n&&"function"==typeof n[e]},he=function(e,t,n){return n()?function(){if(me(e)){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console[e].apply(console,[t].concat(i))}}:pe},_e=c,Ce=new _e("[ADOBE OPT-IN]"),Ie=function(t,n){return e(t)===n},ve=function(e,t){return e instanceof Array?e:Ie(e,"string")?[e]:t||[]},De=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},Se=function(e){return!(!e||ye(e))&&ve(e).every(function(e){return fe.indexOf(e)>-1})},be=function(e,t){return e.reduce(function(e,n){return e[n]=t,e},{})},Ae=function(e){return JSON.parse(JSON.stringify(e))},ye=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Oe=function(e){if(Ee(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Me=function(e){return void 0===e||(Ee(e)?Se(Object.keys(e)):ke(e))},ke=function(e){try{var t=JSON.parse(e);return!!e&&Ie(e,"string")&&Se(Object.keys(t))}catch(e){return!1}},Ee=function(e){return null!==e&&Ie(e,"object")&&!1===Array.isArray(e)},Te=function(){},Le=function(e){return Ie(e,"function")?e():e},Pe=function(e,t){Me(e)||Ce.error("".concat(t))},we=function(e){return Object.keys(e).map(function(t){return e[t]})},Re=function(e){return we(e).filter(function(e,t,n){return n.indexOf(e)===t})},Fe=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,i=t.params,r=void 0===i?{}:i,a=t.callback,o=void 0===a?Te:a;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),l=e[s[0]],c=s[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(r,{callback:o});l[c].call(l,u)}catch(e){Ce.error("[execute] Something went wrong: "+e.message)}}};d.prototype=Object.create(Error.prototype),d.prototype.constructor=d;var Ne="fetchPermissions",xe="[OptIn#registerPlugin] Plugin is invalid.";f.Categories=ce,f.TimeoutError=d;var je=Object.freeze({OptIn:f,IabPlugin:m}),Ve={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},set:function(e,t,n){var i=h(n,"cookieLifetime"),r=h(n,"expires"),a=h(n,"domain"),o=h(n,"secure"),s=o?"Secure":"";if(r&&"SESSION"!==i&&"NONE"!==i){var l=""!==t?parseInt(i||0,10):-60;if(l)r=new Date,r.setTime(r.getTime()+1e3*l);else if(1===r){r=new Date;var c=r.getYear();r.setYear(c+2+(c<1900?1900:0))}}else r=0;return e&&"NONE"!==i?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(a?" domain="+a+";":"")+s,this.get(e)===t):0},remove:function(e,t){var n=h(t,"domain");n=n?" domain="+n+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n}},Ue=function(e,t){e.publishDestinations=function(n){var i=arguments[1],r=arguments[2];try{r="function"==typeof r?r:n.callback}catch(e){r=function(){}}var a=t;if(!a.readyToAttachIframePreliminary())return void r({error:"The destination publishing iframe is disabled in the Visitor library."});if("string"==typeof n){if(!n.length)return void r({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void r({error:"messages is not a populated array."});var o=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&(a.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!j.isObject(n))return void r({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void r({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void r({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach(function(e){j.isObject(e)&&(e.hideReferrer?e.message&&a.addMessage(e.message):c.push(e))});!function e(){c.length&&setTimeout(function(){var t=new Image,n=c.shift();t.src=n.url,a.onPageDestinationsFired.push(n),e()},100)}()}a.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),a.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(a.subdomain=n,a.doAttachIframe=!0,a.url=a.getUrl(),a.readyToAttachIframe()?(a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),a.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}},He=je.OptIn;j.defineGlobalNamespace(),window.adobe.OptInCategories=He.Categories;var Be=function(t,n,i){function r(e){var t=e;return function(e){var n=e||h.location.href;try{var i=d._extractParamFromUri(n,t);if(i)return L.parsePipeDelimetedKeyValues(i)}catch(e){}}}function a(e){function t(e,t,n){e&&e.match(ie.VALID_VISITOR_ID_REGEX)&&(n===v&&(m=!0),t(e))}t(e[v],d.setMarketingCloudVisitorID,v),d._setFieldExpire(y,-1),t(e[b],d.setAnalyticsVisitorID)}function o(e){e=e||{},d._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",d._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},d._supplementalDataIDLast=e.supplementalDataIDLast||"",d._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function s(e){function t(e,t,n){return n=n?n+="|":n,n+=e+"="+encodeURIComponent(t)}function n(e,n){var i=n[0],r=n[1];return null!=r&&r!==O&&(e=t(i,r,e)),e}var i=e.reduce(n,"");return function(e){var t=L.getTimestampInSeconds();return e=e?e+="|":e,e+="TS="+t}(i)}function l(e){var t=e.minutesToLive,n="";return(d.idSyncDisableSyncs||d.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function c(){return!!d.configs.doesOptInApply&&!(f.optIn.isComplete&&u())}function u(){return d.configs.isIabContext?f.optIn.isApproved(f.optIn.Categories.ECID)&&p:f.optIn.isApproved(f.optIn.Categories.ECID)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var d=this,f=window.adobe,g="",p=!1,m=!1;d.version="4.3.0";var h=_,C=h.Visitor;C.version=d.version,C.AuthState=E.AUTH_STATE,C.OptOut=E.OPT_OUT,h.s_c_in||(h.s_c_il=[],h.s_c_in=0),d._c="Visitor",d._il=h.s_c_il,d._in=h.s_c_in,d._il[d._in]=d,h.s_c_in++,d._instanceType="regular",d._log={requests:[]},d.marketingCloudOrgID=t,d.cookieName="AMCV_"+t,d.sessionCookieName="AMCVS_"+t,d.cookieDomain=Q(),d.cookieDomain===h.location.hostname&&(d.cookieDomain=""),d.loadSSL=h.location.protocol.toLowerCase().indexOf("https")>=0,d.loadTimeout=3e4,d.CORSErrors=[],d.marketingCloudServer=d.audienceManagerServer="dpm.demdex.net",d.sdidParamExpiry=30;var I=null,v="MCMID",D="MCIDTS",S="A",b="MCAID",A="AAM",y="MCAAMB",O="NONE",M=function(e){return!Object.prototype[e]},k=ne(d);d.FIELDS=E.FIELDS,d.cookieRead=function(e){return Ve.get(e)},d.cookieWrite=function(e,t,n){var i=d.cookieLifetime?(""+d.cookieLifetime).toUpperCase():"",r=!1;return d.configs&&d.configs.secureCookie&&"https:"===location.protocol&&(r=!0),Ve.set(e,""+t,{expires:n,domain:d.cookieDomain,cookieLifetime:i,secure:r})},d.resetState=function(e){e?d._mergeServerState(e):o()},d._isAllowedDone=!1,d._isAllowedFlag=!1,d.isAllowed=function(){return d._isAllowedDone||(d._isAllowedDone=!0,(d.cookieRead(d.cookieName)||d.cookieWrite(d.cookieName,"T",1))&&(d._isAllowedFlag=!0)),"T"===d.cookieRead(d.cookieName)&&d._helpers.removeCookie(d.cookieName),d._isAllowedFlag},d.setMarketingCloudVisitorID=function(e){d._setMarketingCloudFields(e)},d._use1stPartyMarketingCloudServer=!1,d.getMarketingCloudVisitorID=function(e,t){d.marketingCloudServer&&d.marketingCloudServer.indexOf(".demdex.net")<0&&(d._use1stPartyMarketingCloudServer=!0);var n=d._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return d._getRemoteField(v,i,e,t,n)},d.getVisitorValues=function(e,t){var n={MCMID:{fn:d.getMarketingCloudVisitorID,args:[!0],context:d},MCOPTOUT:{fn:d.isOptedOut,args:[void 0,!0],context:d},MCAID:{fn:d.getAnalyticsVisitorID,args:[!0],context:d},MCAAMLH:{fn:d.getAudienceManagerLocationHint,args:[!0],context:d},MCAAMB:{fn:d.getAudienceManagerBlob,args:[!0],context:d}},i=t&&t.length?j.pluck(n,t):n;K(i,e)},d._currentCustomerIDs={},d._customerIDsHashChanged=!1,d._newCustomerIDsHash="",d.setCustomerIDs=function(t){function n(){d._customerIDsHashChanged=!1}if(!d.isOptedOut()&&t){if(!j.isObject(t)||j.isObjectEmpty(t))return!1;d._readVisitor();var i,r;for(i in t)if(M(i)&&(r=t[i]))if("object"===e(r)){var a={};r.id&&(a.id=r.id),void 0!=r.authState&&(a.authState=r.authState),d._currentCustomerIDs[i]=a}else d._currentCustomerIDs[i]={id:r};var o=d.getCustomerIDs(),s=d._getField("MCCIDH"),l="";s||(s=0);for(i in o)M(i)&&(r=o[i],l+=(l?"|":"")+i+"|"+(r.id?r.id:"")+(r.authState?r.authState:""));d._newCustomerIDsHash=String(d._hash(l)),d._newCustomerIDsHash!==s&&(d._customerIDsHashChanged=!0,d._mapCustomerIDs(n))}},d.getCustomerIDs=function(){d._readVisitor();var e,t,n={};for(e in d._currentCustomerIDs)M(e)&&(t=d._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),void 0!=t.authState?n[e].authState=t.authState:n[e].authState=C.AuthState.UNKNOWN);return n},d.setAnalyticsVisitorID=function(e){d._setAnalyticsFields(e)},d.getAnalyticsVisitorID=function(e,t,n){if(!L.isTrackingServerPopulated()&&!n)return d._callCallback(e,[""]),"";var i="";if(n||(i=d.getMarketingCloudVisitorID(function(t){d.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?d.marketingCloudServer:d.trackingServer,a="";d.loadSSL&&(n?d.marketingCloudServerSecure&&(r=d.marketingCloudServerSecure):d.trackingServerSecure&&(r=d.trackingServerSecure));var o={};if(r){var s="http"+(d.loadSSL?"s":"")+"://"+r+"/id",l="d_visid_ver="+d.version+"&mcorgid="+encodeURIComponent(d.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(d.idSyncDisable3rdPartySyncing||d.disableThirdPartyCookies?"&d_coppa=true":""),c=["s_c_il",d._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+l+"&callback=s_c_il%5B"+d._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+l,o.callback=c}return o.url=a,d._getRemoteField(n?v:b,a,e,t,o)}return""},d.getAudienceManagerLocationHint=function(e,t){if(d.getMarketingCloudVisitorID(function(t){d.getAudienceManagerLocationHint(e,!0)})){var n=d._getField(b);if(!n&&L.isTrackingServerPopulated()&&(n=d.getAnalyticsVisitorID(function(t){d.getAudienceManagerLocationHint(e,!0)})),n||!L.isTrackingServerPopulated()){var i=d._getAudienceManagerURLData(),r=i.url;return d._getRemoteField("MCAAMLH",r,e,t,i)}}return""},d.getLocationHint=d.getAudienceManagerLocationHint,d.getAudienceManagerBlob=function(e,t){if(d.getMarketingCloudVisitorID(function(t){d.getAudienceManagerBlob(e,!0)})){var n=d._getField(b);if(!n&&L.isTrackingServerPopulated()&&(n=d.getAnalyticsVisitorID(function(t){d.getAudienceManagerBlob(e,!0)})),n||!L.isTrackingServerPopulated()){var i=d._getAudienceManagerURLData(),r=i.url;return d._customerIDsHashChanged&&d._setFieldExpire(y,-1),d._getRemoteField(y,r,e,t,i)}}return""},d._supplementalDataIDCurrent="",d._supplementalDataIDCurrentConsumed={},d._supplementalDataIDLast="",d._supplementalDataIDLastConsumed={},d.getSupplementalDataID=function(e,t){d._supplementalDataIDCurrent||t||(d._supplementalDataIDCurrent=d._generateID(1));var n=d._supplementalDataIDCurrent;return d._supplementalDataIDLast&&!d._supplementalDataIDLastConsumed[e]?(n=d._supplementalDataIDLast,d._supplementalDataIDLastConsumed[e]=!0):n&&(d._supplementalDataIDCurrentConsumed[e]&&(d._supplementalDataIDLast=d._supplementalDataIDCurrent,d._supplementalDataIDLastConsumed=d._supplementalDataIDCurrentConsumed,d._supplementalDataIDCurrent=n=t?"":d._generateID(1),d._supplementalDataIDCurrentConsumed={}),n&&(d._supplementalDataIDCurrentConsumed[e]=!0)),n};var T=!1;d._liberatedOptOut=null,d.getOptOut=function(e,t){var n=d._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;if(u())return d._getRemoteField("MCOPTOUT",i,e,t,n);if(d._registerCallback("liberatedOptOut",e),null!==d._liberatedOptOut)return d._callAllCallbacks("liberatedOptOut",[d._liberatedOptOut]),T=!1,d._liberatedOptOut;if(T)return null;T=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),n.callback=[r],_[r]=function(e){if(e===Object(e)){var t,n,i=j.parseOptOut(e,t,O);t=i.optOut,n=1e3*i.d_ottl,d._liberatedOptOut=t,setTimeout(function(){d._liberatedOptOut=null},n)}d._callAllCallbacks("liberatedOptOut",[t]),T=!1},k.fireCORS(n),null},d.isOptedOut=function(e,t,n){t||(t=C.OptOut.GLOBAL);var i=d.getOptOut(function(n){var i=n===C.OptOut.GLOBAL||n.indexOf(t)>=0;d._callCallback(e,[i])},n);return i?i===C.OptOut.GLOBAL||i.indexOf(t)>=0:null},d._fields=null,d._fieldsExpired=null,d._hash=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},d._generateID=te,d._generateLocalMID=function(){var e=d._generateID(0);return w.isClientSideMarketingCloudVisitorID=!0,e},d._callbackList=null,d._callCallback=function(e,t){try{"function"==typeof e?e.apply(h,t):e[1].apply(e[0],t)}catch(e){}},d._registerCallback=function(e,t){t&&(null==d._callbackList&&(d._callbackList={}),void 0==d._callbackList[e]&&(d._callbackList[e]=[]),d._callbackList[e].push(t))},d._callAllCallbacks=function(e,t){if(null!=d._callbackList){var n=d._callbackList[e];if(n)for(;n.length>0;)d._callCallback(n.shift(),t)}},d._addQuerystringParam=function(e,t,n,i){var r=encodeURIComponent(t)+"="+encodeURIComponent(n),a=L.parseHash(e),o=L.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+a;var s=o.split("?"),l=s[0]+"?",c=s[1];return l+L.addQueryParamAtLocation(c,r,i)+a},d._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)"),i=n.exec(e);if(i&&i.length)return decodeURIComponent(i[1])},d._parseAdobeMcFromUrl=r(ie.ADOBE_MC),d._parseAdobeMcSdidFromUrl=r(ie.ADOBE_MC_SDID),d._attemptToPopulateSdidFromUrl=function(e){var n=d._parseAdobeMcSdidFromUrl(e),i=1e9;n&&n.TS&&(i=L.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&i<d.sdidParamExpiry&&(d._supplementalDataIDCurrent=n.SDID,d._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},d._attemptToPopulateIdsFromUrl=function(){var e=d._parseAdobeMcFromUrl();if(e&&e.TS){var n=L.getTimestampInSeconds(),i=n-e.TS;if(Math.floor(i/60)>ie.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;a(e)}},d._mergeServerState=function(e){if(e)try{if(e=function(e){return L.isObject(e)?e:JSON.parse(e)}(e),e[d.marketingCloudOrgID]){var t=e[d.marketingCloudOrgID];!function(e){L.isObject(e)&&d.setCustomerIDs(e)}(t.customerIDs),o(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},d._timeout=null,d._loadData=function(e,t,n,i){t=d._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=d._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=d._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),w.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===k.corsMetadata.corsType&&k.fireCORS(i,n,e)},d._clearTimeout=function(e){null!=d._timeout&&d._timeout[e]&&(clearTimeout(d._timeout[e]),d._timeout[e]=0)},d._settingsDigest=0,d._getSettingsDigest=function(){if(!d._settingsDigest){var e=d.version;d.audienceManagerServer&&(e+="|"+d.audienceManagerServer),d.audienceManagerServerSecure&&(e+="|"+d.audienceManagerServerSecure),d._settingsDigest=d._hash(e)}return d._settingsDigest},d._readVisitorDone=!1,d._readVisitor=function(){if(!d._readVisitorDone){d._readVisitorDone=!0;var e,t,n,i,r,a,o=d._getSettingsDigest(),s=!1,l=d.cookieRead(d.cookieName),c=new Date;if(l||m||d.discardTrackingServerECID||(l=d.cookieRead(ie.FIRST_PARTY_SERVER_COOKIE)),null==d._fields&&(d._fields={}),l&&"T"!==l)for(l=l.split("|"),l[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)t=l[e].split("-"),n=t[0],i=l[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),s&&("MCCIDH"===n&&(i=""),r>0&&(r=c.getTime()/1e3-60)),n&&i&&(d._setField(n,i,1),r>0&&(d._fields["expire"+n]=r+(a?"s":""),(c.getTime()>=1e3*r||a&&!d.cookieRead(d.sessionCookieName))&&(d._fieldsExpired||(d._fieldsExpired={}),d._fieldsExpired[n]=!0)));!d._getField(b)&&L.isTrackingServerPopulated()&&(l=d.cookieRead("s_vi"))&&(l=l.split("|"),l.length>1&&l[0].indexOf("v1")>=0&&(i=l[1],e=i.indexOf("["),e>=0&&(i=i.substring(0,e)),i&&i.match(ie.VALID_VISITOR_ID_REGEX)&&d._setField(b,i)))}},d._appendVersionTo=function(e){var t="vVersion|"+d.version,n=e?d._getCookieVersion(e):null;return n?$.areVersionsDifferent(n,d.version)&&(e=e.replace(ie.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},d._writeVisitor=function(){var e,t,n=d._getSettingsDigest();for(e in d._fields)M(e)&&d._fields[e]&&"expire"!==e.substring(0,6)&&(t=d._fields[e],n+=(n?"|":"")+e+(d._fields["expire"+e]?"-"+d._fields["expire"+e]:"")+"|"+t);n=d._appendVersionTo(n),d.cookieWrite(d.cookieName,n,1)},d._getField=function(e,t){return null==d._fields||!t&&d._fieldsExpired&&d._fieldsExpired[e]?null:d._fields[e]},d._setField=function(e,t,n){null==d._fields&&(d._fields={}),d._fields[e]=t,n||d._writeVisitor()},d._getFieldList=function(e,t){var n=d._getField(e,t);return n?n.split("*"):null},d._setFieldList=function(e,t,n){d._setField(e,t?t.join("*"):"",n)},d._getFieldMap=function(e,t){var n=d._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},d._setFieldMap=function(e,t,n){var i,r=null;if(t){r=[];for(i in t)M(i)&&(r.push(i),r.push(t[i]))}d._setFieldList(e,r,n)},d._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1e3*t),null==d._fields&&(d._fields={}),d._fields["expire"+e]=Math.floor(i.getTime()/1e3)+(n?"s":""),t<0?(d._fieldsExpired||(d._fieldsExpired={}),d._fieldsExpired[e]=!0):d._fieldsExpired&&(d._fieldsExpired[e]=!1),n&&(d.cookieRead(d.sessionCookieName)||d.cookieWrite(d.sessionCookieName,"1"))},d._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=O),t&&(t===O||t.match(ie.VALID_VISITOR_ID_REGEX))||(t="")),t},d._setFields=function(t,n){if(d._clearTimeout(t),null!=d._loading&&(d._loading[t]=!1),w.fieldGroupObj[t]&&w.setState(t,!1),"MC"===t){!0!==w.isClientSideMarketingCloudVisitorID&&(w.isClientSideMarketingCloudVisitorID=!1);var i=d._getField(v);if(!i||d.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(n)&&n.mid?n.mid:d._findVisitorID(n))){if(d._use1stPartyMarketingCloudServer&&!d.tried1stPartyMarketingCloudServer)return d.tried1stPartyMarketingCloudServer=!0,void d.getAnalyticsVisitorID(null,!1,!0);i=d._generateLocalMID()}d._setField(v,i)}i&&i!==O||(i=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&d._setFields(A,n),d._use1stPartyMarketingCloudServer&&n.mid&&d._setFields(S,{id:n.id})),d._callAllCallbacks(v,[i])}if(t===A&&"object"===e(n)){var r=604800;void 0!=n.id_sync_ttl&&n.id_sync_ttl&&(r=parseInt(n.id_sync_ttl,10));var a=P.getRegionAndCheckIfChanged(n,r);d._callAllCallbacks("MCAAMLH",[a]);var o=d._getField(y);(n.d_blob||n.blob)&&(o=n.d_blob,o||(o=n.blob),d._setFieldExpire(y,r),d._setField(y,o)),o||(o=""),d._callAllCallbacks(y,[o]),!n.error_msg&&d._newCustomerIDsHash&&d._setField("MCCIDH",d._newCustomerIDsHash)}if(t===S){var s=d._getField(b);s&&!d.overwriteCrossDomainMCIDAndAID||(s=d._findVisitorID(n),s?s!==O&&d._setFieldExpire(y,-1):s=O,d._setField(b,s)),s&&s!==O||(s=""),d._callAllCallbacks(b,[s])}if(d.idSyncDisableSyncs||d.disableIdSyncs)P.idCallNotProcesssed=!0;else{P.idCallNotProcesssed=!1;var l={};l.ibs=n.ibs,l.subdomain=n.subdomain,P.processIDCallData(l)}if(n===Object(n)){var c,f;u()&&d.isAllowed()&&(c=d._getField("MCOPTOUT"));var g=j.parseOptOut(n,c,O);c=g.optOut,f=g.d_ottl,d._setFieldExpire("MCOPTOUT",f,!0),d._setField("MCOPTOUT",c),d._callAllCallbacks("MCOPTOUT",[c])}},d._loading=null,d._getRemoteField=function(e,t,n,i,r){var a,o="",s=L.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(u()&&d.isAllowed()){d._readVisitor(),o=d._getField(e,!0===l[e]);if(function(){return(!o||d._fieldsExpired&&d._fieldsExpired[e])&&(!d.disableThirdPartyCalls||s)}()){if(e===v||"MCOPTOUT"===e?a="MC":"MCAAMLH"===e||e===y?a=A:e===b&&(a=S),a)return!t||null!=d._loading&&d._loading[a]||(null==d._loading&&(d._loading={}),d._loading[a]=!0,d._loadData(a,t,function(t){if(!d._getField(e)){t&&w.setState(a,!0);var n="";e===v?n=d._generateLocalMID():a===A&&(n={error_msg:"timeout"}),d._setFields(a,n)}},r)),d._registerCallback(e,n),o||(t||d._setFields(a,{id:O}),"")}else o||(e===v?(d._registerCallback(e,n),o=d._generateLocalMID(),d.setMarketingCloudVisitorID(o)):e===b?(d._registerCallback(e,n),o="",d.setAnalyticsVisitorID(o)):(o="",i=!0))}return e!==v&&e!==b||o!==O||(o="",i=!0),n&&i&&d._callCallback(n,[o]),o},d._setMarketingCloudFields=function(e){d._readVisitor(),d._setFields("MC",e)},d._mapCustomerIDs=function(e){d.getAudienceManagerBlob(e,!0)},d._setAnalyticsFields=function(e){d._readVisitor(),d._setFields(S,e)},d._setAudienceManagerFields=function(e){d._readVisitor(),d._setFields(A,e)},d._getAudienceManagerURLData=function(e){var t=d.audienceManagerServer,n="",i=d._getField(v),r=d._getField(y,!0),a=d._getField(b),o=a&&a!==O?"&d_cid_ic=AVID%01"+encodeURIComponent(a):"";if(d.loadSSL&&d.audienceManagerServerSecure&&(t=d.audienceManagerServerSecure),t){var s,l,c=d.getCustomerIDs();if(c)for(s in c)M(s)&&(l=c[s],o+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var u="http"+(d.loadSSL?"s":"")+"://"+t+"/id",f="d_visid_ver="+d.version+(g&&-1!==u.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+g:"")+"&d_rtbd=json&d_ver=2"+(!i&&d._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(d.marketingCloudOrgID)+"&d_nsid="+(d.idSyncContainerID||0)+(i?"&d_mid="+encodeURIComponent(i):"")+(d.idSyncDisable3rdPartySyncing||d.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===I?"&d_coop_safe=1":!1===I?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,p=["s_c_il",d._in,e];return n=u+"?"+f+"&d_cb=s_c_il%5B"+d._in+"%5D."+e,{url:n,corsUrl:u+"?"+f,callback:p}}return{url:n}},d.appendVisitorIDsTo=function(e){try{var t=[[v,d._getField(v)],[b,d._getField(b)],["MCORGID",d.marketingCloudOrgID]];return d._addQuerystringParam(e,ie.ADOBE_MC,s(t))}catch(t){return e}},d.appendSupplementalDataIDTo=function(e,t){if(!(t=t||d.getSupplementalDataID(L.generateRandomString(),!0)))return e;try{var n=s([["SDID",t],["MCORGID",d.marketingCloudOrgID]]);return d._addQuerystringParam(e,ie.ADOBE_MC_SDID,n)}catch(t){return e}};var L={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var i=e.split("&");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){if(e!==b)return!1;var i;return t||(t=d.trackingServer),n||(n=d.trackingServerSecure),!("string"!=typeof(i=d.loadSSL?n:t)||!i.length)&&(i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Ve.remove(e,{domain:d.cookieDomain})},isTrackingServerPopulated:function(){return!!d.trackingServer||!!d.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};d._helpers=L;var P=re(d,C);d._destinationPublishing=P,d.timeoutMetricsLog=[];var w={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case S:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case A:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};d.isClientSideMarketingCloudVisitorID=function(){return w.isClientSideMarketingCloudVisitorID},d.MCIDCallTimedOut=function(){return w.MCIDCallTimedOut},d.AnalyticsIDCallTimedOut=function(){return w.AnalyticsIDCallTimedOut},d.AAMIDCallTimedOut=function(){return w.AAMIDCallTimedOut},d.idSyncGetOnPageSyncInfo=function(){return d._readVisitor(),d._getField("MCSYNCSOP")},d.idSyncByURL=function(e){if(!d.isOptedOut()){var t=l(e||{});if(t.error)return t.error;var n,i,r=e.url,a=encodeURIComponent,o=P;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=j.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(r),t.ttl,"",n],o.addMessage(i.join("|")),o.requestToProcess(),"Successfully queued"}},d.idSyncByDataSource=function(e){if(!d.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,d.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ue(d,P),d._getCookieVersion=function(e){e=e||d.cookieRead(d.cookieName);var t=ie.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},d._resetAmcvCookie=function(e){var t=d._getCookieVersion();t&&!$.isLessThan(t,e)||L.removeCookie(d.cookieName)},d.setAsCoopSafe=function(){I=!0},d.setAsCoopUnsafe=function(){I=!1},function(){if(d.configs=Object.create(null),L.isObject(n))for(var e in n)M(e)&&(d[e]=n[e],d.configs[e]=n[e])}(),function(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",i=d[t];d[t]=function(e){return u()&&d.isAllowed()?i.apply(d,arguments):("function"==typeof e&&d._callCallback(e,[n]),n)}})}(),d.init=function(){if(c())var e=f.optIn.fetchPermissions(function(){f.optIn.isApproved(f.optIn.Categories.ECID)&&(d.configs.isIabContext?f.optIn.execute({command:"iabPlugin.fetchConsentData",callback:function(t,n){if(p=!0,t)throw new Error("[IAB plugin] : "+t);n.gdprApplies&&(g=n.consentString),d.init(),e()}}):(d.init(),e()))},!0);else!function(){if(L.isObject(n)){d.idSyncContainerID=d.idSyncContainerID||0,I="boolean"==typeof d.isCoopSafe?d.isCoopSafe:L.parseBoolean(d.isCoopSafe),d.resetBeforeVersion&&d._resetAmcvCookie(d.resetBeforeVersion),d._attemptToPopulateIdsFromUrl(),d._attemptToPopulateSdidFromUrl(),d._readVisitor();var e=d._getField(D),t=Math.ceil((new Date).getTime()/ie.MILLIS_PER_DAY);d.idSyncDisableSyncs||d.disableIdSyncs||!P.canMakeSyncIDCall(e,t)||(d._setFieldExpire(y,-1),d._setField(D,t)),d.getMarketingCloudVisitorID(),d.getAudienceManagerLocationHint(),d.getAudienceManagerBlob(),d._mergeServerState(d.serverState)}else d._attemptToPopulateIdsFromUrl(),d._attemptToPopulateSdidFromUrl()}(),function(){if(!d.idSyncDisableSyncs&&!d.disableIdSyncs){P.checkDPIframeSrc();var e=function(){var e=P;e.readyToAttachIframe()&&e.attachIframe()};h.addEventListener("load",function(){C.windowLoaded=!0,e()});try{ee.receiveMessage(function(e){P.receiveMessage(e.data)},P.iframeHost)}catch(e){}}}(),function(){d.whitelistIframeDomains&&ie.POST_MESSAGE_ENABLED&&(d.whitelistIframeDomains=d.whitelistIframeDomains instanceof Array?d.whitelistIframeDomains:[d.whitelistIframeDomains],d.whitelistIframeDomains.forEach(function(e){var n=new B(t,e),i=J(d,n);ee.receiveMessage(i,e)}))}()}};Be.config=oe,_.Visitor=Be;var Ge=Be,qe=je.OptIn,Ye=je.IabPlugin;return Ge.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=_.s_c_il;if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(n)return n;var i=function(){if(j.isObject(t))return Object.keys(t).reduce(function(e,n){var i="doesOptInApply"!==n?t[n]:oe.normalizeConfig(t[n]),r=j.normalizeBoolean(i);return e[n]=r,e},Object.create(null))}();!function(e){_.adobe.optIn=_.adobe.optIn||function(){var t=j.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),n=e.optInCookieDomain||e.cookieDomain;n=n||Q(),n=n===window.location.hostname?"":n,t.optInCookieDomain=n;var i=new qe(t,{cookies:Ve});if(t.isIabContext){var r=new Ye(window.__cmp);i.registerPlugin(r)}return i}()}(i||{});var r=e,a=r.split("").reverse().join(""),o=new Ge(e,null,a);j.isObject(i)&&i.cookieDomain&&(o.cookieDomain=i.cookieDomain),function(){_.s_c_il.splice(--_.s_c_in,1)}();var s=j.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var l=function(){try{return _.self!==_.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)&&_.parent?new q(e,i,o,_.parent):new Ge(e,i,a);return o=null,l.init(),l},function(){function e(){Ge.windowLoaded=!0}_.addEventListener?_.addEventListener("load",e):_.attachEvent&&_.attachEvent("onload",e),Ge.codeLoadEnd=(new Date).getTime()}(),Ge}();window.visitor=Visitor.getInstance("24A034B852785AB90A490D44@AdobeOrg",{trackingServer:"metrics.vodafone.es",trackingServerSecure:"smetrics.vodafone.es",marketingCloudServer:"metrics.vodafone.es",marketingCloudServerSecure:"smetrics.vodafone.es",loadTimeout:10000});}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(document.domain==="m.vodafone.es"||document.domain==="assets-es-prodref.myvdf.aws.cps.vodafone.com"||document.domain==="assets-es-uat.myvdf.aws.cps.vodafone.com"||document.domain==="assets-es-staging2.myvdf.aws.cps.vodafone.com"||document.domain==="assets-es-pprd.dxlpreprod.local.vodafone.es"||document.domain==="assets-es-hidden.dxl.local.vodafone.es"||document.domain==="assets-es-sit1.dxlpreprod.local.vodafone.es"){var prod_config="";if(typeof utag_data.prod_config!="undefined"){prod_config=utag_data.prod_config;}
targetPageParamsAll=function(){return{"at_property":"3c18e10e-32e8-608f-13cf-31a06e5f2ab2","mbox3rdPartyId":getCookieSC("div_msisdn_new"),"prod_config":prod_config,"profile":{"targetQA":getCookieSC("divisaQA")}};};!function(n,t){function r(n){var t={},r=n.split("?");return 1===r.length?(t.base=r[0],t.params=[],t):(t.base=r[0],t.params=r[1].split("&"),t)}function e(n,t){return n.filter(function(n){return-1!==n.indexOf(t+"=")}).length>0}function i(n,t){return n.filter(function(n){return-1===n.indexOf(t+"=")})}function a(){return!(!n[f]||!n[f][s])}function u(n,t){return n+"?"+t.join("&")}var o="adobe_mc_sdid",f="history",c="state",s="replaceState",l=n.location.href,d=t.title;!function(){var t,p=r(l);a()&&e(p.params,o)&&(t=u(p.base,i(p.params,o)),n[f][s](n[f][c],d,t))}()}(window,document);window.adobe=window.adobe||{},window.adobe.target=function(){"use strict";var t=window,e=document,n=!e.documentMode||e.documentMode>=10;var r,o,i,c=e.compatMode&&"CSS1Compat"===e.compatMode&&n&&(r=window.navigator.userAgent,o=r.indexOf("MSIE ")>0,i=r.indexOf("Trident/")>0,!(o||i)),u=t.targetGlobalSettings;if(!c||u&&!1===u.enabled)return t.adobe=t.adobe||{},t.adobe.target={VERSION:"",event:{},getOffer:dt,getOffers:pt,applyOffer:dt,applyOffers:pt,sendNotifications:pt,trackEvent:dt,triggerView:dt,registerExtension:dt,init:dt},t.mboxCreate=dt,t.mboxDefine=dt,t.mboxUpdate=dt,"console"in t&&"warn"in t.console&&t.console.warn("AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode."),t.adobe.target;var s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;function l(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var d=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,o=l(t),i=1;i<arguments.length;i++){for(var c in n=Object(arguments[i]))a.call(n,c)&&(o[c]=n[c]);if(s){r=s(n);for(var u=0;u<r.length;u++)f.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o};function p(t){return null==t}const{isArray:h}=Array,{prototype:m}=Object,{toString:g}=m;function v(t){return function(t){return g.call(t)}(t)}function y(t){const e=typeof t;return null!=t&&("object"===e||"function"===e)}function b(t){return!!y(t)&&"[object Function]"===v(t)}function w(t){return t}function x(t){return b(t)?t:w}function S(t){return p(t)?[]:Object.keys(t)}const E=(t,e)=>e.forEach(t),C=(t,e)=>{E(n=>t(e[n],n),S(e))},T=(t,e)=>e.filter(t),k=(t,e)=>{const n={};return C((e,r)=>{t(e,r)&&(n[r]=e)},e),n};function I(t,e){if(p(e))return[];return(h(e)?T:k)(x(t),e)}function N(t){return p(t)?[]:[].concat.apply([],t)}function O(t){const e=t?t.length:0;let n=e;for(;n-=1;)if(!b(t[n]))throw new TypeError("Expected a function");return(...n)=>{let r=0,o=e?t[r].apply(this,n):n[0];for(;(r+=1)<e;)o=t[r].call(this,o);return o}}function A(t,e){if(p(e))return;(h(e)?E:C)(x(t),e)}function _(t){return null!=t&&"object"==typeof t}function M(t){return"string"==typeof t||!h(t)&&_(t)&&"[object String]"===v(t)}function P(t){if(!M(t))return-1;let e=0;const{length:n}=t;for(let r=0;r<n;r+=1)e=(e<<5)-e+t.charCodeAt(r)&4294967295;return e}function q(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!b(t)}const D=(t,e)=>e.map(t);function R(t){return p(t)?[]:q(t)?M(t)?t.split(""):function(t){let e=0;const{length:n}=t,r=Array(n);for(;e<n;)r[e]=t[e],e+=1;return r}(t):(e=S(t),n=t,D(t=>n[t],e));var e,n}const{prototype:L}=Object,{hasOwnProperty:j}=L;function H(t){if(null==t)return!0;if(q(t)&&(h(t)||M(t)||b(t.splice)))return!t.length;for(const e in t)if(j.call(t,e))return!1;return!0}const{prototype:V}=String,{trim:U}=V;function B(t){return p(t)?"":U.call(t)}function F(t){return M(t)?!B(t):H(t)}const $=t=>!F(t);function z(t){return"number"==typeof t||_(t)&&"[object Number]"===v(t)}const{prototype:J}=Function,{prototype:Z}=Object,{toString:G}=J,{hasOwnProperty:K}=Z,X=G.call(Object);function Y(t){if(!_(t)||"[object Object]"!==v(t))return!1;const e=function(t){return Object.getPrototypeOf(Object(t))}(t);if(null===e)return!0;const n=K.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&G.call(n)===X}function W(t,e){return h(e)?e.join(t||""):""}const Q=(t,e)=>{const n={};return C((e,r)=>{n[r]=t(e,r)},e),n};function tt(t,e){if(p(e))return[];return(h(e)?D:Q)(x(t),e)}function et(){return(new Date).getTime()}const nt=(t,e,n)=>n.reduce(t,e),rt=(t,e,n)=>{let r=e;return C((e,n)=>{r=t(r,e,n)},n),r};function ot(t,e,n){if(p(n))return e;return(h(n)?nt:rt)(x(t),e,n)}const{prototype:it}=Array,{reverse:ct}=it;function ut(t,e){return F(e)?[]:e.split(t||"")}function st(){let t=et();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(t+(o=16,(r=0)+Math.floor(Math.random()*(o-r+1))))%16|0;var r,o;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}function at(t,e=0){return setTimeout(t,Number(e)||0)}function ft(t){clearTimeout(t)}const lt="server-side",dt=()=>{},pt=t=>Promise.resolve(t);var ht="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function mt(t,e){return t(e={exports:{}},e.exports),e.exports}mt((function(t){(function(){var e,n,r,o,i,c;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-i)/1e6},n=process.hrtime,o=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),c=1e9*process.uptime(),i=o-c):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(ht)}));var gt=function(t,e){if(t){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),o={},i=14;i--;)o[n.key[i]]=r[i]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(o[n.q.name][e]=r)})),o}};const vt="type",yt="content",bt="selector",wt="src",xt='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',St="options argument is required",Et="Action has no content",Ct="error",Tt="valid",kt="success",It="___target_traces",Nt=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Ot=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i;let At={};const _t=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","mboxParams","globalMboxParams","defaultContentHiddenStyle","defaultContentVisibleStyle","deviceIdLifetime","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","decisioningMethod","pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment","telemetryEnabled","cdnBasePath","cspScriptNonce","cspStyleNonce","globalMboxName"];function Mt(t){if(function(t){return Nt.test(t)}(t))return t;const e=null==(n=ut(".",t))?n:ct.call(n);var n;const r=e.length;return r>=3&&Ot.test(e[1])?e[2]+"."+e[1]+"."+e[0]:1===r?e[0]:e[1]+"."+e[0]}function Pt(t,e,n){let r="";"file:"===t.location.protocol||(r=Mt(t.location.hostname)),n.cookieDomain=r,n.enabled=function(t){const{compatMode:e}=t;return e&&"CSS1Compat"===e}(e)&&function(t){const{documentMode:e}=t;return!e||e>=10}(e),function(t,e){t.enabled&&(p(e.globalMboxAutoCreate)||(t.pageLoadEnabled=e.globalMboxAutoCreate),A(n=>{p(e[n])||(t[n]=e[n])},_t))}(n,t.targetGlobalSettings||{})}function qt(t){Pt(window,document,t);const e="file:"===window.location.protocol;At=d({},t),At.deviceIdLifetime=t.deviceIdLifetime/1e3,At.sessionIdLifetime=t.sessionIdLifetime/1e3,At.scheme=At.secureOnly||e?"https:":""}function Dt(){return At}var Rt=mt((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var s in i)i[s]&&(u+="; "+s,!0!==i[s]&&(u+="="+i[s].split(";")[0]));return document.cookie=e+"="+n+u}}function c(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var u=i[c].split("="),s=u.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=e(u[0]);if(s=(r.read||r)(s,a)||e(s),n)try{s=JSON.parse(s)}catch(t){}if(o[a]=s,t===a)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return c(t,!1)},o.getJSON=function(t){return c(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()})),Lt={get:Rt.get,set:Rt.set,remove:Rt.remove};function jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ht=function(t,e,n,r){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var i=/\+/g;t=t.split(e);var c=1e3;r&&"number"==typeof r.maxKeys&&(c=r.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var s=0;s<u;++s){var a,f,l,d,p=t[s].replace(i,"%20"),h=p.indexOf(n);h>=0?(a=p.substr(0,h),f=p.substr(h+1)):(a=p,f=""),l=decodeURIComponent(a),d=decodeURIComponent(f),jt(o,l)?Array.isArray(o[l])?o[l].push(d):o[l]=[o[l],d]:o[l]=d}return o},Vt=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Ut=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(r){var o=encodeURIComponent(Vt(r))+n;return Array.isArray(t[r])?t[r].map((function(t){return o+encodeURIComponent(Vt(t))})).join(e):o+encodeURIComponent(Vt(t[r]))})).join(e):r?encodeURIComponent(Vt(r))+n+encodeURIComponent(Vt(t)):""},Bt=mt((function(t,e){e.decode=e.parse=Ht,e.encode=e.stringify=Ut})),Ft=(Bt.decode,Bt.parse,Bt.encode,Bt.stringify,{parse:function(t){return"string"==typeof t&&(t=t.trim().replace(/^[?#&]/,"")),Bt.parse(t)},stringify:function(t){return Bt.stringify(t)}});const{parse:$t,stringify:zt}=Ft,Jt=document.createElement("a"),Zt={};function Gt(t){try{return $t(t)}catch(t){return{}}}function Kt(t){try{return zt(t)}catch(t){return""}}function Xt(t){try{return decodeURIComponent(t)}catch(e){return t}}function Yt(t){try{return encodeURIComponent(t)}catch(e){return t}}function Wt(t){if(Zt[t])return Zt[t];Jt.href=t;const e=gt(Jt.href);return e.queryKey=Gt(e.query),Zt[t]=e,Zt[t]}const{get:Qt,set:te,remove:ee}=Lt;function ne(t,e,n){return{name:t,value:e,expires:n}}function re(t){const e=ut("#",t);return H(e)||e.length<3||isNaN(parseInt(e[2],10))?null:ne(Xt(e[0]),Xt(e[1]),Number(e[2]))}function oe(){const t=tt(re,F(e=Qt("mbox"))?[]:ut("|",e));var e;const n=Math.ceil(et()/1e3);return ot((t,e)=>(t[e.name]=e,t),{},I(t=>y(t)&&n<=t.expires,t))}function ie(t){const e=oe()[t];return y(e)?e.value:""}function ce(t){return W("#",[Yt(t.name),Yt(t.value),t.expires])}function ue(t){return t.expires}function se(t,e){const n=R(t),r=Math.abs(1e3*function(t){const e=tt(ue,t);return Math.max.apply(null,e)}(n)-et()),o=W("|",tt(ce,n)),i=new Date(et()+r);te("mbox",o,{domain:e,expires:i})}function ae(t){const{name:e,value:n,expires:r,domain:o}=t,i=oe();i[e]=ne(e,n,Math.ceil(r+et()/1e3)),se(i,o)}function fe(t,e,n){return function(t){return $(Qt(t))}(n)||function(t,e){const{location:n}=t,{search:r}=n,o=Gt(r);return $(o[e])}(t,n)||function(t,e){const{referrer:n}=t,r=Wt(n).queryKey;return!p(r)&&$(r[e])}(e,n)}function le(){return Dt().enabled&&function(){const t=Dt().cookieDomain;te("at_check","true",{domain:t});const e="true"===Qt("at_check");return ee("at_check"),e}()&&!fe(window,document,"mboxDisable")}function de(){return fe(window,document,"mboxDebug")}function pe(){return fe(window,document,"mboxEdit")}const he="AT:";function me(t,e){const{console:n}=t;return!p(n)&&b(n[e])}function ge(...t){!function(t,e){const{console:n}=t;me(t,"warn")&&n.warn.apply(n,[he].concat(e))}(window,t)}function ve(...t){!function(t,e){const{console:n}=t;me(t,"debug")&&de()&&n.debug.apply(n,[he].concat(e))}(window,t)}function ye(t,e,n){const r=t[It]||[];if(t[It]=r,!n)return;const o=r.push;r.version="1",r.settings=function(t){return ot((e,n)=>(e[n]=t[n],e),{},_t)}(e),r.clientTraces=[],r.serverTraces=[],r.push=function(t){r.serverTraces.push(d({timestamp:et()},t)),o.call(this,t)}}function be(t,e,n,r){"serverTraces"===e&&t[It].push(n),r&&"serverTraces"!==e&&t[It][e].push(d({timestamp:et()},n))}function we(t){be(window,"clientTraces",t,de())}var xe=setTimeout;function Se(t){return Boolean(t&&void 0!==t.length)}function Ee(){}function Ce(t){if(!(this instanceof Ce))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ae(t,this)}function Te(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Ce._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void Ie(e.promise,t)}ke(e.promise,r)}else(1===t._state?ke:Ie)(e.promise,t._value)}))):t._deferreds.push(e)}function ke(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof Ce)return t._state=3,t._value=e,void Ne(t);if("function"==typeof n)return void Ae((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,Ne(t)}catch(e){Ie(t,e)}var r,o}function Ie(t,e){t._state=2,t._value=e,Ne(t)}function Ne(t){2===t._state&&0===t._deferreds.length&&Ce._immediateFn((function(){t._handled||Ce._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Te(t,t._deferreds[e]);t._deferreds=null}function Oe(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function Ae(t,e){var n=!1;try{t((function(t){n||(n=!0,ke(e,t))}),(function(t){n||(n=!0,Ie(e,t))}))}catch(t){if(n)return;n=!0,Ie(e,t)}}Ce.prototype['catch']=function(t){return this.then(null,t)},Ce.prototype.then=function(t,e){var n=new this.constructor(Ee);return Te(this,new Oe(t,e,n)),n},Ce.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},Ce.all=function(t){return new Ce((function(e,n){if(!Se(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var u=c.then;if("function"==typeof u)return void u.call(c,(function(e){i(t,e)}),n)}r[t]=c,0==--o&&e(r)}catch(t){n(t)}}for(var c=0;c<r.length;c++)i(c,r[c])}))},Ce.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ce?t:new Ce((function(e){e(t)}))},Ce.reject=function(t){return new Ce((function(e,n){n(t)}))},Ce.race=function(t){return new Ce((function(e,n){if(!Se(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)Ce.resolve(t[r]).then(e,n)}))},Ce._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){xe(t,0)},Ce._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var _e="undefined"!=typeof window&&window.Promise||void 0!==ht&&ht.Promise||Ce.default||Ce,Me=function(t){var e=function(){var e,n,r,o,i,c=[],u=c.concat,s=c.filter,a=c.slice,f=t.document,l={},d={},p={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,v=/^(?:body|html)$/i,y=/([A-Z])/g,b=["val","css","html","text","data","width","height","offset"],w=f.createElement("table"),x=f.createElement("tr"),S={tr:f.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:x,th:x,"*":f.createElement("div")},E=/complete|loaded|interactive/,C=/^[\w-]*$/,T={},k=T.toString,I={},N=f.createElement("div"),O={tabindex:"tabIndex",readonly:"readOnly",'for':"htmlFor",'class':"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A=Array.isArray||function(t){return t instanceof Array};function _(t){return null==t?String(t):T[k.call(t)]||"object"}function M(t){return"function"==_(t)}function P(t){return null!=t&&t==t.window}function q(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function D(t){return"object"==_(t)}function R(t){return D(t)&&!P(t)&&Object.getPrototypeOf(t)==Object.prototype}function L(t){var e=!!t&&"length"in t&&t.length,r=n.type(t);return"function"!=r&&!P(t)&&("array"==r||0===e||"number"==typeof e&&e>0&&e-1 in t)}function j(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function H(t){return t in d?d[t]:d[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function V(t,e){return"number"!=typeof e||p[j(t)]?e:e+"px"}function U(t){return"children"in t?a.call(t.children):n.map(t.childNodes,(function(t){if(1==t.nodeType)return t}))}function B(t,e){var n,r=t?t.length:0;for(n=0;n<r;n++)this[n]=t[n];this.length=r,this.selector=e||""}function F(t,n,r){for(e in n)r&&(R(n[e])||A(n[e]))?(R(n[e])&&!R(t[e])&&(t[e]={}),A(n[e])&&!A(t[e])&&(t[e]=[]),F(t[e],n[e],r)):void 0!==n[e]&&(t[e]=n[e])}function z(t,e){return null==e?n(t):n(t).filter(e)}function J(t,e,n,r){return M(e)?e.call(t,n,r):e}function Z(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function G(t,e){var n=t.className||"",r=n&&void 0!==n.baseVal;if(void 0===e)return r?n.baseVal:n;r?n.baseVal=e:t.className=e}function K(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function X(t,e){e(t);for(var n=0,r=t.childNodes.length;n<r;n++)X(t.childNodes[n],e)}function Y(t,e,n){const r=t.getElementsByTagName("script")[0];if(!r)return;const o=r.parentNode;if(!o)return;const i=t.createElement("script");i.innerHTML=e,$(n)&&i.setAttribute("nonce",n),o.appendChild(i),o.removeChild(i)}return I.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,o=t.parentNode,i=!o;return i&&(o=N).appendChild(t),r=~I.qsa(o,e).indexOf(t),i&&N.removeChild(t),r},o=function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},i=function(t){return s.call(t,(function(e,n){return t.indexOf(e)==n}))},I.fragment=function(t,e,r){var o,i,c;return m.test(t)&&(o=n(f.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(g,"<$1></$2>")),void 0===e&&(e=h.test(t)&&RegExp.$1),e in S||(e="*"),(c=S[e]).innerHTML=""+t,o=n.each(a.call(c.childNodes),(function(){c.removeChild(this)}))),R(r)&&(i=n(o),n.each(r,(function(t,e){b.indexOf(t)>-1?i[t](e):i.attr(t,e)}))),o},I.Z=function(t,e){return new B(t,e)},I.isZ=function(t){return t instanceof I.Z},I.init=function(t,e){var r,o;if(!t)return I.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&h.test(t))r=I.fragment(t,RegExp.$1,e),t=null;else{if(void 0!==e)return n(e).find(t);r=I.qsa(f,t)}else{if(M(t))return n(f).ready(t);if(I.isZ(t))return t;if(A(t))o=t,r=s.call(o,(function(t){return null!=t}));else if(D(t))r=[t],t=null;else if(h.test(t))r=I.fragment(t.trim(),RegExp.$1,e),t=null;else{if(void 0!==e)return n(e).find(t);r=I.qsa(f,t)}}return I.Z(r,t)},(n=function(t,e){return I.init(t,e)}).extend=function(t){var e,n=a.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach((function(n){F(t,n,e)})),t},I.qsa=function(t,e){var n,r="#"==e[0],o=!r&&"."==e[0],i=r||o?e.slice(1):e,c=C.test(i);return t.getElementById&&c&&r?(n=t.getElementById(i))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:a.call(c&&!r&&t.getElementsByClassName?o?t.getElementsByClassName(i):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=f.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=_,n.isFunction=M,n.isWindow=P,n.isArray=A,n.isPlainObject=R,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},n.inArray=function(t,e,n){return c.indexOf.call(e,t,n)},n.camelCase=o,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(t,e){var r,o,i,c,u=[];if(L(t))for(o=0;o<t.length;o++)null!=(r=e(t[o],o))&&u.push(r);else for(i in t)null!=(r=e(t[i],i))&&u.push(r);return(c=u).length>0?n.fn.concat.apply([],c):c},n.each=function(t,e){var n,r;if(L(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},n.grep=function(t,e){return s.call(t,e)},t.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){T["[object "+e+"]"]=e.toLowerCase()})),n.fn={constructor:I.Z,length:0,forEach:c.forEach,reduce:c.reduce,push:c.push,sort:c.sort,splice:c.splice,indexOf:c.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=I.isZ(e)?e.toArray():e;return u.apply(I.isZ(this)?this.toArray():this,n)},map:function(t){return n(n.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return n(a.apply(this,arguments))},ready:function(t){return E.test(f.readyState)&&f.body?t(n):f.addEventListener("DOMContentLoaded",(function(){t(n)}),!1),this},get:function(t){return void 0===t?a.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(t){for(var e,n=this.length,r=0;r<n&&(e=this[r],!1!==t.call(e,r,e));)r++;return this},filter:function(t){return M(t)?this.not(this.not(t)):n(s.call(this,(function(e){return I.matches(e,t)})))},add:function(t,e){return n(i(this.concat(n(t,e))))},is:function(t){return this.length>0&&I.matches(this[0],t)},not:function(t){var e=[];if(M(t)&&void 0!==t.call)this.each((function(n){t.call(this,n)||e.push(this)}));else{var r="string"==typeof t?this.filter(t):L(t)&&M(t.item)?a.call(t):n(t);this.forEach((function(t){r.indexOf(t)<0&&e.push(t)}))}return n(e)},has:function(t){return this.filter((function(){return D(t)?n.contains(this,t):n(this).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!D(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!D(t)?t:n(t)},find:function(t){var e=this;return t?"object"==typeof t?n(t).filter((function(){var t=this;return c.some.call(e,(function(e){return n.contains(e,t)}))})):1==this.length?n(I.qsa(this[0],t)):this.map((function(){return I.qsa(this,t)})):n()},closest:function(t,e){var r=[],o="object"==typeof t&&n(t);return this.each((function(n,i){for(;i&&!(o?o.indexOf(i)>=0:I.matches(i,t));)i=i!==e&&!q(i)&&i.parentNode;i&&r.indexOf(i)<0&&r.push(i)})),n(r)},parents:function(t){for(var e=[],r=this;r.length>0;)r=n.map(r,(function(t){if((t=t.parentNode)&&!q(t)&&e.indexOf(t)<0)return e.push(t),t}));return z(e,t)},parent:function(t){return z(i(this.pluck("parentNode")),t)},children:function(t){return z(this.map((function(){return U(this)})),t)},contents:function(){return this.map((function(){return this.contentDocument||a.call(this.childNodes)}))},siblings:function(t){return z(this.map((function(t,e){return s.call(U(e.parentNode),(function(t){return t!==e}))})),t)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(t){return n.map(this,(function(e){return e[t]}))},show:function(){return this.each((function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,l[t]||(e=f.createElement(t),f.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),l[t]=n),l[t]))}))},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=M(t);if(this[0]&&!e)var r=n(t).get(0),o=r.parentNode||this.length>1;return this.each((function(i){n(this).wrapAll(e?t.call(this,i):o?r.cloneNode(!0):r)}))},wrapAll:function(t){if(this[0]){var e;for(n(this[0]).before(t=n(t));(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=M(t);return this.each((function(r){var o=n(this),i=o.contents(),c=e?t.call(this,r):t;i.length?i.wrapAll(c):o.append(c)}))},unwrap:function(){return this.parent().each((function(){n(this).replaceWith(n(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return this.each((function(){var e=n(this);(void 0===t?"none"==e.css("display"):t)?e.show():e.hide()}))},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each((function(e){var r=this.innerHTML;n(this).empty().append(J(this,t,e,r))})):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each((function(e){var n=J(this,t,e,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var r;return"string"!=typeof t||1 in arguments?this.each((function(r){if(1===this.nodeType)if(D(t))for(e in t)Z(this,e,t[e]);else Z(this,t,J(this,n,r,this.getAttribute(t)))})):0 in this&&1==this[0].nodeType&&null!=(r=this[0].getAttribute(t))?r:void 0},removeAttr:function(t){return this.each((function(){1===this.nodeType&&t.split(" ").forEach((function(t){Z(this,t)}),this)}))},prop:function(t,e){return t=O[t]||t,1 in arguments?this.each((function(n){this[t]=J(this,e,n,this[t])})):this[0]&&this[0][t]},removeProp:function(t){return t=O[t]||t,this.each((function(){delete this[t]}))},data:function(t,e){var n="data-"+t.replace(y,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?K(r):void 0},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each((function(e){this.value=J(this,t,e,this.value)}))):this[0]&&(this[0].multiple?n(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each((function(t){var r=n(this),o=J(this,e,t,r.offset()),i=r.offsetParent().offset(),c={top:o.top-i.top,left:o.left-i.left};"static"==r.css("position")&&(c.position="relative"),r.css(c)}));if(!this.length)return null;if(f.documentElement!==this[0]&&!n.contains(f.documentElement,this[0]))return{top:0,left:0};var r=this[0].getBoundingClientRect();return{left:r.left+t.pageXOffset,top:r.top+t.pageYOffset,width:Math.round(r.width),height:Math.round(r.height)}},css:function(t,r){if(arguments.length<2){var i=this[0];if("string"==typeof t){if(!i)return;return i.style[o(t)]||getComputedStyle(i,"").getPropertyValue(t)}if(A(t)){if(!i)return;var c={},u=getComputedStyle(i,"");return n.each(t,(function(t,e){c[e]=i.style[o(e)]||u.getPropertyValue(e)})),c}}var s="";if("string"==_(t))r||0===r?s=j(t)+":"+V(t,r):this.each((function(){this.style.removeProperty(j(t))}));else for(e in t)t[e]||0===t[e]?s+=j(e)+":"+V(e,t[e])+";":this.each((function(){this.style.removeProperty(j(e))}));return this.each((function(){this.style.cssText+=";"+s}))},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&c.some.call(this,(function(t){return this.test(G(t))}),H(t))},addClass:function(t){return t?this.each((function(e){if("className"in this){r=[];var o=G(this);J(this,t,e,o).split(/\s+/g).forEach((function(t){n(this).hasClass(t)||r.push(t)}),this),r.length&&G(this,o+(o?" ":"")+r.join(" "))}})):this},removeClass:function(t){return this.each((function(e){if("className"in this){if(void 0===t)return G(this,"");r=G(this),J(this,t,e,r).split(/\s+/g).forEach((function(t){r=r.replace(H(t)," ")})),G(this,r.trim())}}))},toggleClass:function(t,e){return t?this.each((function(r){var o=n(this);J(this,t,r,G(this)).split(/\s+/g).forEach((function(t){(void 0===e?!o.hasClass(t):e)?o.addClass(t):o.removeClass(t)}))})):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return void 0===t?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return void 0===t?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),r=this.offset(),o=v.test(e[0].nodeName)?{top:0,left:0}:e.offset();return r.top-=parseFloat(n(t).css("margin-top"))||0,r.left-=parseFloat(n(t).css("margin-left"))||0,o.top+=parseFloat(n(e[0]).css("border-top-width"))||0,o.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:r.top-o.top,left:r.left-o.left}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||f.body;t&&!v.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t}))}},n.fn.detach=n.fn.remove,["width","height"].forEach((function(t){var e=t.replace(/./,(function(t){return t[0].toUpperCase()}));n.fn[t]=function(r){var o,i=this[0];return void 0===r?P(i)?i["inner"+e]:q(i)?i.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each((function(e){(i=n(this)).css(t,J(this,r,e,i[t]()))}))}})),["after","prepend","before","append"].forEach((function(t,e){var r=e%2;n.fn[t]=function(){var t,o,i=n.map(arguments,(function(e){var r=[];return"array"==(t=_(e))?(e.forEach((function(t){return void 0!==t.nodeType?r.push(t):n.zepto.isZ(t)?r=r.concat(t.get()):void(r=r.concat(I.fragment(t)))})),r):"object"==t||null==e?e:I.fragment(e)})),c=this.length>1;return i.length<1?this:this.each((function(t,u){o=r?u:u.parentNode,u=0==e?u.nextSibling:1==e?u.firstChild:2==e?u:null;const s=n.contains(f.documentElement,o),a=/^(text|application)\/(javascript|ecmascript)$/,l=Dt(),d=l.cspScriptNonce,p=l.cspStyleNonce;i.forEach((function(t){if(c)t=t.cloneNode(!0);else if(!o)return n(t).remove();$(d)&&"SCRIPT"===t.tagName&&t.setAttribute("nonce",d),$(p)&&"STYLE"===t.tagName&&t.setAttribute("nonce",p),o.insertBefore(t,u),s&&X(t,(function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&!a.test(t.type.toLowerCase())||t.src||Y(f,t.innerHTML,t.nonce)}))}))}))},n.fn[r?t+"To":"insert"+(e?"Before":"After")]=function(e){return n(e)[t](this),this}})),I.Z.prototype=B.prototype=n.fn,I.uniq=i,I.deserializeValue=K,n.zepto=I,n}();return function(e){var n=1,r=Array.prototype.slice,o=e.isFunction,i=function(t){return"string"==typeof t},c={},u={},s="onfocusin"in t,a={focus:"focusin",blur:"focusout"},f={mouseenter:"mouseover",mouseleave:"mouseout"};function l(t){return t._zid||(t._zid=n++)}function d(t,e,n,r){if((e=p(e)).ns)var o=(i=e.ns,new RegExp("(?:^| )"+i.replace(" "," .* ?")+"(?: |$)"));var i;return(c[l(t)]||[]).filter((function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||o.test(t.ns))&&(!n||l(t.fn)===l(n))&&(!r||t.sel==r)}))}function p(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function h(t,e){return t.del&&!s&&t.e in a||!!e}function m(t){return f[t]||s&&a[t]||t}function g(t,n,r,o,i,u,s){var a=l(t),d=c[a]||(c[a]=[]);n.split(/\s/).forEach((function(n){if("ready"==n)return e(document).ready(r);var c=p(n);c.fn=r,c.sel=i,c.e in f&&(r=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return c.fn.apply(this,arguments)}),c.del=u;var a=u||r;c.proxy=function(e){if(!(e=S(e)).isImmediatePropagationStopped()){e.data=o;var n=a.apply(t,null==e._args?[e]:[e].concat(e._args));return!1===n&&(e.preventDefault(),e.stopPropagation()),n}},c.i=d.length,d.push(c),"addEventListener"in t&&t.addEventListener(m(c.e),c.proxy,h(c,s))}))}function v(t,e,n,r,o){var i=l(t);(e||"").split(/\s/).forEach((function(e){d(t,e,n,r).forEach((function(e){delete c[i][e.i],"removeEventListener"in t&&t.removeEventListener(m(e.e),e.proxy,h(e,o))}))}))}u.click=u.mousedown=u.mouseup=u.mousemove="MouseEvents",e.event={add:g,remove:v},e.proxy=function(t,n){var c=2 in arguments&&r.call(arguments,2);if(o(t)){var u=function(){return t.apply(n,c?c.concat(r.call(arguments)):arguments)};return u._zid=l(t),u}if(i(n))return c?(c.unshift(t[n],t),e.proxy.apply(null,c)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var y=function(){return!0},b=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function S(t,n){if(n||!t.isDefaultPrevented){n||(n=t),e.each(x,(function(e,r){var o=n[e];t[e]=function(){return this[r]=y,o&&o.apply(n,arguments)},t[r]=b}));try{t.timeStamp||(t.timeStamp=(new Date).getTime())}catch(t){}(void 0!==n.defaultPrevented?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=y)}return t}function E(t){var e,n={originalEvent:t};for(e in t)w.test(e)||void 0===t[e]||(n[e]=t[e]);return S(n,t)}e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,c,u,s){var a,f,l=this;return t&&!i(t)?(e.each(t,(function(t,e){l.on(t,n,c,e,s)})),l):(i(n)||o(u)||!1===u||(u=c,c=n,n=void 0),void 0!==u&&!1!==c||(u=c,c=void 0),!1===u&&(u=b),l.each((function(o,i){s&&(a=function(t){return v(i,t.type,u),u.apply(this,arguments)}),n&&(f=function(t){var o,c=e(t.target).closest(n,i).get(0);if(c&&c!==i)return o=e.extend(E(t),{currentTarget:c,liveFired:i}),(a||u).apply(c,[o].concat(r.call(arguments,1)))}),g(i,t,u,c,n,f||a)})))},e.fn.off=function(t,n,r){var c=this;return t&&!i(t)?(e.each(t,(function(t,e){c.off(t,n,e)})),c):(i(n)||o(r)||!1===r||(r=n,n=void 0),!1===r&&(r=b),c.each((function(){v(this,t,r,n)})))},e.fn.trigger=function(t,n){return(t=i(t)||e.isPlainObject(t)?e.Event(t):S(t))._args=n,this.each((function(){t.type in a&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)}))},e.fn.triggerHandler=function(t,n){var r,o;return this.each((function(c,u){(r=E(i(t)?e.Event(t):t))._args=n,r.target=u,e.each(d(u,t.type||t),(function(t,e){if(o=e.proxy(r),r.isImmediatePropagationStopped())return!1}))})),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}})),e.Event=function(t,e){i(t)||(t=(e=t).type);var n=document.createEvent(u[t]||"Events"),r=!0;if(e)for(var o in e)"bubbles"==o?r=!!e[o]:n[o]=e[o];return n.initEvent(t,r,!0),S(n)}}(e),function(){try{getComputedStyle(void 0)}catch(n){var e=getComputedStyle;t.getComputedStyle=function(t,n){try{return e(t,n)}catch(t){return null}}}}(),function(t){var e=t.zepto,n=e.qsa,r=/^\s*>/,o="Zepto"+ +new Date;e.qsa=function(e,i){var c,u,s=i;try{s?r.test(s)&&(u=t(e).addClass(o),s="."+o+" "+s):s="*",c=n(e,s)}catch(t){throw t}finally{u&&u.removeClass(o)}return c}}(e),e}(window);const Pe=window.MutationObserver||window.WebkitMutationObserver;function qe(){return b(Pe)}function De(t){return new Pe(t)}function Re(){const t=document.createTextNode(""),e=[];return De(()=>{const t=e.length;for(let n=0;n<t;n+=1)e[n]();e.splice(0,t)}).observe(t,{characterData:!0}),n=>{e.push(n),t.textContent=t.textContent.length>0?"":"a"}}function Le(t){return new _e(t)}function je(t){return _e.resolve(t)}function He(t){return _e.reject(t)}function Ve(t){return h(t)?_e.all(t):He(new TypeError("Expected an array of promises"))}function Ue(t,e,n){let r=-1;const o=Le((t,o)=>{r=at(()=>o(new Error(n)),e)});return(i=[t,o],h(i)?_e.race(i):He(new TypeError("Expected an array of promises"))).then(t=>(ft(r),t),t=>{throw ft(r),t});var i}function Be(t){if(p(t.adobe))return!1;const e=t.adobe;if(p(e.optIn))return!1;const n=e.optIn;return b(n.fetchPermissions)&&b(n.isApproved)}function Fe(t,e){if(!Be(t))return!0;const n=t.adobe.optIn,r=(t.adobe.optIn.Categories||{})[e];return n.isApproved(r)}function $e(){const t=Dt().optinEnabled;return function(t,e){return!!e&&Be(t)}(window,t)}function ze(){return Fe(window,"TARGET")}function Je(){return function(t,e){if(!Be(t))return je(!0);const n=t.adobe.optIn,r=(t.adobe.optIn.Categories||{})[e];return Le((t,e)=>{n.fetchPermissions(()=>{n.isApproved(r)?t(!0):e("Adobe Target is not opted in")},!0)})}(window,"TARGET")}_e._setImmediateFn&&(qe()?_e._setImmediateFn(Re()):-1!==window.navigator.userAgent.indexOf("MSIE 10")&&_e._setImmediateFn(t=>{let e=Me("<script>");e.on("readystatechange",()=>{e.on("readystatechange",null),e.remove(),e=null,t()}),Me(document.documentElement).append(e)}));const Ze=st();function Ge(t,e){ae({name:"session",value:t,expires:e.sessionIdLifetime,domain:e.cookieDomain})}function Ke(){if($e()&&!ze())return Ze;const t=Dt(),e=function(){const{location:t}=window,{search:e}=t;return Gt(e).mboxSession}();if($(e))return Ge(e,t),ie("session");return F(ie("session"))&&Ge(Ze,t),ie("session")}function Xe(){return ie("PC")}const Ye=/.*\.(\d+)_\d+/;function We(t){const e=Dt();if(!e.overrideMboxEdgeServer)return;const n=e.cookieDomain,r=new Date(et()+e.overrideMboxEdgeServerTimeout),o=Qt("mboxEdgeCluster"),i={domain:n,expires:r};if($(o))return void te("mboxEdgeCluster",o,i);const c=function(t){if(F(t))return"";const e=Ye.exec(t);return H(e)||2!==e.length?"":e[1]}(t);F(c)||te("mboxEdgeCluster",c,i)}function Qe(t,e,n,r){const o=new t.CustomEvent(n,{detail:r});e.dispatchEvent(o)}!function(t,e){function n(t,n){const r=e.createEvent("CustomEvent");return n=n||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r}b(t.CustomEvent)||(n.prototype=t.Event.prototype,t.CustomEvent=n)}(window,document);function tn(t,e){const{mbox:n,error:r,url:o,analyticsDetails:i,responseTokens:c,execution:u}=e,s={type:t,tracking:function(t,e){const n=t(),r=e(),o={};return o.sessionId=n,$(r)?(o.deviceId=r,o):o}(Ke,Xe)};return p(n)||(s.mbox=n),p(r)||(s.error=r),p(o)||(s.url=o),H(i)||(s.analyticsDetails=i),H(c)||(s.responseTokens=c),H(u)||(s.execution=u),s}function en(t){const e=tn("at-request-start",t);Qe(window,document,"at-request-start",e)}function nn(t,e){const n=tn("at-request-succeeded",t);n.redirect=e,Qe(window,document,"at-request-succeeded",n)}function rn(t){const e=tn("at-request-failed",t);Qe(window,document,"at-request-failed",e)}function on(t){const e=tn("at-content-rendering-start",t);Qe(window,document,"at-content-rendering-start",e)}function cn(t){const e=tn("at-content-rendering-succeeded",t);Qe(window,document,"at-content-rendering-succeeded",e)}function un(t){const e=tn("at-content-rendering-failed",t);Qe(window,document,"at-content-rendering-failed",e)}function sn(t){const e=tn("at-content-rendering-no-offers",t);Qe(window,document,"at-content-rendering-no-offers",e)}function an(t){const e=tn("at-content-rendering-redirect",t);Qe(window,document,"at-content-rendering-redirect",e)}var fn=function(t){var e=document.createElement("script");e.src=t,e.async=!0;var n=function(t,e){return new _e((function(n,r){e.onload=function(){n(e)},e.onerror=function(){r(new Error("Failed to load script "+t))}}))}(t,e);return document.getElementsByTagName("head")[0].appendChild(e),n};function ln(t){return _(t)&&1===t.nodeType&&!Y(t)}const dn=":eq(".length,pn=/((\.|#)(-)?\d{1})/g;function hn(t){const e=t.charAt(0),n=t.charAt(1),r=t.charAt(2),o={key:t};return o.val="-"===n?""+e+n+"\\3"+r+" ":e+"\\3"+n+" ",o}function mn(t){if(ln(t))return Me(t);if(!M(t))return Me(t);const e=function(t){const e=t.match(pn);return H(e)?t:ot((t,e)=>t.replace(e.key,e.val),t,tt(hn,e))}(t);if(-1===e.indexOf(":eq("))return Me(e);const n=function(t){const e=[];let n,r,o,i,c=B(t),u=c.indexOf(":eq(");for(;-1!==u;)n=B(c.substring(0,u)),r=B(c.substring(u)),i=r.indexOf(")"),o=B(r.substring(dn,i)),c=B(r.substring(i+1)),u=c.indexOf(":eq("),n&&o&&e.push({sel:n,eq:Number(o)});return c&&e.push({sel:c}),e}(e);return ot((t,e)=>{const{sel:n,eq:r}=e;return t=t.find(n),z(r)&&(t=t.eq(r)),t},Me(document),n)}function gn(t){return mn(t).length>0}function vn(t){return Me("<div/>").append(t)}function yn(t){return mn(t).parent()}function bn(t,e){return mn(e).find(t)}const wn="clickHandlerForExperienceEditor";function xn(){if(!pe())return;window._AT=window._AT||{},window._AT.querySelectorAll=mn;const t=Dt().authoringScriptUrl;ve("Loading target-vec.js"),fn(t).then(()=>{document.addEventListener("click",t=>{b(window._AT[wn])&&window._AT[wn](t)},!0)})['catch'](()=>ge("Unable to load target-vec.js"))}const Sn=t=>!p(t);function En(t){const e=function(t){return parseInt(t,10)}(t);return isNaN(e)?null:e}function Cn(t){return ut("_",t)}function Tn(t){const e=ut("_",t),n=En(e[0]);if(p(n))return null;const r={};r.activityIndex=n;const o=En(e[1]);return p(o)||(r.experienceIndex=o),r}function kn(t){return I(Sn,tt(Tn,t))}function In(t){const e=Gt(t),n=e.at_preview_token;if(F(n))return null;const r={};r.token=n;const o=e.at_preview_listed_activities_only;$(o)&&"true"===o&&(r.listedActivitiesOnly=!0);const i=e.at_preview_evaluate_as_true_audience_ids;$(i)&&(r.evaluateAsTrueAudienceIds=Cn(i));const c=e.at_preview_evaluate_as_false_audience_ids;$(c)&&(r.evaluateAsFalseAudienceIds=Cn(c));const u=e.at_preview_index;return H(u)||(r.previewIndexes=h(s=u)?kn(s):kn([s])),r;var s}function Nn(t){const e=function(t){const e=Gt(t).at_preview;return F(e)?null:{token:e}}(t.location.search);if(p(e))return;const n=new Date(et()+186e4);te("at_preview_mode",JSON.stringify(e),{expires:n})}function On(t){return mn(t).empty().remove()}function An(t,e){return mn(e).after(t)}function _n(t,e){return mn(e).before(t)}function Mn(t,e){return mn(e).append(t)}function Pn(t){return mn(t).html()}function qn(t,e){return'<style id="'+t+'" class="at-flicker-control">'+e+"</style>"}function Dn(t,e){if(H(e))return;const n=I(t=>!gn("#at-"+P(t)),e);if(H(n))return;const r=t.defaultContentHiddenStyle;Mn(W("\n",tt(t=>function(t,e){return qn("at-"+P(e),e+" {"+t+"}")}(r,t),n)),"head")}function Rn(t,e){if(H(e)||gn("#at-views"))return;Mn(function(t,e){return qn("at-views",e+" {"+t+"}")}(t.defaultContentHiddenStyle,W(", ",e)),"head")}function Ln(){!function(t){if(!0!==t.bodyHidingEnabled)return;if(gn("#at-body-style"))return;Mn(qn("at-body-style",t.bodyHiddenStyle),"head")}(Dt())}function jn(){!function(t){!0===t.bodyHidingEnabled&&gn("#at-body-style")&&On("#at-body-style")}(Dt())}function Hn(t){return!p(t.id)}function Vn(t){return!p(t.authState)}function Un(t){return Hn(t)||Vn(t)}function Bn(t,e){return ot((t,n,r)=>{const o={};return o.integrationCode=r,Hn(n)&&(o.id=n.id),Vn(n)&&(o.authenticatedState=function(t){switch(t){case 0:return"unknown";case 1:return"authenticated";case 2:return"logged_out";default:return"unknown"}}(n.authState)),o[vt]=e,function(t){return t.primary}(n)&&(o.primary=!0),t.push(o),t},[],I(Un,t))}function Fn(t){if(p(t))return[];if(!b(t.getCustomerIDs))return[];const e=t.getCustomerIDs(!0);return y(e)?function(t){if(!t.nameSpaces&&!t.dataSources)return Bn(t,"DS");const e=[];return t.nameSpaces&&e.push.apply(e,Bn(t.nameSpaces,"NS")),t.dataSources&&e.push.apply(e,Bn(t.dataSources,"DS")),e}(e):[]}function $n(t){return ve("Visitor API requests error",t),{}}function zn(t,e,n){if(p(t))return je({});return Ue(function(t,e){if(!b(t.getVisitorValues))return je({});const n=["MCMID","MCAAMB","MCAAMLH"];return e&&n.push("MCOPTOUT"),Le(e=>{t.getVisitorValues(t=>e(t),n)})}(t,n),e,"Visitor API requests timed out")['catch']($n)}function Jn(t,e){return p(t)?{}:function(t,e){if(!b(t.getVisitorValues))return{};const n=["MCMID","MCAAMB","MCAAMLH"];e&&n.push("MCOPTOUT");const r={};return t.getVisitorValues(t=>d(r,t),n),r}(t,e)}function Zn(){const t=Dt(),e=t.imsOrgId,n=t.supplementalDataIdParamTimeout;return function(t,e,n){if(F(e))return null;if(p(t.Visitor))return null;if(!b(t.Visitor.getInstance))return null;const r=t.Visitor.getInstance(e,{sdidParamExpiry:n});return y(r)&&b(r.isAllowed)&&r.isAllowed()?r:null}(window,e,n)}function Gn(t){return function(t,e){return p(t)?null:b(t.getSupplementalDataID)?t.getSupplementalDataID(e):null}(Zn(),t)}function Kn(t){return function(t,e){if(p(t))return null;const n=t[e];return p(n)?null:n}(Zn(),t)}const Xn={};function Yn(t,e){Xn[t]=e}function Wn(t){return Xn[t]}function Qn(t){const e=t.name;if(!M(e)||H(e))return!1;const n=t.version;if(!M(n)||H(n))return!1;const r=t.timeout;if(!p(r)&&!z(r))return!1;return!!b(t.provider)}function tr(t,e,n,r,o,i){const c={};c[t]=e,c[n]=r,c[o]=i;const u={};return u.dataProvider=c,u}function er(t){const e=t.name,n=t.version,r=t.timeout||2e3;return Ue(function(t){return Le((e,n)=>{t((t,r)=>{p(t)?e(r):n(t)})})}(t.provider),r,"timed out").then(t=>{const r=tr("name",e,"version",n,"params",t);return ve("Data provider",kt,r),we(r),t})['catch'](t=>{const r=tr("name",e,"version",n,Ct,t);return ve("Data provider",Ct,r),we(r),{}})}function nr(t){const e=ot((t,e)=>d(t,e),{},t);return Yn("dataProviders",e),e}function rr(t){if(!function(t){const e=t.targetGlobalSettings;if(p(e))return!1;const n=e.dataProviders;return!(!h(n)||H(n))}(t))return je({});return Ve(tt(er,I(Qn,t.targetGlobalSettings.dataProviders))).then(nr)}function or(){return function(){const t=Wn("dataProviders");return p(t)?{}:t}()}function ir(){const t=function(t){const{location:e}=t,{search:n}=e,r=Gt(n).authorization;return F(r)?null:r}(window),e=function(){const t=Qt("mboxDebugTools");return F(t)?null:t}();return t||e}function cr(t){return!H(t)&&2===t.length&&$(t[0])}function ur(t,e,n,r){A((t,o)=>{y(t)?(e.push(o),ur(t,e,n,r),e.pop()):H(e)?n[r(o)]=t:n[r(W(".",e.concat(o)))]=t},t)}function sr(t){if(!b(t))return{};let e=null;try{e=t()}catch(t){return{}}return p(e)?{}:h(e)?function(t){const e=ot((t,e)=>(t.push(function(t){const e=t.indexOf("=");return-1===e?[]:[t.substr(0,e),t.substr(e+1)]}(e)),t),[],I($,t));return ot((t,e)=>(t[Xt(B(e[0]))]=Xt(B(e[1])),t),{},I(cr,e))}(e):M(e)&&$(e)?I((t,e)=>$(e),Gt(e)):y(e)?function(t,e){const n={};return p(e)?ur(t,[],n,w):ur(t,[],n,e),n}(e):{}}function ar(t){return d({},t,sr(window.targetPageParamsAll))}function fr(t){const e=Dt(),n=e.globalMboxName,r=e.mboxParams,o=e.globalMboxParams;return n!==t?ar(r||{}):d(ar(r||{}),function(t){return d({},t,sr(window.targetPageParams))}(o||{}))}const lr=function(){const t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(p(e))return null;const n=e.getExtension("WEBGL_debug_renderer_info");if(p(n))return null;const r=e.getParameter(n.UNMASKED_RENDERER_WEBGL);return p(r)?null:r}();function dr(){let{devicePixelRatio:t}=window;if(!p(t))return t;t=1;const{screen:e}=window,{systemXDPI:n,logicalXDPI:r}=e;return!p(n)&&!p(r)&&n>r&&(t=n/r),t}function pr(){const{screen:t}=window,{orientation:e,width:n,height:r}=t;if(p(e))return n>r?"landscape":"portrait";if(p(e.type))return null;const o=ut("-",e.type);if(H(o))return null;const i=o[0];return p(i)?null:i}function hr(t){return-1!==t.indexOf("profile.")}function mr(t){return ot((t,e,n)=>{return hr(r=n)||function(t){return"mbox3rdPartyId"===t}(r)||function(t){return"at_property"===t}(r)||function(t){return"orderId"===t}(r)||function(t){return"orderTotal"===t}(r)||function(t){return"productPurchasedId"===t}(r)||function(t){return"productId"===t}(r)||function(t){return"categoryId"===t}(r)||(t[n]=p(e)?"":e),t;var r},{},t)}function gr({url:t,headers:e,body:n,timeout:r,async:o}){return Le((i,c)=>{let u=new window.XMLHttpRequest;u=function(t,e,n){return t.onload=()=>{const r=1223===t.status?204:t.status;if(r<100||r>599)return void n(new Error("Network request failed"));let o;try{o=JSON.parse(t.responseText)}catch(t){return void n(new Error("Malformed response JSON"))}const i=t.getAllResponseHeaders();e({status:r,headers:i,response:o})},t}(u,i,c),u=function(t,e){return t.onerror=()=>{e(new Error("Network request failed"))},t}(u,c),u.open("POST",t,o),u.withCredentials=!0,u=function(t,e={}){return A((e,n)=>{h(e)&&A(e=>{t.setRequestHeader(n,e)},e)},e),t}(u,e),o&&(u=function(t,e,n){return t.timeout=e,t.ontimeout=()=>{n(new Error("Request timed out"))},t}(u,r,c)),u.send(JSON.stringify(n))}).then(t=>{const{response:e}=t,{status:n,message:r}=e;if(!p(n)&&!p(r))throw new Error(r);return e})}const vr=t=>!H(t);function yr(t){if(t.MCOPTOUT)throw new Error("Disabled due to optout");return t}function br(){const t=function(){const t=Zn(),e=Dt();return zn(t,e.visitorApiTimeout,e.optoutEnabled)}(),e=rr(window);return Ve([t.then(yr),e])}function wr(){return[Jn(Zn(),Dt().optoutEnabled),or()]}function xr(){const{screen:t}=window;return{width:t.width,height:t.height,orientation:pr(),colorDepth:t.colorDepth,pixelRatio:dr()}}function Sr(){const{documentElement:t}=document;return{width:t.clientWidth,height:t.clientHeight}}function Er(){const{location:t}=window;return{host:t.hostname,webGLRenderer:lr}}function Cr(){const{location:t}=window;return{url:t.href,referringUrl:document.referrer}}function Tr(t){const{id:e,integrationCode:n,authenticatedState:r,type:o,primary:i}=t,c={};return $(e)&&(c.id=e),$(n)&&(c.integrationCode=n),$(r)&&(c.authenticatedState=r),$(o)&&(c.type=o),i&&(c.primary=i),c}function kr(t,e,n,r,o){const i={};$(e)&&(i.tntId=e),$(n)&&(i.thirdPartyId=n),$(t.thirdPartyId)&&(i.thirdPartyId=t.thirdPartyId);const c=r.MCMID;return $(c)&&(i.marketingCloudVisitorId=c),$(t.marketingCloudVisitorId)&&(i.marketingCloudVisitorId=t.marketingCloudVisitorId),H(t.customerIds)?(H(o)||(i.customerIds=function(t){return tt(Tr,t)}(o)),i):(i.customerIds=t.customerIds,i)}function Ir(t,e){const n={},r=function(t,e){if(!p(t))return t;const n={};if(H(e))return n;const r=e.MCAAMLH,o=parseInt(r,10);isNaN(o)||(n.locationHint=o);const i=e.MCAAMB;return $(i)&&(n.blob=i),n}(t.audienceManager,e);return H(r)||(n.audienceManager=r),H(t.analytics)||(n.analytics=t.analytics),n}function Nr(t){return p(t)?function(){const t=Qt("at_preview_mode");if(F(t))return{};try{return JSON.parse(t)}catch(t){return{}}}():t}function Or(t){return p(t)?function(){const t=Qt("at_qa_mode");if(F(t))return{};try{return JSON.parse(t)}catch(t){return{}}}():t}function Ar(t){const e={},n=function(t){return t.orderId}(t);p(n)||(e.id=n);const r=function(t){return t.orderTotal}(t),o=parseFloat(r);isNaN(o)||(e.total=o);const i=function(t){const e=tt(B,ut(",",t.productPurchasedId));return I($,e)}(t);return H(i)||(e.purchasedProductIds=i),e}function _r(t,e){const n={},r=d({},mr(e),t.parameters||{}),o=d({},function(t){return ot((t,e,n)=>{if(!hr(n))return t;const r=n.substring("profile.".length);return F(r)||(t[r]=p(e)?"":e),t},{},t)}(e),t.profileParameters||{}),i=d({},Ar(e),t.order||{}),c=d({},function(t){const e={},n=function(t){return t.productId}(t);p(n)||(e.id=n);const r=function(t){return t.categoryId}(t);return p(r)||(e.categoryId=r),e}(e),t.product||{});return H(r)||(n.parameters=r),H(o)||(n.profileParameters=o),H(i)||(n.order=i),H(c)||(n.product=c),n}function Mr(t,e,n={}){const r=Dt().globalMboxName,{index:o,name:i,address:c}=t,u=_r(t,d({},i===r?e:n,fr(i)));return p(o)||(u.index=o),$(i)&&(u.name=i),H(c)||(u.address=c),u}function Pr(t,e,n){const{prefetch:r={}}=t,o={};if(H(r))return o;const{mboxes:i}=r;p(i)||!h(i)||H(i)||(o.mboxes=tt(t=>Mr(t,e,n),i));const{views:c}=r;return p(c)||!h(c)||H(c)||(o.views=tt(t=>function(t,e){const{name:n,address:r}=t,o=_r(t,e);return $(n)&&(o.name=n),H(r)||(o.address=r),o}(t,e),c)),o}function qr(t,e){if($e()&&!Fe(window,"ANALYTICS"))return null;const n=Dt(),r=Gn(t),o=Kn("trackingServer"),i=Kn("trackingServerSecure"),{experienceCloud:c={}}=e,{analytics:u={}}=c,{logging:s,supplementalDataId:a,trackingServer:f,trackingServerSecure:l}=u,d={};return p(s)?d.logging=n.analyticsLogging:d.logging=s,p(a)||(d.supplementalDataId=a),$(r)&&(d.supplementalDataId=r),p(f)||(d.trackingServer=f),$(o)&&(d.trackingServer=o),p(l)||(d.trackingServerSecure=l),$(i)&&(d.trackingServerSecure=i),H(d)?null:d}function Dr(t,e,n){const r=function(t){const e=Dt().globalMboxName;return d({},t,fr(e))}(n),o=Xe(),i=r.mbox3rdPartyId;const c=Fn(Zn()),u=kr(t.id||{},o,i,e,c),s=function(t,e){if(!p(t)&&$(t.token))return t;const n={},r=e.at_property;return $(r)&&(n.token=r),n}(t.property,r),a=Ir(t.experienceCloud||{},e),f=function(t){if(!p(t)&&$(t.authorizationToken))return t;const e={},n=ir();return $(n)&&(e.authorizationToken=n),e}(t.trace),l=Nr(t.preview),m=Or(t.qaMode),g=function(t,e,n){const{execute:r={}}=t,o={};if(H(r))return o;const{pageLoad:i}=r;p(i)||(o.pageLoad=_r(i,e));const{mboxes:c}=r;if(!p(c)&&h(c)&&!H(c)){const t=I(vr,tt(t=>Mr(t,e,n),c));H(t)||(o.mboxes=t)}return o}(t,r,n),v=Pr(t,r,n),{notifications:y}=t,b={};return b.requestId=st(),b.context=function(t){if(!p(t)&&"web"===t.channel)return t;const e=t||{},{beacon:n}=e;return{userAgent:window.navigator.userAgent,timeOffsetInMinutes:-(new Date).getTimezoneOffset(),channel:"web",screen:xr(),window:Sr(),browser:Er(),address:Cr(),geo:t&&t.geo,beacon:n}}(t.context),H(u)||(b.id=u),H(s)||(b.property=s),H(f)||(b.trace=f),H(a)||(b.experienceCloud=a),H(l)||(b.preview=l),H(m)||(b.qaMode=m),H(g)||(b.execute=g),H(v)||(b.prefetch=v),H(y)||(b.notifications=y),b}function Rr(t,e,n){const r=n[0],o=n[1];return Dr(t,r,d({},o,e))}function Lr(t,e){return br().then(n=>Rr(t,e,n))}function jr(t,e){return z(e)?e<0?t.timeout:e:t.timeout}function Hr(t){const e=t.serverDomain;if(!t.overrideMboxEdgeServer)return e;const n=function(){if(!Dt().overrideMboxEdgeServer)return"";const t=Qt("mboxEdgeCluster");return F(t)?"":t}();return F(n)?e:"mboxedge"+n+".tt.omtrdc.net"}function Vr(t){return t.scheme+"//"+Hr(t)+t.endpoint+"?"+Kt({client:t.clientCode,sessionId:Ke(),version:t.version})}function Ur(t,e,n){return ve("request",e),we({request:e}),function(t,e){const n=Dt();return gr({url:Vr(n),headers:{"Content-Type":["text/plain"]},body:t,timeout:jr(n,e),async:!0}).then(t=>d(t,{decisioningMethod:lt}))}(e,n).then(t=>(ve("response",t),we({response:t}),{request:e,response:t}))}const Br=t=>e=>e[t],Fr=t=>e=>!t(e),$r=Fr(p),zr=Fr(F),Jr=t=>e=>I(t,e),Zr=t=>t.status===Ct,Gr=t=>"actions"===t.type,Kr=t=>"redirect"===t.type,Xr=Jr($r),Yr=Jr(zr),Wr=Br("options"),Qr=Br(yt),to=Br("responseTokens"),eo=t=>$(t.name),no=t=>y(t)&&eo(t),ro=t=>y(t)&&eo(t)&&(t=>!p(t.index))(t),oo=t=>y(t)&&eo(t),io=Br("data"),co=O([io,$r]);function uo(t,e){return{status:kt,type:t,data:e}}function so(t,e){return{status:Ct,type:t,data:e}}function ao(t){return y(t)}function fo(t){return!!ao(t)&&$(t.eventToken)}function lo(t){return!H(t)&&!F(t.type)&&$(t.eventToken)}function po(t){return!!lo(t)&&$(t.selector)}function ho(t){const{id:e}=t;return y(e)&&$(e.tntId)}function mo(t){const{response:e}=t;return ho(e)&&function(t){const e=Dt();ae({name:"PC",value:t,expires:e.deviceIdLifetime,domain:e.cookieDomain})}(e.id.tntId),t}function go(t){const{response:e}=t;if(ho(e)){const{id:t}=e,{tntId:n}=t;We(n)}return We(null),t}function vo(t={}){const{trace:e}=t;H(e)||function(t){be(window,"serverTraces",t,de())}(e)}function yo(t){const{response:e}=t,{execute:n={},prefetch:r={}}=e,{pageLoad:o={},mboxes:i=[]}=n,{mboxes:c=[],views:u=[]}=r;return vo(o),A(vo,i),A(vo,c),A(vo,u),t}function bo(t){const e=t.queryKey,n=e.adobe_mc_sdid;if(!M(n))return e;if(F(n))return e;const r=Math.round(et()/1e3);return e.adobe_mc_sdid=n.replace(/\|TS=\d+/,"|TS="+r),e}function wo(t){return t.queryKey}function xo(t,e,n){const r=Wt(t),{protocol:o}=r,{host:i}=r,{path:c}=r,u=""===r.port?"":":"+r.port,s=F(r.anchor)?"":"#"+r.anchor,a=n(r),f=Kt(d({},a,e));return o+"://"+i+u+c+(F(f)?"":"?"+f)+s}function So(t,e){return xo(t,e,bo)}function Eo(t){const e=t.method||"GET",n=t.url||function(t){throw new Error(t)}("URL is required"),r=t.headers||{},o=t.data||null,i=t.credentials||!1,c=t.timeout||3e3,u=!!p(t.async)||!0===t.async,s={};return s.method=e,s.url=n,s.headers=r,s.data=o,s.credentials=i,s.timeout=c,s.async=u,s}function Co(t,e){const n=Eo(e),r=n.method,o=n.url,i=n.headers,c=n.data,u=n.credentials,s=n.timeout,a=n.async;return Le((e,n)=>{let f=new t.XMLHttpRequest;f=function(t,e,n){return t.onload=()=>{const r=1223===t.status?204:t.status;if(r<100||r>599)return void n(new Error("Network request failed"));const o=t.responseText,i=t.getAllResponseHeaders();e({status:r,headers:i,response:o})},t}(f,e,n),f=function(t,e){return t.onerror=()=>{e(new Error("Network request failed"))},t}(f,n),f.open(r,o,a),f=function(t,e){return!0===e&&(t.withCredentials=e),t}(f,u),f=function(t,e){return A((e,n)=>{A(e=>t.setRequestHeader(n,e),e)},e),t}(f,i),a&&(f=function(t,e,n){return t.timeout=e,t.ontimeout=()=>{n(new Error("Request timed out"))},t}(f,s,n)),f.send(c)})}function To(t){return Co(window,t)}function ko(t,e,n){const r={method:"GET"};return r.url=function(t,e){return xo(t,e,wo)}(t,e),r.timeout=n,r}function Io(t){const{status:e}=t;if(!function(t){return t>=200&&t<300||304===t}(e))return null;const n=t.response;if(F(n))return null;const r={type:"html"};return r.content=n,r}const No=/CLKTRK#(\S+)/,Oo=/CLKTRK#(\S+)\s/;function Ao(t){const e=t[yt],n=function(t){const e=t[bt];if(F(e))return"";const n=No.exec(e);return H(n)||2!==n.length?"":n[1]}(t);if(F(n)||F(e))return t;const r=t[bt];return t[bt]=r.replace(Oo,""),t[yt]=function(t,e){const n=document.createElement("div");n.innerHTML=e;const r=n.firstElementChild;return p(r)?e:(r.id=t,r.outerHTML)}(n,e),t}const _o=t=>!p(t);function Mo(t){const{selector:e}=t;return!p(e)}function Po(t){const e=t[vt];if(F(e))return null;switch(e){case"setHtml":return function(t){if(!Mo(t))return null;const e=Ao(t);return M(e[yt])?e:(ve(Et,e),null)}(t);case"setText":return function(t){if(!Mo(t))return null;const e=Ao(t);return M(e[yt])?e:(ve(Et,e),null)}(t);case"appendHtml":return function(t){if(!Mo(t))return null;const e=Ao(t);return M(e[yt])?e:(ve(Et,e),null)}(t);case"prependHtml":return function(t){if(!Mo(t))return null;const e=Ao(t);return M(e[yt])?e:(ve(Et,e),null)}(t);case"replaceHtml":return function(t){if(!Mo(t))return null;const e=Ao(t);return M(e[yt])?e:(ve(Et,e),null)}(t);case"insertBefore":return function(t){if(!Mo(t))return null;const e=Ao(t);return M(e[yt])?e:(ve(Et,e),null)}(t);case"insertAfter":return function(t){if(!Mo(t))return null;const e=Ao(t);return M(e[yt])?e:(ve(Et,e),null)}(t);case"customCode":return function(t){return Mo(t)?M(t[yt])?t:(ve(Et,t),null):null}(t);case"setAttribute":return function(t){return Mo(t)?y(t[yt])?t:(ve("Action has no attributes",t),null):null}(t);case"setImageSource":return function(t){return Mo(t)?M(t[yt])?t:(ve("Action has no image url",t),null):null}(t);case"setStyle":return function(t){return Mo(t)?y(t[yt])?t:(ve("Action has no CSS properties",t),null):null}(t);case"resize":return function(t){return Mo(t)?y(t[yt])?t:(ve("Action has no height or width",t),null):null}(t);case"move":return function(t){return Mo(t)?y(t[yt])?t:(ve("Action has no left, top or position",t),null):null}(t);case"remove":return function(t){return Mo(t)?t:null}(t);case"rearrange":return function(t){return Mo(t)?y(t[yt])?t:(ve("Action has no from or to",t),null):null}(t);case"redirect":return function(t){const{content:e}=t;return F(e)?(ve("Action has no url",t),null):(t.content=So(e,{}),t)}(t);default:return null}}function qo(t={}){const{options:e}=t;return h(e)?H(e)?[]:Xr(tt(to,e)):[]}function Do(t={}){const{execute:e={}}=t,{pageLoad:n={},mboxes:r=[]}=e,o=Wr(n)||[],i=N(Xr(tt(Wr,r))),c=N([o,i]),u=N(tt(Qr,I(Gr,c))),s=I(Kr,c),a=I(Kr,u),f=s.concat(a),l={};if(H(f))return l;const d=f[0].content;return F(d)||(l.url=d),l}function Ro(t={}){const{analytics:e}=t;return H(e)?[]:[e]}function Lo(t,e){t.parameters=e.parameters,t.profileParameters=e.profileParameters,t.order=e.order,t.product=e.product}function jo(t,e){const n=e[0],r=e[1],o=!H(n),i=!H(r);return o||i?(o&&(t.options=n),i&&(t.metrics=r),t):t}function Ho(t){const{type:e}=t;switch(e){case"redirect":return je(function(t){const e=t.content;if(F(e))return ve("Action has no url",t),null;const n=d({},t);return n.content=So(e,{}),n}(t));case"dynamic":return function(t){const{content:e}=t;return To(ko(e,{},Dt().timeout)).then(Io)['catch'](()=>null)}(t);case"actions":return je(function(t){const e=t[yt];if(!h(e))return null;if(H(e))return null;const n=I(_o,tt(Po,e));if(H(n))return null;const r=d({},t);return r.content=n,r}(t));default:return je(t)}}function Vo(t,e){if(!h(t))return je([]);if(H(t))return je([]);const n=I(e,t);if(H(n))return je([]);return Ve(tt(t=>Ho(t),n)).then(Xr)}function Uo(t,e){return h(t)?H(t)?je([]):je(I(e,t)):je([])}function Bo(t){const{name:e,analytics:n,options:r,metrics:o}=t,i={name:e,analytics:n};return Ve([Vo(r,ao),Uo(o,lo)]).then(t=>jo(i,t))}function Fo(t,e){const{index:n,name:r,state:o,analytics:i,options:c,metrics:u}=e,s=function(t,e,n){const{prefetch:r={}}=t,{mboxes:o=[]}=r;return H(o)?null:(i=I(t=>function(t,e,n){return t.index===e&&t.name===n}(t,e,n),o))&&i.length?i[0]:void 0;var i}(t,n,r),a={name:r,state:o,analytics:i};return p(s)||Lo(a,s),Ve([Vo(c,fo),Uo(u,lo)]).then(t=>jo(a,t))}function $o(t,e){const{name:n,state:r,analytics:o,options:i,metrics:c}=e,u=function(t){const{prefetch:e={}}=t,{views:n=[]}=e;return H(n)?null:n[0]}(t),s={name:n.toLowerCase(),state:r,analytics:o};return p(u)||Lo(s,u),Ve([Vo(i,fo),Uo(c,po)]).then(t=>jo(s,t))}function zo(t){const e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],c=t[5],u={},s={};y(e)&&(s.pageLoad=e),H(n)||(s.mboxes=n);const a={};return H(r)||(a.mboxes=r),H(o)||(a.views=o),H(i)||(a.metrics=i),H(s)||(u.execute=s),H(a)||(u.prefetch=a),H(c)||(u.meta=c),u}function Jo(t){const e=O([yo,mo,go])(t),n=function(t){const{response:e}=t,{execute:n}=e;if(!y(n))return je(null);const{pageLoad:r}=n;if(!y(r))return je(null);const{analytics:o,options:i,metrics:c}=r,u={analytics:o};return Ve([Vo(i,ao),Uo(c,po)]).then(t=>jo(u,t))}(e),r=function(t){const{response:e}=t,{execute:n}=e;if(!y(n))return je([]);const{mboxes:r}=n;return!h(r)||H(r)?je([]):Ve(tt(Bo,I(no,r))).then(Xr)}(e),o=function(t){const{request:e,response:n}=t,{prefetch:r}=n;if(!y(r))return je([]);const{mboxes:o}=r;return!h(o)||H(o)?je([]):Ve(tt(t=>Fo(e,t),I(ro,o))).then(Xr)}(e),i=function(t){const{request:e,response:n}=t,{prefetch:r}=n;if(!y(r))return je([]);const{views:o}=r;return!h(o)||H(o)?je([]):Ve(tt(t=>$o(e,t),I(oo,o))).then(Xr)}(e);return Ve([n,r,o,i,function(t){const{response:e}=t,{prefetch:n}=e;if(!y(n))return je([]);const{metrics:r}=n;return Uo(r,po)}(e),function(t){const{response:e}=t,{remoteMboxes:n,remoteViews:r,decisioningMethod:o}=e,i={};return y(n)&&(i.remoteMboxes=n),y(r)&&(i.remoteViews=r),M(o)&&(i.decisioningMethod=o),je(i)}(e)]).then(zo)}function Zo(t){return!H(Do(t))}function Go(t){const e=function(t={}){const{execute:e={},prefetch:n={}}=t,{pageLoad:r={},mboxes:o=[]}=e,{mboxes:i=[],views:c=[]}=n,u=qo(r),s=N(tt(qo,o)),a=N(tt(qo,i)),f=N(tt(qo,c));return N([u,s,a,f])}(t),n={};return H(e)||(n.responseTokens=e),n}function Ko(t){const e=Go(t),n=function(t={}){const{execute:e={},prefetch:n={}}=t,{pageLoad:r={},mboxes:o=[]}=e,{mboxes:i=[],views:c=[]}=n,u=Ro(r),s=N(tt(Ro,o)),a=N(tt(Ro,i)),f=N(tt(Ro,c));return N([u,s,a,f])}(t);return H(n)||(e.analyticsDetails=n),ve("request succeeded",t),nn(e,Zo(t)),je(t)}function Xo(t){const e=Dt().globalMboxName,{mbox:n,timeout:r}=t,o=y(t.params)?t.params:{},i={},c={};n===e?c.pageLoad={}:c.mboxes=[{index:0,name:n}],i.execute=c;const u=qr(n,i);if(!H(u)){const t={};t.analytics=u,i.experienceCloud=t}return en({mbox:n}),Lr(i,o).then(t=>Ur(0,t,r)).then(Jo).then(t=>function(t,e){const n=Go(e);return n.mbox=t,ve("request succeeded",e),nn(n,Zo(e)),je(e)}(n,t))['catch'](t=>function(t,e){return ge("request failed",e),rn({mbox:t,error:e}),He(e)}(n,t))}function Yo(t){const e=Dt().globalMboxName,{consumerId:n=e,request:r,timeout:o}=t,i=qr(n,r);if(!H(i)){const t=r.experienceCloud||{};t.analytics=i,r.experienceCloud=t}return en({}),Lr(r,{}).then(t=>Ur(0,t,o)).then(Jo).then(t=>Ko(t))['catch'](t=>function(t){return ge("request failed",t),rn({error:t}),He(t)}(t))}function Wo(t,e){return mn(e).addClass(t)}function Qo(t,e){return mn(e).css(t)}function ti(t,e){return mn(e).attr(t)}function ei(t,e,n){return mn(n).attr(t,e)}function ni(t,e){return mn(e).removeAttr(t)}function ri(t,e,n){const r=ti(t,n);$(r)&&(ni(t,n),ei(e,r,n))}function oi(t){return new Error("Could not find: "+t)}function ii(t,e=Dt().selectorsPollingTimeout,n=mn){const r=n(t);return H(r)?qe()?function(t,e,n){return Le((r,o)=>{const i=De(()=>{const e=n(t);H(e)||(i.disconnect(),r(e))});at(()=>{i.disconnect(),o(oi(t))},e),i.observe(document,{childList:!0,subtree:!0})})}(t,e,n):"visible"===document.visibilityState?function(t,e,n){return Le((r,o)=>{!function e(){const o=n(t);H(o)?window.requestAnimationFrame(e):r(o)}(),at(()=>{o(oi(t))},e)})}(t,e,n):function(t,e,n){return Le((r,o)=>{!function e(){const o=n(t);H(o)?at(e,100):r(o)}(),at(()=>{o(oi(t))},e)})}(t,e,n):je(r)}function ci(t){return ti("data-at-src",t)}function ui(t){return $(ti("data-at-src",t))}function si(t){return A(t=>ri(wt,"data-at-src",t),R(bn("img",t))),t}function ai(t){return A(t=>ri("data-at-src",wt,t),R(bn("img",t))),t}function fi(t){return ve("Loading image",t),ti(wt,ei(wt,t,Me("<img/>")))}function li(t){const e=I(ui,R(bn("img",t)));return H(e)||A(fi,tt(ci,e)),t}function di(t){const e=ti(wt,t);return $(e)?e:null}function pi(t,e){return ge("Unexpected error",e),we({action:t,error:e}),t}function hi(t,e){const n=mn(e[bt]),r=function(t){return O([si,li,ai])(t)}(vn(e[yt])),o=function(t){return I($,tt(di,R(bn("script",t))))}(r);let i;try{i=je(t(n,r))}catch(t){return He(pi(e,t))}return H(o)?i.then(()=>e)['catch'](t=>pi(e,t)):i.then(()=>function(t){return ot((t,e)=>t.then(()=>(ve("Script load",e),we({remoteScript:e}),fn(e))),je(),t)}(o)).then(()=>e)['catch'](t=>pi(e,t))}function mi(t){const e=d({},t),n=e[yt];if(F(n))return e;const r=mn(e[bt]);return o="head",mn(r).is(o)?(e[vt]="appendHtml",e[yt]=function(t){return W("",ot((t,e)=>(t.push(Pn(vn(e))),t),[],R(bn("script,link,style",vn(t)))))}(n),e):e;var o}function gi(t){return t.indexOf("px")===t.length-2?t:t+"px"}function vi(t,e){return n=Pn(e),mn(t).html(n);var n}function yi(t){const e=mn(t[bt]),n=t[yt];return ve("Rendering action",t),we({action:t}),function(t,e){mn(e).text(t)}(n,e),je(t)}function bi(t,e){return Mn(Pn(e),t)}function wi(t,e){return n=Pn(e),mn(t).prepend(n);var n}function xi(t,e){const n=yn(t);return On(_n(Pn(e),t)),n}function Si(t,e){return mn(_n(Pn(e),t)).prev()}function Ei(t,e){return mn(An(Pn(e),t)).next()}function Ci(t,e){return yn(_n(Pn(e),t))}function Ti(t){const e=mn(t[bt]),n=t[yt],r=n.priority;return ve("Rendering action",t),we({action:t}),F(r)?Qo(n,e):function(t,e,n){A(t=>{A((e,r)=>t.style.setProperty(r,e,n),e)},R(t))}(e,n,r),je(t)}function ki(t){const e=mn(t[bt]),n=t[yt],r=n.from,o=n.to,i=R(mn(e).children());const c=i[r],u=i[o];return gn(c)&&gn(u)?(ve("Rendering action",t),we({action:t}),r<o?An(c,u):_n(c,u),je(t)):(ve("Rearrange elements are missing",t),He(t))}function Ii(t){const e=mi(t);switch(e[vt]){case"setHtml":return function(t){return ve("Rendering action",t),hi(vi,t)}(e);case"setText":return yi(e);case"appendHtml":return function(t){return ve("Rendering action",t),hi(bi,t)}(e);case"prependHtml":return function(t){return ve("Rendering action",t),hi(wi,t)}(e);case"replaceHtml":return function(t){return ve("Rendering action",t),hi(xi,t)}(e);case"insertBefore":return function(t){return ve("Rendering action",t),hi(Si,t)}(e);case"insertAfter":return function(t){return ve("Rendering action",t),hi(Ei,t)}(e);case"customCode":return function(t){return ve("Rendering action",t),hi(Ci,t)}(e);case"setAttribute":return function(t){const e=t[yt],n=mn(t[bt]);return ve("Rendering action",t),we({action:t}),A((t,e)=>ei(e,t,n),e),je(t)}(e);case"setImageSource":return function(t){const e=t[yt],n=mn(t[bt]);return ve("Rendering action",t),we({action:t}),ni(wt,n),ei(wt,fi(e),n),je(t)}(e);case"setStyle":return Ti(e);case"resize":return function(t){const e=mn(t[bt]),n=t[yt];return n.width=gi(n.width),n.height=gi(n.height),ve("Rendering action",t),we({action:t}),Qo(n,e),je(t)}(e);case"move":return function(t){const e=mn(t[bt]),n=t[yt];return n.left=gi(n.left),n.top=gi(n.top),ve("Rendering action",t),we({action:t}),Qo(n,e),je(t)}(e);case"remove":return function(t){const e=mn(t[bt]);return ve("Rendering action",t),we({action:t}),On(e),je(t)}(e);case"rearrange":return ki(e);default:return je(e)}}function Ni(t){const e=t[bt];return $(e)||ln(e)}function Oi(t){const e=t.cssSelector;F(e)||On("#at-"+P(e))}function Ai(t){if(!Ni(t))return void Oi(t);const e=t[bt];!function(t){return"trackClick"===t[vt]||"signalClick"===t[vt]}(t)?(Wo("at-element-marker",e),Oi(t)):Wo("at-element-click-tracking",e)}function _i(t){return function(t){const{key:e}=t;if(F(e))return!0;if("customCode"===t[vt])return t.page;const n=ti("at-action-key",t[bt]);return n!==e||n===e&&!t.page}(t)?Ii(t).then(()=>(ve("Action rendered successfully",t),we({action:t}),function(t){const{key:e}=t;if(F(e))return;if(!Ni(t))return;ei("at-action-key",e,t[bt])}(t),Ai(t),t))['catch'](e=>{ge("Unexpected error",e),we({action:t,error:e}),Ai(t);const n=d({},t);return n[Ct]=!0,n}):(Ai(t),t)}function Mi(t){const e=I(t=>!0===t[Ct],t);return H(e)?je():(function(t){A(Ai,t)}(e),He(t))}function Pi(t){return function(t){return ii(t[bt]).then(()=>t)['catch'](()=>{const e=d({},t);return e[Ct]=!0,e})}(t).then(_i)}function qi(t,e,n){return mn(n).on(t,e)}function Di(t){return ii(t[bt]).then(()=>{we({metric:t});return d({found:!0},t)})['catch'](()=>(ge("metric element not found",t),we({metric:t,message:"metric element not found"}),t))}function Ri(t){const e=t.name,n=Wn("views")||{};n[e]=t,Yn("views",n)}function Li(t,e={}){const{page:n=!0}=e,r=(Wn("views")||{})[t];if(p(r))return r;const{impressionId:o}=e;return p(o)?r:d({page:n,impressionId:o},r)}function ji(t){const e=qr(t,{}),n={context:{beacon:!0}};if(!H(e)){const t={};t.analytics=e,n.experienceCloud=t}return n}function Hi(t,e,n){const r=function(t,e){return Rr(t,e,wr())}(ji(t),e);return r.notifications=n,r}function Vi(t,e,n){const r=st(),o=et(),{parameters:i,profileParameters:c,order:u,product:s}=t,a={id:r,type:e,timestamp:o,parameters:i,profileParameters:c,order:u,product:s};return H(n)||(a.tokens=n),a}function Ui(t){const e=Vr(Dt());return function(t,e){return"navigator"in(n=window)&&"sendBeacon"in n.navigator?function(t,e,n){return t.navigator.sendBeacon(e,n)}(window,t,e):function(t,e,n){const r={"Content-Type":["text/plain"]},o={method:"POST"};o.url=e,o.data=n,o.credentials=!0,o.async=!1,o.headers=r;try{t(o)}catch(t){return!1}return!0}(To,t,e);var n}(e,JSON.stringify(t))?(ve("Beacon data sent",e,t),!0):(ge("Beacon data sent failed",e,t),!1)}function Bi(t,e,n){const r=fr(Dt().globalMboxName),o=Vi(_r({},r),e,[n]),i=Hi(st(),r,[o]);ve("Event handler notification",t,o),we({source:t,event:e,request:i}),Ui(i)}function Fi(t,e,n){const r=fr(t),o=Vi(_r({},r),e,[n]);o.mbox={name:t};const i=Hi(st(),r,[o]);ve("Mbox event handler notification",t,o),we({mbox:t,event:e,request:i}),Ui(i)}function $i(t){const e=Dt().globalMboxName,n=[];if(A(t=>{const{mbox:e,data:r}=t;if(p(r))return;const{eventTokens:o=[]}=r;H(o)||n.push(function(t,e,n){const{name:r,state:o}=t,i=Vi(t,e,n);return i.mbox={name:r,state:o},i}(e,"display",o))},t),H(n))return;const r=Hi(e,{},n);ve("Mboxes rendered notification",n),we({source:"prefetchMboxes",event:"rendered",request:r}),Ui(r)}function zi(t,e,n){const r=fr(Dt().globalMboxName),o=Vi(_r({},r),e,[n]);o.view={name:t};const i=Hi(st(),r,[o]);ve("View event handler notification",t,o),we({view:t,event:e,request:i}),Ui(i)}function Ji(t){const{viewName:e,impressionId:n}=t,r=fr(Dt().globalMboxName),o=Vi(_r({},r),"display",[]);o.view={name:e},ve("View triggered notification",e),function(t,e,n){return Lr(ji(t),e).then(t=>(t.notifications=n,t))}(e,r,[o]).then(t=>{t.impressionId=n,we({view:e,event:"triggered",request:t}),Ui(t)})}function Zi(t){if(p(t))return;const{view:e,data:n={}}=t,{eventTokens:r=[]}=n;if(H(r))return;const{name:o,impressionId:i}=e,c=Li(o);if(p(c))return;const u=Hi(o,{},[function(t,e,n){const{name:r,state:o}=t,i=Vi(t,e,n);return i.view={name:r,state:o},i}(c,"display",r)]);u.impressionId=i,ve("View rendered notification",o,r),we({view:o,event:"rendered",request:u}),Ui(u)}const Gi={},Ki=Br("metrics"),Xi=t=>so("metric",t);function Yi(t,e,n){if(!p(Gi[t]))return;const r=S(Gi);H(r)||A(t=>{A(r=>{const o=Gi[t][r];!function(t,e,n){mn(n).off(t,e)}(e,o,n)},S(Gi[t])),delete Gi[t]},r)}function Wi(t,e,n,r){const{type:o,selector:i,eventToken:c}=n,u=P(o+":"+i+":"+c),s=()=>r(t,o,c);!function(t,e){"click"===t&&Wo("at-element-click-tracking",e)}(o,i),e?function(t,e){return!p(Gi[t])&&!p(Gi[t][e])}(t,u)||(Yi(t,o,i),function(t,e,n){Gi[t]=Gi[t]||{},Gi[t][e]=n}(t,u,s),qi(o,s,i)):qi(o,s,i)}function Qi(t,e,n,r){return Ve(tt(Di,n)).then(n=>(A(n=>Wi(t,e,n,r),I(t=>t.found,n)),uo("metric")))['catch'](Xi)}function tc(t){const{name:e}=t;return Qi(e,!1,Ki(t),Fi)}function ec(t){const{name:e}=t;return Qi(e,!0,Ki(t),zi)}function nc(t){return Qi("pageLoadMetrics",!1,Ki(t),Bi)}function rc(t){return Qi("prefetchMetrics",!1,Ki(t),Bi)}const oc=Br(yt),ic=Br("cssSelector"),cc=t=>so("render",t),uc=t=>Fr(Zr)(t)&&co(t);function sc(t){const e=tt(ic,t);var n;n=Yr(e),Dn(Dt(),n)}function ac(t){const e=tt(ic,t);var n;n=Xr(e),Rn(Dt(),n)}function fc(t){const e=I(Gr,Wr(t));return N(tt(oc,e))}function lc(t){return y(t)&&"setJson"!==t.type}function dc(t,e,n){const{eventToken:r,content:o}=t;return function(t){return Ve(tt(Pi,t)).then(Mi)}(function(t,e,n){return tt(t=>d({key:e,page:n},t),I(lc,t))}(o,e,n)).then(()=>(t=>uo("render",t))(r))['catch'](cc)}function pc(t){return y(t)&&"json"!==t.type}function hc(t,e){return tt(t,I(pc,Wr(e)))}function mc(t,e,n){const r={status:kt,[t]:e},o=tt(io,I(Zr,n)),i={};return H(o)||(r.status=Ct,i.errors=o),H(i)||(r.data=i),r}function gc(t,e,n){return Ve(hc(t=>dc(t,!0),t)).then(e).then(e=>(n(t),e))}function vc(t,e,n,r){const{name:o}=e;return Ve(hc(t=>dc(t,o,n),e)).then(n=>function(t,e,n){const r={status:kt,[t]:e},o=tt(io,I(Zr,n)),i=tt(io,I(uc,n)),c={};return H(o)||(r.status=Ct,c.errors=o),H(i)||(c.eventTokens=i),H(c)||(r.data=c),r}(t,e,n)).then(t=>(r(e),t))}function yc(t){return gc(t,e=>mc("mbox",t,e),tc)}function bc(t){return vc("mbox",t,!0,tc)}function wc(t,e=!1){if(e)return;const{execute:n={}}=t,{pageLoad:r={}}=n;H(r)||sc(fc(r))}function xc(t){sc(fc(t)),gn("#at-views")&&On("#at-views")}function Sc(){}Sc.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,c=r.length;i<c;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}};var Ec=Sc,Cc=Sc;Ec.TinyEmitter=Cc;const Tc=new Ec;function kc(t,e){!function(t,e,n){t.emit(e,n)}(Tc,t,e)}function Ic(t,e){!function(t,e,n){t.on(e,n)}(Tc,t,e)}function Nc(t){return{type:"redirect",content:t.url}}function Oc(t){const e={};if(H(t))return e;const n=[],r=[],o=[];A(t=>{switch(t.action){case"setContent":$((e=t).selector)&&$(e.cssSelector)?o.push(function(t){const e={type:"setHtml"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t)):n.push({type:"html",content:t.content});break;case"setJson":H(t.content)||A(t=>n.push({type:"json",content:t}),t.content);break;case"setText":o.push(function(t){const e={type:"setText"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"appendContent":o.push(function(t){const e={type:"appendHtml"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"prependContent":o.push(function(t){const e={type:"prependHtml"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"replaceContent":o.push(function(t){const e={type:"replaceHtml"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"insertBefore":o.push(function(t){const e={type:"insertBefore"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"insertAfter":o.push(function(t){const e={type:"insertAfter"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"customCode":o.push(function(t){const e={type:"customCode"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"setAttribute":o.push(function(t){const e={};if(e.selector=t.selector,e.cssSelector=t.cssSelector,t.attribute===wt)return e.type="setImageSource",e.content=t.value,e;e.type="setAttribute";const n={};return n[t.attribute]=t.value,e.content=n,e}(t));break;case"setStyle":o.push(function(t){const{style:e={}}=t,n={};return n.selector=t.selector,n.cssSelector=t.cssSelector,p(e.left)||p(e.top)?p(e.width)||p(e.height)?(n.type="setStyle",n.content=e,n):(n.type="resize",n.content=e,n):(n.type="move",n.content=e,n)}(t));break;case"remove":o.push(function(t){const e={type:"remove"};return e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"rearrange":o.push(function(t){const e={};e.from=t.from,e.to=t.to;const n={type:"rearrange"};return n.selector=t.selector,n.cssSelector=t.cssSelector,n.content=e,n}(t));break;case"redirect":n.push(Nc(t));break;case"trackClick":r.push({type:"click",selector:t.selector,eventToken:t.clickTrackId})}var e},t);const i={};!H(o)&&n.push({type:"actions",content:o});!H(n)&&(i.options=n);if(!H(r)&&(i.metrics=r),H(i))return e;const c={};return c.pageLoad=i,e.execute=c,e}function Ac(t,e,n){return n?Oc(e):function(t,e){const n={};if(H(e))return n;const r=[],o=[];A(t=>{switch(t.action){case"setContent":r.push({type:"html",content:t.content});break;case"setJson":H(t.content)||A(t=>r.push({type:"json",content:t}),t.content);break;case"redirect":r.push(Nc(t));break;case"signalClick":o.push({type:"click",eventToken:t.clickTrackId})}},e);const i={name:t};if(!H(r)&&(i.options=r),!H(o)&&(i.metrics=o),H(i))return n;const c={},u=[i];return c.mboxes=u,n.execute=c,n}(t,e)}const _c=t=>!H(I(Zr,t));function Mc(t){const{status:e,data:n}=t,r={status:e,pageLoad:!0};return p(n)||(r.data=n),r}function Pc(t){const{status:e,mbox:n,data:r}=t,{name:o}=n,i={status:e,mbox:o};return p(r)||(i.data=r),i}function qc(t){const{status:e,view:n,data:r}=t,{name:o}=n,i={status:e,view:o};return p(r)||(i.data=r),i}function Dc(t){const{status:e,data:n}=t,r={status:e,prefetchMetrics:!0};return p(n)||(r.data=n),r}function Rc(t){if(p(t))return[null];const e=tt(Mc,[t]);return _c(e)&&ge("Page load rendering failed",t),e}function Lc(t){if(p(t))return[null];const e=tt(Pc,t);return _c(e)&&ge("Mboxes rendering failed",t),e}function jc(t,e=$i){if(p(t))return[null];const n=tt(Pc,t);return _c(n)&&ge("Mboxes rendering failed",t),e(t),n}function Hc(t,e=Zi){if(p(t))return[null];const n=tt(qc,[t]);_c(n)&&ge("View rendering failed",t);const{view:r}=t;return r.page?(e(t),n):n}function Vc(t){if(p(t))return[null];const e=tt(Dc,[t]);return _c(e)&&ge("Prefetch rendering failed",t),e}function Uc(t){const e=N([Rc(t[0]),Lc(t[1]),jc(t[2]),Vc(t[3])]),n=I($r,e),r=I(Zr,n);return H(r)?je(n):He(r)}function Bc(t){return He(t)}function Fc(t,e){if(H(e))return;const{options:n}=e;H(n)||A(e=>{if("html"!==e.type)return;const{content:n}=e;e.type="actions",e.content=[{type:"setHtml",selector:t,content:n}]},n)}function $c(t,e){const{metrics:n}=e;if(H(n))return;const{name:r}=e;A(e=>{e.name=r,e.selector=e.selector||t},n)}function zc(t,e){const n=d({},e),{execute:r={},prefetch:o={}}=n,{pageLoad:i={},mboxes:c=[]}=r,{mboxes:u=[]}=o;return Fc(t,i),A(e=>Fc(t,e),c),A(e=>$c(t,e),c),A(e=>Fc(t,e),u),A(e=>$c(t,e),u),n}function Jc(t){const{prefetch:e={}}=t,{views:n=[]}=e;H(n)||function(t){A(Ri,t)}(n)}function Zc(t){const e=[],{execute:n={}}=t,{pageLoad:r={},mboxes:o=[]}=n;H(r)?e.push(je(null)):e.push(function(t){return gc(t,e=>mc("pageLoad",t,e),nc)}(r)),H(o)?e.push(je(null)):e.push(function(t){return Ve(tt(yc,t))}(o));const{prefetch:i={}}=t,{mboxes:c=[],metrics:u=[]}=i;return H(c)?e.push(je(null)):e.push(function(t){return Ve(tt(bc,t))}(c)),h(u)&&!H(u)?e.push(function(t){return Ve([rc(t)]).then(mc)}(i)):e.push(je(null)),jn(),Ve(e).then(Uc)['catch'](Bc)}function Gc(t,e){at(()=>t.location.replace(e))}function Kc(t){return $(t)||ln(t)?t:"head"}function Xc(t){Wo("at-element-marker",t)}function Yc(t,e=!1){const{selector:n,response:r}=t;if(H(r))return ve("No actions to be rendered"),Xc(n),jn(),sn({}),kc("no-offers-event"),je();const o=zc(n,r),i=Do(o);if(!H(i)){const{url:t}=i;return ve("Redirect action",i),an({url:t}),kc("redirect-offer-event"),Gc(window,t),je()}return on({}),Jc(o),kc("cache-updated-event"),wc(o,e),Zc(o).then(t=>{H(t)||cn({execution:t})})['catch'](t=>un({error:t}))}const Wc="[page-init]";function Qc(t){ge(Wc,"View delivery error",t),we({source:Wc,error:t}),jn()}function tu(t,e=!1){const n={selector:"head",response:t};ve(Wc,"response",t),we({source:Wc,response:t}),Yc(n,e)['catch'](Qc)}function eu(t){const e=function(t){return t.serverState}(t),{request:n,response:r}=e;ve(Wc,"Using server state"),we({source:Wc,serverState:e});const o=function(t,e){const n=d({},e),{execute:r,prefetch:o}=n,i=t.pageLoadEnabled,c=t.viewsEnabled;return r&&(n.execute.mboxes=null),r&&!i&&(n.execute.pageLoad=null),o&&(n.prefetch.mboxes=null),o&&!c&&(n.prefetch.views=null),n}(t,r);wc(o),function(t){const{prefetch:e={}}=t,{views:n=[]}=e;if(H(n))return;ac(N(tt(fc,n)))}(o),Jo({request:n,response:o}).then(t=>tu(t,!0))['catch'](Qc)}function nu(){if(!le())return ge(Wc,xt),void we({source:Wc,error:xt});const t=Dt();if(function(t){const e=t.serverState;if(H(e))return!1;const{request:n,response:r}=e;return!H(n)&&!H(r)}(t))return void eu(t);const e=t.pageLoadEnabled,n=t.viewsEnabled;if(!e&&!n)return ve(Wc,"Page load disabled"),void we({source:Wc,error:"Page load disabled"});Ln();const r={};if(e){const t={pageLoad:{}};r.execute=t}if(n){const t={views:[{}]};r.prefetch=t}const o=t.timeout;ve(Wc,"request",r),we({source:Wc,request:r});const i={request:r,timeout:o};$e()&&!ze()?Je().then(()=>{Yo(i).then(tu)['catch'](Qc)})['catch'](Qc):Yo(i).then(tu)['catch'](Qc)}function ru(){const t={valid:!0};return t}function ou(t){const e={valid:!1};return e[Ct]=t,e}function iu(t){return F(t)?ou("mbox option is required"):t.length>250?ou("mbox option is too long"):ru()}function cu(t){return{action:"redirect",url:t.content}}function uu(t){const e=[];return A(t=>{const{type:n}=t;switch(n){case"setHtml":e.push(function(t){const e={action:"setContent"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"setText":e.push(function(t){const e={action:"setText"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"appendHtml":e.push(function(t){const e={action:"appendContent"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"prependHtml":e.push(function(t){const e={action:"prependContent"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"replaceHtml":e.push(function(t){const e={action:"replaceContent"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"insertBefore":e.push(function(t){const e={action:"insertBefore"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"insertAfter":e.push(function(t){const e={action:"insertAfter"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"customCode":e.push(function(t){const e={action:"customCode"};return e.content=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"setAttribute":e.push(function(t){const e=S(t.content)[0],n={action:"setAttribute"};return n.attribute=e,n.value=t.content[e],n.selector=t.selector,n.cssSelector=t.cssSelector,n}(t));break;case"setImageSource":e.push(function(t){const e={action:"setAttribute"};return e.attribute=wt,e.value=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"setStyle":e.push(function(t){const e={action:"setStyle"};return e.style=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"resize":e.push(function(t){const e={action:"setStyle"};return e.style=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"move":e.push(function(t){const e={action:"setStyle"};return e.style=t.content,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"remove":e.push(function(t){const e={action:"remove"};return e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"rearrange":e.push(function(t){const e={action:"rearrange"};return e.from=t.content.from,e.to=t.content.to,e.selector=t.selector,e.cssSelector=t.cssSelector,e}(t));break;case"redirect":e.push(cu(t))}},t),e}function su(t){if(H(t))return[];const e=[];return A(t=>{"click"===t.type&&($(t.selector)?e.push({action:"trackClick",selector:t.selector,clickTrackId:t.eventToken}):e.push({action:"signalClick",clickTrackId:t.eventToken}))},t),e}function au(t){if(H(t))return[];const e=[],n=[],r=[],{options:o=[],metrics:i=[]}=t;A(t=>{const{type:o}=t;switch(o){case"html":e.push(t.content);break;case"json":n.push(t.content);break;case"redirect":r.push(cu(t));break;case"actions":r.push.apply(r,uu(t.content))}},o),H(e)||r.push({action:"setContent",content:e.join("")}),H(n)||r.push({action:"setJson",content:n});const c=su(i);return H(c)||r.push.apply(r,c),r}const fu="[getOffer()]";function lu(t,e){const n=function(t){const{execute:e={}}=t,{pageLoad:n={}}=e,{mboxes:r=[]}=e,o=[];return o.push.apply(o,au(n)),o.push.apply(o,N(tt(au,r))),o}(e);t[kt](n)}function du(t){const e=function(t){if(!y(t))return ou(St);const e=iu(t.mbox);return e[Tt]?b(t[kt])?b(t[Ct])?ru():ou("error option is required"):ou("success option is required"):e}(t),n=e[Ct];if(!e[Tt])return ge(fu,n),void we({source:fu,options:t,error:n});if(!le())return at(t[Ct]("warning",xt)),ge(fu,xt),void we({source:fu,options:t,error:xt});const r=e=>lu(t,e),o=e=>function(t,e){const n=e.status||"unknown";t[Ct](n,e)}(t,e);ve(fu,t),we({source:fu,options:t}),$e()&&!ze()?Je().then(()=>{Xo(t).then(r)['catch'](o)}):Xo(t).then(r)['catch'](o)}const pu="[getOffers()]";function hu(t){const e=function(t){if(!y(t))return ou(St);const{request:e}=t;if(!y(e))return ou("request option is required");const{execute:n,prefetch:r}=e;return y(n)||y(r)?ru():ou("execute or prefetch is required")}(t),n=e[Ct];return e[Tt]?le()?(ve(pu,t),we({source:pu,options:t}),!$e()||ze()?Yo(t):Je().then(()=>Yo(t))):(ge(pu,xt),we({source:pu,options:t,error:xt}),He(new Error(xt))):(ge(pu,n),we({source:pu,options:t,error:n}),He(e))}const mu="[applyOffer()]";function gu(t){const e=Kc(t.selector),n=function(t){if(!y(t))return ou(St);const e=iu(t.mbox);if(!e[Tt])return e;const n=t.offer;return h(n)?ru():ou("offer option is required")}(t),r=n[Ct];return n[Tt]?le()?(t.selector=e,ve(mu,t),we({source:mu,options:t}),void function(t){const{mbox:e,selector:n,offer:r}=t,o=Dt(),i=e===o.globalMboxName;if(H(r))return ve("No actions to be rendered"),Xc(n),jn(),void sn({mbox:e});const c=zc(n,Ac(e,r,i)),u=Do(c);if(!H(u)){const{url:t}=u;return ve("Redirect action",u),an({url:t}),void Gc(window,t)}on({mbox:e}),wc(c),Zc(c).then(t=>{H(t)||cn({mbox:e,execution:t})})['catch'](t=>un({error:t}))}(t)):(ge(mu,xt),we({source:mu,options:t,error:xt}),void Xc(e)):(ge(mu,t,r),we({source:mu,options:t,error:r}),void Xc(e))}function vu(t){const e=Kc(t.selector),n=function(t){if(!y(t))return ou(St);const{response:e}=t;return y(e)?ru():ou("response option is required")}(t),r=n[Ct];return n[Tt]?le()?(t.selector=e,ve("[applyOffers()]",t),we({source:"[applyOffers()]",options:t}),Yc(t)):(ge("[applyOffers()]",xt),we({source:"[applyOffers()]",options:t,error:xt}),Xc(e),He(new Error(xt))):(ge("[applyOffers()]",t,r),we({source:"[applyOffers()]",options:t,error:r}),Xc(e),He(n))}function yu(t){const e=Dt().globalMboxName,{consumerId:n=e,request:r}=t,o=function(t){if(!y(t))return ou(St);const{request:e}=t;if(!y(e))return ou("request option is required");const{execute:n,prefetch:r,notifications:o}=e;return y(n)||y(r)?ou("execute or prefetch is not allowed"):h(o)?ru():ou("notifications are required")}(t),i=o[Ct];if(!o[Tt])return ge("[sendNotifications()]",i),void we({source:"[sendNotifications()]",options:t,error:i});if(!le())return ge("[sendNotifications()]",xt),void we({source:"[sendNotifications()]",options:t,error:xt});ve("[sendNotifications()]",t),we({source:"[sendNotifications()]",options:t});const{notifications:c}=r,u=Hi(n,{},c);!$e()||ze()?Ui(u):ge("[sendNotifications()]","Adobe Target is not opted in")}const bu="[trackEvent()]";function wu(t){if($e()&&!ze())return ge("Track event request failed","Adobe Target is not opted in"),void t[Ct](Ct,"Adobe Target is not opted in");!function(t){const{mbox:e}=t,n=y(t.params)?t.params:{},r=d({},fr(e),n),o=Vi(_r({},r),"display",[]);if(o.mbox={name:e},Ui(Hi(e,r,[o])))return ve("Track event request succeeded",t),void t[kt]();ge("Track event request failed",t),t[Ct]("unknown","Track event request failed")}(t)}function xu(t){const e=t[bt],n=t[vt],r=R(mn(e)),o=()=>function(t){return wu(t),!t.preventDefault}(t);A(t=>qi(n,o,t),r)}function Su(t){const e=function(t){if(!y(t))return ou(St);const e=iu(t.mbox);return e[Tt]?ru():e}(t),n=e[Ct];if(!e[Tt])return ge(bu,n),void we({source:bu,options:t,error:n});const r=function(t,e){const n=e.mbox,r=d({},e),o=y(e.params)?e.params:{};return r.params=d({},fr(n),o),r.timeout=jr(t,e.timeout),r[kt]=b(e[kt])?e[kt]:dt,r[Ct]=b(e[Ct])?e[Ct]:dt,r}(Dt(),t);if(!le())return ge(bu,xt),at(r[Ct]("warning",xt)),void we({source:bu,options:t,error:xt});ve(bu,r),we({source:bu,options:r}),function(t){const e=t[vt],n=t[bt];return $(e)&&($(n)||ln(n))}(r)?xu(r):wu(r)}const Eu=[];let Cu=0;function Tu(t){return xc(t),function(t){const{page:e}=t;return vc("view",t,e,ec)}(t).then(Hc).then(t=>{H(t)||cn({execution:t})})['catch'](t=>{ge("View rendering failed",t),un({error:t})})}function ku(){for(;Eu.length>0;){const t=Eu.pop(),{viewName:e}=t,n=Li(e,t);p(n)||Tu(n)}}function Iu(){Cu=1,ku()}function Nu(t){!function(t){if(!pe())return;const e=t.viewName;window._AT.currentView=e}(t);const{viewName:e}=t;p(Li(e,t))&&t.page&&Ji(t),Eu.push(t),1===Cu&&ku()}function Ou(t,e){if(!M(t)||F(t))return ge("[triggerView()]","View name should be a non-empty string",t),void we({source:"[triggerView()]",view:t,error:"View name should be a non-empty string"});const n=t.toLowerCase(),r=function(t,e){const n={};return n.viewName=t,n.impressionId=st(),n.page=!0,H(e)||(n.page=!!e.page),n}(n,e);ve("[triggerView()]",n,r),we({source:"[triggerView()]",view:n,options:r}),Nu(r)}Ic("cache-updated-event",Iu),Ic("no-offers-event",Iu),Ic("redirect-offer-event",Iu);const Au="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",_u="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Mu="mboxCreate() "+Au,Pu="mboxDefine() "+Au,qu="mboxUpdate() "+Au;function Du(){ge(_u,arguments)}function Ru(){ge(Mu,arguments)}function Lu(){ge(Pu,arguments)}function ju(){ge(qu,arguments)}return{init:function(t,e,n){if(t.adobe&&t.adobe.target&&void 0!==t.adobe.target.getOffer)return void ge("Adobe Target has already been initialized.");qt(n);const r=Dt(),o=r.version;if(t.adobe.target.VERSION=o,t.adobe.target.event={LIBRARY_LOADED:"at-library-loaded",REQUEST_START:"at-request-start",REQUEST_SUCCEEDED:"at-request-succeeded",REQUEST_FAILED:"at-request-failed",CONTENT_RENDERING_START:"at-content-rendering-start",CONTENT_RENDERING_SUCCEEDED:"at-content-rendering-succeeded",CONTENT_RENDERING_FAILED:"at-content-rendering-failed",CONTENT_RENDERING_NO_OFFERS:"at-content-rendering-no-offers",CONTENT_RENDERING_REDIRECT:"at-content-rendering-redirect"},!r.enabled)return function(t){t.adobe=t.adobe||{},t.adobe.target={VERSION:"",event:{},getOffer:dt,getOffers:pt,applyOffer:dt,applyOffers:pt,sendNotifications:dt,trackEvent:dt,triggerView:dt,registerExtension:dt,init:dt},t.mboxCreate=dt,t.mboxDefine=dt,t.mboxUpdate=dt}(t),void ge(xt);ye(window,Dt(),de()),xn(),function(t){const e=In(t.location.search);if(p(e))return;const n=new Date(et()+186e4);te("at_qa_mode",JSON.stringify(e),{expires:n})}(t),Nn(t),nu(),t.adobe.target.getOffer=du,t.adobe.target.getOffers=hu,t.adobe.target.applyOffer=gu,t.adobe.target.applyOffers=vu,t.adobe.target.sendNotifications=yu,t.adobe.target.trackEvent=Su,t.adobe.target.triggerView=Ou,t.adobe.target.registerExtension=Du,t.mboxCreate=Ru,t.mboxDefine=Lu,t.mboxUpdate=ju,function(){const t=tn("at-library-loaded",{});Qe(window,document,"at-library-loaded",t)}()}}}(),window.adobe.target.init(window,document,{clientCode:"vodafonespain",imsOrgId:"24A034B852785AB90A490D44@AdobeOrg",serverDomain:"vodafonespain.tt.omtrdc.net",timeout:Number("5000"),globalMboxName:"target-global-mbox",version:"2.5.0",defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",bodyHiddenStyle:"body {opacity: 0 !important}",bodyHidingEnabled:!0,deviceIdLifetime:632448e5,sessionIdLifetime:186e4,selectorsPollingTimeout:5e3,visitorApiTimeout:2e3,overrideMboxEdgeServer:!0,overrideMboxEdgeServerTimeout:186e4,optoutEnabled:!1,optinEnabled:!1,secureOnly:!1,supplementalDataIdParamTimeout:30,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",urlSizeLimit:2048,endpoint:"/rest/v1/delivery",pageLoadEnabled:"true"===String("true"),viewsEnabled:!0,analyticsLogging:"server_side",serverState:{},decisioningMethod:"server-side",legacyBrowserSupport:!1});}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{var utag_data=utag_data||{};var aam_segment=getCookieSC('aam_segment_sharing').replace("segment=","").replace(/\#/g,',')
if(aam_segment!=null&&aam_segment!=""){utag_data.aam_segment=aam_segment;}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{utag_data.medallia_process="cartera"
utag_data.tariffs="MiVodafone";var cookiesq=getCookieSC("s_sq")
if(typeof cookiesq=="string")
{document.cookie="s_sq=;domain=.vodafone.es;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=1)}([function(w,b,e){(function(d){var l;!function(){var o="undefined"!=typeof window&&window===this?this:void 0!==d&&null!=d?d:this,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function n(){n=function(){},o.Symbol||(o.Symbol=e)}var r=0;function e(e){return"jscomp_symbol_"+(e||"")+r++}function i(){n();var e=o.Symbol.iterator;e=e||(o.Symbol.iterator=o.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&t(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return a(this)}}),i=function(){}}function a(e){var t,n=0;return t=function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}},i(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}function f(e){i();var t=e[Symbol.iterator];return t?t.call(e):a(e)}function v(e){if(!(e instanceof Array)){e=f(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var p=0;var h="img script iframe link audio video source".split(" ");function m(e,t){for(var n=(e=f(e)).next();!n.done;n=e.next())if(n=n.value,t.includes(n.nodeName.toLowerCase())||m(n.children,t))return!0;return!1}function g(e,t){if(2<e.length)return performance.now();for(var n=[],o=(t=f(t)).next();!o.done;o=t.next())o=o.value,n.push({timestamp:o.start,type:"requestStart"}),n.push({timestamp:o.end,type:"requestEnd"});for(o=(t=f(e)).next();!o.done;o=t.next())n.push({timestamp:o.value,type:"requestStart"});for(n.sort(function(e,t){return e.timestamp-t.timestamp}),e=e.length,t=n.length-1;0<=t;t--)switch(o=n[t],o.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return o.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function c(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var r,i,a,c,s,u,d,o,n,t,l=window.__tti&&window.__tti.o;this.a=e?e.map(function(e){return{start:e.startTime,end:e.startTime+e.duration}}):[],l&&l.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,r=this.m.bind(this),i=this.l.bind(this),a=XMLHttpRequest.prototype.send,c=p++,XMLHttpRequest.prototype.send=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];var o=this;return r(c),this.addEventListener("readystatechange",function(){4===o.readyState&&i(c)}),a.apply(this,t)},s=this.m.bind(this),u=this.l.bind(this),d=fetch,fetch=function(e){for(var r=[],t=0;t<arguments.length;++t)r[t-0]=arguments[t];return new Promise(function(t,n){var o=p++;s(o),d.apply(null,[].concat(v(r))).then(function(e){u(o),t(e)},function(e){u(e),n(e)})})},(o=this).c=new PerformanceObserver(function(e){for(var t=(e=f(e.getEntries())).next();!t.done;t=e.next())if("resource"===(t=t.value).entryType&&(o.b.push({start:t.fetchStart,end:t.responseEnd}),y(o,g(o.g,o.b)+5e3)),"longtask"===t.entryType){var n=t.startTime+t.duration;o.a.push({start:t.startTime,end:n}),y(o,n+5e3)}}),o.c.observe({entryTypes:["longtask","resource"]}),this.w&&(this.h=(n=this.B.bind(this),(t=new MutationObserver(function(e){for(var t=(e=f(e)).next();!t.done;t=e.next())"childList"==(t=t.value).type&&m(t.addedNodes,h)?n(t):"attributes"==t.type&&h.includes(t.target.tagName.toLowerCase())&&n(t)})).observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t))}function s(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,n=g(e.g,e.b);y(e,Math.max(n+5e3,t))}function y(i,e){!i.i||i.v>e||(clearTimeout(i.j),i.j=setTimeout(function(){var e=performance.timing.navigationStart,t=g(i.g,i.b);e=(window.a&&window.a.A?1e3*window.a.A().C-e:0)||performance.timing.domContentLoadedEventEnd-e;if(i.u)var n=i.u;else n=performance.timing.domContentLoadedEventEnd?(n=performance.timing).domContentLoadedEventEnd-n.navigationStart:null;var o=performance.now();null===n&&y(i,Math.max(t+5e3,o+1e3));var r=i.a;(t=o-t<5e3?null:o-(t=r.length?r[r.length-1].end:e)<5e3?null:Math.max(t,n))&&(i.s(t),clearTimeout(i.j),i.i=!1,i.c&&i.c.disconnect(),i.h&&i.h.disconnect()),y(i,performance.now()+1e3)},e-performance.now()),i.v=e)}c.prototype.getFirstConsistentlyInteractive=function(){var t=this;return new Promise(function(e){t.s=e,"complete"==document.readyState?s(t):window.addEventListener("load",function(){s(t)})})},c.prototype.m=function(e){this.f.set(e,performance.now())},c.prototype.l=function(e){this.f.delete(e)},c.prototype.B=function(){y(this,performance.now()+5e3)},o.Object.defineProperties(c.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(v(this.f.values()))}}});var u={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new c(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};w.exports?w.exports=u:void 0===(l=function(){return u}.apply(b,[]))||(w.exports=l)}()}).call(this,e(2))},function(e,t,n){"use strict";n.r(t);function r(n){return{on:function(e,t){return e(n)?function e(t){return{on:function(){return e(t)},otherwise:function(){return t}}}(t(n)):r(n)},otherwise:function(e){return e(n)}}}function u(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}}function d(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}}function l(t,n){function o(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||(t(e),n&&(removeEventListener("visibilitychange",o,!0),removeEventListener("pagehide",o,!0)))}addEventListener("visibilitychange",o,!0),addEventListener("pagehide",o,!0)}function f(t){addEventListener("pageshow",function(e){e.persisted&&t(e)},!0)}function v(e,t,n){var o;return function(){0<=t.value&&(n||_.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(o||0),!t.delta&&void 0!==o||(o=t.value,e(t)))}}function o(){return"hidden"===document.visibilityState?0:1/0}function i(){l(function(e){var t=e.timeStamp;D=t},!0)}function s(){return D<0&&(D=o(),i(),f(function(){setTimeout(function(){D=o(),i()},0)})),{get firstHiddenTime(){return D}}}function p(t,n){function e(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),_.add(i),o()))}var o,r=s(),i=u("FCP"),a=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],c=a?null:d("paint",e);(a||c)&&(o=v(t,i,n),a&&e(a),f(function(e){i=u("FCP"),o=v(t,i,n),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-e.timeStamp,_.add(i),o()})})}))}function a(t,e){function n(e){-1<P&&t(e)}function o(e){if(!e.hadRecentInput){var t=c[0],n=c[c.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,c.push(e)):(a=e.value,c=[e]),a>i.value&&(i.value=a,i.entries=c,r())}}F||(p(function(e){P=e.value}),F=!0);var r,i=u("CLS",0),a=0,c=[],s=d("layout-shift",o);s&&(r=v(n,i,e),l(function(){s.takeRecords().map(o),r()}),f(function(){P=-1,i=u("CLS",a=0),r=v(n,i,e)}))}function c(e,t){g||(g=t,y=e,w=new Date,O(removeEventListener),C())}function h(e){if(e.cancelable){var t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(r=t,i=e,a=function(){removeEventListener("pointerup",n,L),removeEventListener("pointercancel",o,L)},addEventListener("pointerup",n,L),addEventListener("pointercancel",o,L)):c(t,e)}function n(){c(r,i),a()}function o(){a()}var r,i,a}function m(e,t){function n(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),_.add(i),o())}var o,r=s(),i=u("FID"),a=d("first-input",n);o=v(e,i,t),a&&l(function(){a.takeRecords().map(n),a.disconnect()},!0),a&&f(function(){i=u("FID"),o=v(e,i,t),b=[],y=-1,g=null,O(addEventListener),b.push(n),C()})}var g,y,w,b,T,S=n(0),E=n.n(S),_="function"==typeof WeakSet?new WeakSet:new Set,D=-1,F=!1,P=-1,L={passive:!0,capture:!0},A=new Date,C=function(){if(0<=y&&y<w-A){var t={entryType:"first-input",name:g.type,target:g.target,cancelable:g.cancelable,startTime:g.timeStamp,processingStart:g.timeStamp+y};b.forEach(function(e){e(t)}),b=[]}},O=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,h,L)})};function k(){return window.utag_data&&window.utag_data.page_name?window.utag_data.page_name:window.gb&&window.gb.pageName?window.gb.pageName:window.s&&window.s.pageName?window.s.pageName:"INVALID-"+location.href}function I(e){var t,n={};return n.pageName=e,n.g=location.origin+location.pathname,n.v7=location.host+location.pathname,n.v30=e,n.v31=Date.now(),n.k="Y",n.t=(t=new Date,"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()," ").concat(t.getDay()," ").concat(t.getTimezoneOffset())),n.vid=function(){try{return window.visitor.getMarketingCloudVisitorID(!0)}catch(e){return null}}(),n.ndh=0,n.cc="USD",n.ns="vodafonees",n.ce="UTF-8",n.pe="lnk_o",n.pev2="performance timing hit",n.linkTrackVars="eVar7,eVar30,eVar31",n}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach(function(e){j(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var W="color: #e60000; padding:0.3em;";function z(){var e;if(U.config.debugMode){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n.reduce(function(e,t){return[].concat(R(e),[t,"\n"])},[]);console.group("%cVodafone XPA",W);(e=console).log.apply(e,R(function n(e){return e.reduce(function(e,t){return e.concat(Array.isArray(t)?n(t):t)},[])}(r))),console.groupEnd()}}var U=new(function(){function e(){var f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config={debugMode:!1,syncMode:!0,targetFileUrl:"",allowToSend:["TTFB","FP","LCP","DCL","TTI","FID","CLS"],variableMap:{TTFB:"pt_ttfb",FP:"pt_fp",LCP:"pt_lcp",DCL:"pt_dlc",TTI:"pt_tti",TFT:"pt_tft"},useAnalyticsCore:!1,useBeaconInAnalytics:!1,useBeaconForZeno:!0,useBeaconForZenoSendRatio:1,useBeaconInAnalyticsSendRatio:1,sendToAdobe:!0,dbStorageBeacon:!1,beaconUrl:"https://fb0rkp9gyh.execute-api.eu-central-1.amazonaws.com/live/rum",sendType:"event"},this.metrics={},this._toSendWhenReady=[],this._allowToSend=[],this._dataSent=!1,this._initialized=!1,this.processLCPObserver=function(e){var t=e.getEntries().pop(),n=0!=t.renderTime?t.renderTime:t.loadTime;z("LCP Updated",n,t),f.storeData("LCP",n),f.sendData("LCP",n)},this.processTFTObserver=function(e){var t=e.getEntriesByName(f.config.targetFileUrl);if(0<t.length){var n=t.pop().duration;f.storeData("TFT",n),f.sendData("TFT",n)}},this.sendBeaconInAnalytics=function(){var e,t,n,o,r,i,a,c,s=I(f._loadedPageName||k());f.config.targetFileUrl&&(s.eVar32=f.config.targetFileUrl,s.linkTrackVars+=",eVar32"),s.linkTrackEvents="event290,event291,event293,event294,event295,event296,event297",s.events="event288="+Math.round(null!==(e=f.metrics.FID)&&void 0!==e?e:0)+",event289="+Math.round(null!==(t=f.metrics.CLS)&&void 0!==t?t:0)+",event290="+Math.round(null!==(n=f.metrics.TTFB)&&void 0!==n?n:0)+",event291="+Math.round(null!==(o=f.metrics.FCP)&&void 0!==o?o:0)+",event293="+Math.round(null!==(r=f.metrics.TTI)&&void 0!==r?r:0)+",event294,event295="+Math.round(null!==(i=f.metrics.DCL)&&void 0!==i?i:0)+",event296="+Math.round(null!==(a=f.metrics.LCP)&&void 0!==a?a:0)+",event297="+Math.round(null!==(c=f.metrics.TFT)&&void 0!==c?c:0);var u=Math.round(1e9*Math.random());f.config.decorateAnalyticsBeacon&&f.config.decorateAnalyticsBeacon(s);var d,l="https://smetrics.vodafone.es/b/ss/vodafoneesperformancetiming/1/JS-1.6.1-D6L7/".concat(u,"?AQB=1&").concat((d=s,Object.keys(d).map(function(e){return"".concat(e,"=").concat(d[e])}).join("&")),"&AQE=1");navigator.sendBeacon(l)},this.sendBeaconToZeno=function(){var e={loaded:f.config.loaded?"1":"0",success:"0",page:location.host+location.pathname};f.metrics.LCP&&(e.lcp=parseInt(f.metrics.LCP)),f.metrics.FCP&&(e.fcp=parseInt(f.metrics.FCP)),f.metrics.FID&&(e.fid=parseInt(f.metrics.FID)),f.metrics.DCL&&(e.dcl=parseInt(f.metrics.DCL)),f.metrics.TTFB&&(e.ttfb=parseInt(f.metrics.TTFB));var t,n,o=Math.round(1e9*Math.random()),r="https://ikaue-xpa-gateway-79cv1gog.wm.gateway.dev/vodafonecwv?key=AIzaSyCI_NgFWJwbejOZNxFcuNGfWraQHWPFzFg&cb=".concat(o);navigator.sendBeacon(r,(t=e,n=new FormData,Object.keys(t).forEach(function(e){n.append(e,t[e])}),n))}}var t,n,o;return t=e,(n=[{key:"init",value:function(e){var t=this;if(this._initialized)z("XPA Already initialized, ignoring init call");else{if(this._initialized=!0,this.config=N({},this.config,{},e),this.config.targetFileUrl&&this.config.allowToSend.push("TFT"),-1<location.search.indexOf("XPADebug=1")&&(this.config.debugMode=!0),this._allowToSend=this.config.allowToSend,0<performance.getEntriesByType("navigation").length?this.observePerformanceNavigation():this.observeFakePerformanceNavigation(),this.onLoadGetFP(),this.config.dbStorageBeacon){window.addEventListener("unload",function(){navigator.sendBeacon(t.config.beaconUrl,JSON.stringify(N({},t.metrics,{userAgent:navigator.userAgent,url:location.href})))},!1)}this.config.useBeaconInAnalytics&&Math.random()<=this.config.useBeaconInAnalyticsSendRatio&&(z("Configured to send beacon to Adobe"),this.capturePageName(),window.addEventListener("load",function(){return t.capturePageName()}),window.addEventListener("unload",this.sendBeaconInAnalytics,!1)),this.config.useBeaconForZeno&&Math.random()<=this.config.useBeaconForZenoSendRatio&&(z("Configured to send beacon to Zeno"),window.addEventListener("load",function(){return t.config.loaded=!0}),window.addEventListener("unload",this.sendBeaconToZeno,!1)),-1<this.config.allowToSend.indexOf("TTI")&&E.a.getFirstConsistentlyInteractive().then(this.ttiGoogleMetricsSuccess.bind(this)).catch(this.ttiGoogleMetricsFail.bind(this)),-1<this.config.allowToSend.indexOf("CLS")&&a(function(e){return t.updateCLS(e)}),-1<this.config.allowToSend.indexOf("FID")&&m(function(e){return t.updateFID(e)}),z("_allowToSend: "+this.config.allowToSend,"syncMode: "+this.config.syncMode,this.config),window.addEventListener("load",function(){return t.metrics.isPageLoaded=1})}}},{key:"capturePageName",value:function(){this._loadedPageName=k()}},{key:"cancelSendToAnalytics",value:function(){this.sendToAdobe=!1,window.removeEventListener("unload",this.sendBeaconInAnalytics)}},{key:"onLoadGetFP",value:function(){var t=this,e=performance.getEntriesByType("paint");if(void 0!==e&&0<e.length)e.forEach(function(e){"first-paint"===e.name&&(t.storeData("FP",e.startTime),t.sendData("FP",e.startTime)),"first-contentful-paint"===e.name&&(t.storeData("FCP",e.startTime),t.sendData("FCP",e.startTime))});else{var n=window.performance.getEntries("resource"),o=n[0].domInteractive||performance.timing.domInteractive-performance.timing.fetchStart,r=n.filter(function(e){return"link"===e.initiatorType||"script"===e.initiatorType}).filter(function(e){return t=o,function(e){return e.startTime<=t}(e);var t}).sort(function(e,t){return t.responseEnd-e.responseEnd})[0].responseEnd;this.storeData("FP",r),this.sendData("FP",r),this.storeData("FCP",0),this.sendData("FCP",0)}if(this.config.targetFileUrl){var i=window.performance.getEntriesByName(this.config.targetFileUrl);if(0<i.length){var a=i.pop().duration;this.storeData("TFT",a),this.sendData("TFT",a)}}window.removeEventListener("load",this.msgEvent)}},{key:"navigationPolyfill",value:function(){return{getEntriesByType:function(){return[{name:"http://localhost:3000/",entryType:"navigation",startTime:0,duration:0,initiatorType:"navigation",nextHopProtocol:"http/1.1",workerStart:0,redirectStart:0,redirectEnd:0,fetchStart:0,domainLookupStart:0,domainLookupEnd:0,connectStart:0,connectEnd:0,secureConnectionStart:0,requestStart:0,responseStart:0,responseEnd:0,transferSize:0,encodedBodySize:0,decodedBodySize:0,serverTiming:[],unloadEventStart:0,unloadEventEnd:0,domInteractive:0,domContentLoadedEventStart:0,domContentLoadedEventEnd:0,domComplete:0,loadEventStart:0,loadEventEnd:0,type:"reload",redirectCount:0}]}}}},{key:"observeFakePerformanceNavigation",value:function(){this.processNavigationObserver(this.navigationPolyfill(),"FAKE OBSERVER")}},{key:"processNavigationObserver",value:function(e){var r=this;z("Navigation observer received",e.getEntriesByType("navigation")[0]);var t=e.getEntriesByType("navigation")[0],n={performanceNavigation:t,DCL:t.domContentLoadedEventEnd-t.requestStart,TTFB:t.responseStart-t.fetchStart,TTFB_DOM:t.domInteractive-t.fetchStart,PAGE_DOWNLOAD_TIME:t.responseEnd-t.responseStart,SERVER_RESPONSE_TIME:t.responseEnd-t.requestStart,REDIRECTION_TIME:t.fetchStart,DOM_INTERACTIVE_TIME:t.domInteractive,BACK_END_TIME:t.responseEnd,frontEndTime:t.loadEventStart-t.responseEnd,pageLoadTime:t.loadEventStart,serverConnectionTime:t.connectEnd-t.connectStart,domainLookupTime:t.domainLookupEnd-t.domainLookupStart,domContentLoadedTime:t.domContentLoadedEventEnd};Object.entries(n).forEach(function(e){var t=M(e,2),n=t[0],o=t[1];r.storeData(n,o),r.sendData(n,o)})}},{key:"updateCLS",value:function(e){console.log("CLS",e),this.storeData("CLS",e.value),this.sendData("CLS",e.value)}},{key:"updateFID",value:function(e){console.log("FID",e),this.storeData("FID",e.value),this.sendData("FID",e.value)}},{key:"observePerformanceNavigation",value:function(){new PerformanceObserver(this.processNavigationObserver.bind(this)).observe({entryTypes:["navigation"]}),new PerformanceObserver(this.processLCPObserver).observe({type:"largest-contentful-paint",buffered:!0}),this.config.targetFileUrl&&new PerformanceObserver(this.processTFTObserver).observe({entryTypes:["resource"]})}},{key:"ttiGoogleMetricsSuccess",value:function(e){z("ttiGoogleMetricsSuccess received with value:: ".concat(e)),this.storeData("TTI",e),this.sendData("TTI",e)}},{key:"ttiGoogleMetricsFail",value:function(e){z("ttiGoogleMetricsFail :: ".concat(e)),this.storeData("TTI",0),this.sendData("TTI",0)}},{key:"isMetricAllowToBeSend",value:function(e){return-1<this._allowToSend.indexOf(this.normalizeName(e))}},{key:"normalizeName",value:function(e){return r(e).on(function(e){return"firstPaint"===e},function(){return"FP"}).on(function(e){return"firstContentfulPaint"===e},function(){return"FCP"}).otherwise(function(){return e})}},{key:"storeData",value:function(e,t){var n=e;this.metrics[n]=t}},{key:"keepDataToSendWhenReady",value:function(e,t){this._toSendWhenReady=[].concat(R(this._toSendWhenReady),[[e,this._formatDuration(t)]])}},{key:"_isDataReady",value:function(){var t=this;return!(0<this._allowToSend.filter(function(e){return null!==t.metrics[e]&&0!==t.metrics[e]&&!t.metrics[e]}).length&&this.config.syncMode)}},{key:"_formatDuration",value:function(e){return Math.round(e).toString()}},{key:"sendData",value:function(e,t,n){var o=!(2<arguments.length&&void 0!==n)||n;this.isMetricAllowToBeSend(e)&&(z("metric name recived: ".concat(e," / ").concat(t),"_isDataReady : ".concat(this._isDataReady())),this._isDataReady()&&this.config.sendToAdobe&&!this.config.useBeaconInAnalytics?this.config.syncMode?(this.keepDataToSendWhenReady(e,t),this.sendSyncDataToAdobe()):(this.sendDataToAdobe(e,this._formatDuration(t)),o&&this.removeFromSenderList(e)):this.keepDataToSendWhenReady(e,t))}},{key:"buildAdobePageLoad",value:function(e){return N({},{event_type:"pageview",page_name:"".concat(window.document.title),page_channel:"performance_online",page_url:"".concat(window.location)},{},this._getDataToSend(e))}},{key:"_getDataToSend",value:function(e){return e.reduce(function(e,t){return N({},e,{},j({},t[0],t[1]))},{})}},{key:"buildAdobePerformanceEvent",value:function(e){return N({},{event_type:"event",event:["performance_data_event"],element_context:"performance",element_category:"page_load",element_name:"tiempos de carga"},{},this._getDataToSend(e))}},{key:"_filterOutNull",value:function(e){return e.filter(function(e){var t=M(e,2),n=(t[0],t[1]);return""!==n&&"0"!==n})}},{key:"sendSyncDataToAdobe",value:function(){var e,t=this.config.sendType;switch(z("Send Type: ".concat(t)),t){case"page":e=this.buildAdobePageLoad(this._filterOutNull(this._toSendWhenReady));break;case"event":e=this.buildAdobePerformanceEvent(this._filterOutNull(this._toSendWhenReady));break;default:throw new Error("Unknown  send type ")}this.config.useAnalyticsCore?this.globalSend(e):this.globalSendWithoutAnalyticsCore(e)}},{key:"globalSend",value:function(e){this._dataSent||(z("SENDING DATA TO ADOBE WITH A. CORE ====>  ",e),window._vf.digitalData.global.send(e),this._dataSent=!0)}},{key:"sendDataToAdobe",value:function(e,t){var n=this.prepareForAdobe(e,t);this.config.useBeaconInAnalytics||(this.config.useAnalyticsCore?this.globalSend(n):this.globalSendWithoutAnalyticsCore(n))}},{key:"globalSendWithoutAnalyticsCore",value:function(t){var n=this;this._dataSent||(z("Data sent to Adobe without Core"),this.config.allowToSend.forEach(function(e){return window[n.config.variableMap[e]]=t[e]}),window.sendPerformance&&window.sendPerformance(this.config.targetFileUrl),this._dataSent=!0)}},{key:"removeFromSenderList",value:function(e){var t=this.normalizeName(e);this._allowToSend=this._allowToSend.filter(function(e){return e!==t})}},{key:"normalizedToAdobe",value:function(e){return r(e).on(function(e){return"FP"===e},function(){return["FP","first paint"]}).on(function(e){return"FCP"===e},function(){return["FCP","first conttful paint"]},en).on(function(e){return"TTFB"===e},function(){return["TTFB","time to first byte"]}).otherwise(function(){return[e,e]})}},{key:"prepareForAdobe",value:function(e,t){var n=M(this.normalizedToAdobe(this.normalizeName(e)),2),o=n[0];return j({event_type:"event",event:["performance_event"],element_context:"performance",element_category:"page_load",element_name:n[1]},o,this._formatDuration(t))}}])&&x(t.prototype,n),o&&x(t,o),e}());U.version="3.5.2",window.vfes=null!==(T=window.vfes)&&void 0!==T?T:{},window.vfes.performance=U;t.default=U},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);const PerformanceMetrics=window.vfes.performance;const config={dbStorageBeacon:false,useBeaconInAnalytics:true,}
PerformanceMetrics.init(config);}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{try{(function(){var endpointFijo='https://msisdn.vodafone.es/rest/findCustomerByBroadbandIPAddress';var merr=sessionStorage.getItem('msisdn_service_status')==='error';var isBrowserMovil=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var onLoad=function(){var responseObj=JSON.parse(this.responseText);window._msisdnObj={msisdn_response_time:Date.now()-tStart,responseCode:this.status}
if(this.status==200){if(this.responseURL==endpointFijo){window._msisdnObj.msisdn_recovery='red fija';window._msisdnObj.siteID=responseObj.siteId;window._msisdnObj.documentID=responseObj.documentId;if(responseObj.msisdn)window._msisdnObj.msisdn_aes256=responseObj.msisdn;}}else{if(responseObj.message)window._msisdnObj.message=responseObj.message;sessionStorage.setItem('msisdn_service_status','error');}}
var xhr=new XMLHttpRequest();xhr.addEventListener("load",onLoad);var tStart=Date.now();if(!isBrowserMovil&&!merr){xhr.open("GET",endpointFijo);xhr.send();window._msisdnObj={responseCode:'Waiting response'};}})();}catch(e){console.log('Error servicio MSISDN: ',e);}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(typeof utag=="undefined"&&!utag_condload){var utag={id:"vodafone.es-mivoweb",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_vodafone.es-mivoweb_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(a,b,c,d,f){try{if(typeof utag.data['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(utag.data['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0}}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}}}}}}catch(e){utag.DB(e)}},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}
},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;t["tealium_event"]=o["ut.event"]=a||"view";t["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];try{t["tealium_datasource"]=utag.cfg.datasource;t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,0);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;utag.loader.SC("utag_main",{"_sn":(o["cp.utag_main__sn"]||1),"_ss":o["cp.utag_main__ss"],"_st":c,"ses_id":(o["cp.utag_main_ses_id"]||a)+";exp-session","_pn":o["cp.utag_main__pn"]+";exp-session"});},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=utag.cfg.path;w=v.indexOf(".tiqcdn.");if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:v.substring(0,v.indexOf("/ut"+"ag/")+6)+"tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a,cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a,cfg:{cb:c,uids:d}})},track:function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c}};for(d in utag.loader.GV(utag.o)){try{utag.o[d].handler.trigger(a.event||"view",a.data||a,a.cfg)}catch(e){utag.DB(e)};}
if(a.cfg&&a.cfg.cb)try{a.cfg.cb()}catch(e){utag.DB(e)};return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];sendTag(a,b,d);}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){b=m;}else{b=a.createElement("iframe");}
o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(typeof o.error=="function"){utag.loader.EV(b,"error",o.error);}
if(o.type!="img"&&!m){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['vodafone.es-mivoweb']=utag;utag.cfg={template:"ut4.44.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##"+"UTDATASOURCE##",""),path:"//tags.tiqcdn.com/utag/vodafone/es-mivoweb/prod/",utid:"vodafone/es-mivoweb/202201031354"};utag.cfg.v=utag.cfg.template+"202201031354";utag.cond={14:0,15:0,16:0,17:0,18:0,21:0,3:0,4:0,5:0,6:0,8:0};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'14':try{c[14]|=(d['dom.url'].toString().indexOf('/mves/buySim')>-1)}catch(e){utag.DB(e)};break;case'15':try{c[15]|=(d['dom.url'].toString().indexOf('https://m.vodafone.es/mves/buySim/orderConfirmation')>-1)}catch(e){utag.DB(e)};break;case'16':try{c[16]|=(/^((?!:\d{4,5}).)*$/.test(d['dom.url']))}catch(e){utag.DB(e)};break;case'17':try{c[17]|=(d['dom.url'].toString().indexOf('/mves/buySim/orderConfirmation')>-1)}catch(e){utag.DB(e)};break;case'18':try{c[18]|=(typeof d['call_type']!='undefined'&&d['call_type']!=''&&d['call_type'].toString().indexOf('view')>-1)}catch(e){utag.DB(e)};break;case'21':try{c[21]|=(d['dom.url'].toString().toLowerCase().indexOf('dxlpreprod.local.vodafone.es'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'3':try{c[3]|=(d['page_name'].toString().toLowerCase()=='dashboard:home'.toLowerCase())||(d['page_name'].toString().toLowerCase()=='login:login'.toLowerCase())||(d['page_name'].toString().toLowerCase()=='productos y servicios:resumen de productos y servicios'.toLowerCase())||(d['dom.pathname'].toString().toLowerCase()=='/mves/login'.toLowerCase())}catch(e){utag.DB(e)};break;case'4':try{c[4]|=(d['dom.url'].toString().indexOf('/mves/login')>-1)||(d['dom.url'].toString().indexOf('/mves/dashboard')>-1)||(d['dom.url'].toString().indexOf('/mves/billing/billingDetails')>-1)||(d['dom.url'].toString().indexOf('/mves/ProductsAndServices/MainScreen')>-1)||(d['dom.url'].toString().indexOf('/mves/billing/currentConsumption')>-1)}catch(e){utag.DB(e)};break;case'5':try{c[5]|=(d['dom.url'].toString().indexOf('https://m.vodafone.es/mves/dashboard')>-1)}catch(e){utag.DB(e)};break;case'6':try{c[6]|=(typeof d['autotracked']=='undefined')||(typeof d['autotracked']!='undefined'&&d['autotracked']!=''&&d['autotracked']!='true')}catch(e){utag.DB(e)};break;case'8':try{c[8]|=(typeof d['visitor_permission_diagnostics']=='undefined')||(typeof d['visitor_permission_diagnostics']!='undefined'&&d['visitor_permission_diagnostics']!=''&&d['visitor_permission_diagnostics'].toString().indexOf('true')>-1)}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{if(1){if(b.page_name=="dashboard:home"||b.page_name=="login:login"||b.page_name=="productos y servicios:resumen de productos y servicios"||b.page_name=="dashboard:home:mis productos:selecciona un producto"||b.page_name=="facturas:mis facturas:resumen facturas"||b.page_name=="recargas:realizar recarga:ok"){if(typeof b.serviceAES256=="string"&&b.serviceAES256!=""&&typeof b.client_id=="string"&&b.client_id!=""&&typeof b.tealium_event=="string"&&b.tealium_event=="view"&&typeof b.event_name=="string"&&b.event_name=="mobile visitor"&&typeof b.page_section=="string"){if(b.page_section=="dashboard:"){b.page_section="dashboard";}
var tmpObjKPIs={msisdn:b.serviceAES256,platform:"web",section:b.page_section,diagnostico:b.visitor_permission_diagnostics,timestamp:new Date().toISOString(),clientid:b.client_id};}else if(typeof b.tealium_event=="string"&&b.tealium_event=="view"&&typeof b.event_name=="string"&&b.event_name=="mobile visitor"&&typeof b.page_section=="string"&&b.page_name=="login:login"){var tmpObjKPIs={platform:"web",section:b.page_section,diagnostico:b.visitor_permission_diagnostics,timestamp:new Date().toISOString()};}
if(typeof tmpObjKPIs=="object"&&tmpObjKPIs!=""){b.corekpis=new Date().toISOString();var reqEnc=new XMLHttpRequest();reqEnc.open('POST',' https://europe-west1-vodafone-152311.cloudfunctions.net/rtkpi',false);reqEnc.setRequestHeader('Content-Type','application/json; charset=UTF-8');reqEnc.send(JSON.stringify(tmpObjKPIs));}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(typeof hj==="function"&&b['event_name']!==""){var lanzarEventoHotjar=function(nombreEvento){hj('event',nombreEvento);}
var hotjarTag=b['event_name'];if(hotjarTag.indexOf("menu:clic")===0){lanzarEventoHotjar('menu app');}
else if(hotjarTag.indexOf("click en tray mis productos")!==-1){lanzarEventoHotjar('mis productos app');}
else if(hotjarTag.indexOf("click en tray mi cuenta")!==-1){lanzarEventoHotjar('mi cuenta app');}
else if(((hotjarTag.indexOf("click en pagos")!==-1)||(hotjarTag.indexOf("click en mis pedidos")!==-1)||(hotjarTag.indexOf("click en roaming")!==-1)||(hotjarTag.indexOf("click en opciones de llamada")!==-1)||(hotjarTag.indexOf("click en suscripciones online"))!==-1)){lanzarEventoHotjar('accesos rapidos app');}
else if(hotjarTag.indexOf("click en ver detalle en facturacion")!==-1){lanzarEventoHotjar('facturacion app');}
else if(hotjarTag.indexOf("click en tienda")!==-1){lanzarEventoHotjar('tienda app');}
else if(hotjarTag.indexOf("click tile principal de datos llamadas y sms")!==-1){lanzarEventoHotjar('consumo app');}
else if(hotjarTag.indexOf("ver mis productos")!==-1){lanzarEventoHotjar('resumen desplegar productos');}
else if(hotjarTag.indexOf("ver tarjetas")!==-1){lanzarEventoHotjar('resumen desplegar tarjetas');}}}}catch(e){utag.DB(e)}}];utag.handler.cfg_extend=[{"end":0,"bwq":0,"blr":1,"alr":0,"id":"63"},{"bwq":0,"end":1,"blr":0,"alr":0,"id":"94"}];utag.loader.initcfg=function(){utag.loader.cfg={"5":{load:utag.cond[4],send:1,v:201905071456,wait:0,tid:13084},"14":{load:utag.cond[8],send:1,v:202111180747,wait:1,tid:19063},"16":{load:(utag.cond[18]&&utag.cond[8]),send:1,v:202111111347,wait:1,tid:20010},"17":{load:(utag.cond[3]&&utag.cond[8]),send:1,v:202110070647,wait:1,tid:19063},"30":{load:(utag.cond[6]&&utag.cond[8]),send:1,v:202201031354,wait:1,tid:19063},"54":{load:(utag.cond[6]&&utag.cond[8]),send:1,v:202201031354,wait:1,tid:19063},"25":{load:utag.cond[16],send:1,v:202106221106,wait:1,tid:20010},"28":{load:utag.cond[5],send:1,v:202002051034,wait:1,tid:20010},"42":{load:utag.cond[14],send:1,v:202103311134,wait:1,tid:6037},"43":{load:utag.cond[14],send:1,v:202105171514,wait:1,tid:20010},"45":{load:utag.cond[15],send:1,v:202103311158,wait:1,tid:7132},"49":{load:utag.cond[17],send:1,v:202108301024,wait:1,tid:20010},"53":{load:(utag.cond[8]&&utag.cond[21]),send:1,v:202201031354,wait:1,tid:20064}};utag.loader.cfgsort=["5","14","16","17","30","54","25","28","42","43","45","49","53"];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}