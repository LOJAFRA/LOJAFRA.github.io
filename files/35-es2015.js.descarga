(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"5pm2":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("8Y7J"),a=i("GS7A"),l=i("HvOE"),s=i("SVse");function o(t,e){if(1&t&&(n.Ub(0,"div",5),n.fc(),n.Ub(1,"svg",6),n.Ub(2,"title"),n.Tc(3),n.Tb(),n.Pb(4,"use"),n.Tb(),n.Tb()),2&t){const t=n.gc();n.Ab(3),n.Uc(t.leftIcon),n.Ab(1),n.Bb("href",t.leftIcon,null,"xlink")}}function c(t,e){if(1&t&&(n.Ub(0,"div",7),n.fc(),n.Ub(1,"svg",8),n.Ub(2,"title"),n.Tc(3,"Chrevon"),n.Tb(),n.Pb(4,"use",9),n.Tb(),n.Tb()),2&t){const t=n.gc();n.Ab(1),n.nc("@rotateAnimation",t.expanded)}}function r(t,e){1&t&&(n.Ub(0,"div",10),n.Ub(1,"div"),n.lc(2,1),n.Tb(),n.Tb()),2&t&&n.nc("@expandAnimation",void 0)}const d=[[["","expandable-header",""]],[["","expandable-body",""]]],g=["[expandable-header]","[expandable-body]"];let p=(()=>{class t{constructor(){this.headerClick=new n.n}ngOnInit(){this.expanded=!1}onHeaderClick(){this.expanded=!this.expanded,this.headerClick.emit(this.expanded)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["sp-expandable-chevron"]],inputs:{expanded:"expanded",leftIcon:"leftIcon",hideChevron:"hideChevron"},outputs:{headerClick:"headerClick"},ngContentSelectors:g,decls:6,vars:3,consts:[[1,"expandable-chevron-header",3,"click"],["class","expandable-chevron-header--icon",4,"ngIf"],[1,"expandable-chevron-header--content"],["class","expandable-chevron-header--arrow",4,"ngIf"],["class","expandable-chevron-content",4,"ngIf"],[1,"expandable-chevron-header--icon"],[1,"icon","icon__custom"],[1,"expandable-chevron-header--arrow"],[1,"icon","icon__chevron-down"],[0,"xlink","href","#icon-chevron-down"],[1,"expandable-chevron-content"]],template:function(t,e){1&t&&(n.mc(d),n.Ub(0,"div",0),n.cc("click",(function(){return e.onHeaderClick()})),n.Rc(1,o,5,2,"div",1),n.Ub(2,"div",2),n.lc(3),n.Tb(),n.Rc(4,c,5,1,"div",3),n.Tb(),n.Rc(5,r,3,1,"div",4)),2&t&&(n.Ab(1),n.nc("ngIf",e.leftIcon),n.Ab(3),n.nc("ngIf",!e.hideChevron),n.Ab(1),n.nc("ngIf",!e.hideChevron&&e.expanded))},directives:[s.t],styles:[".expandable-chevron-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:14px 0;border-bottom:1px solid #ccc;cursor:pointer}.expandable-chevron-header--content[_ngcontent-%COMP%]{flex-grow:1}.expandable-chevron-header--icon[_ngcontent-%COMP%]{display:flex;margin-right:16px}.expandable-chevron-header--arrow[_ngcontent-%COMP%]{display:flex;margin-left:16px;margin-right:4px}.expandable-chevron-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{flex:0 0 32px;align-self:center;font-size:32px;height:30px;width:30px}.expandable-chevron-header[_ngcontent-%COMP%]   .icon__chevron-down[_ngcontent-%COMP%]{color:#e60000}.expandable-chevron-header[_ngcontent-%COMP%]   .icon__custom[_ngcontent-%COMP%]{color:#333}.expandable-chevron-content[_ngcontent-%COMP%]{background-color:#fff;padding:0 16px;margin:0 -16px;display:block}.expandable-chevron-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;width:100%}"],data:{animation:[l.a,Object(a.l)("rotateAnimation",[Object(a.i)("0",Object(a.j)({transform:"rotate(0)"})),Object(a.i)("1",Object(a.j)({transform:"rotate(180deg)"})),Object(a.k)("1 => 0",Object(a.e)("0.3s ease")),Object(a.k)("0 => 1",Object(a.e)("0.3s ease"))])]}}),t})()},HvOE:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("GS7A");const a=Object(n.l)("expandAnimation",[Object(n.k)("void => *",[Object(n.j)({height:0,"padding-top":0,"padding-bottom":0,overflow:"hidden"}),Object(n.e)("0.3s ease",Object(n.j)({height:"*","padding-top":"*","padding-bottom":"*"}))]),Object(n.k)("* => void",[Object(n.j)({height:"*","padding-top":"*","padding-bottom":"*",overflow:"hidden"}),Object(n.e)("0.3s ease",Object(n.j)({height:0,"padding-top":0,"padding-bottom":0}))])])},MyzQ:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i("8Y7J"),a=i("SVse"),l=i("PHSF"),s=i("xxlt");function o(t,e){if(1&t){const t=n.Vb();n.Ub(0,"span",3),n.cc("click",(function(){n.Fc(t);const e=n.gc();return e.showAsOverlay?e.isTooltipOverlayOpen=!0:null})),n.lc(1),n.Tb()}}function c(t,e){1&t&&n.lc(0,1)}function r(t,e){1&t&&n.Qb(0,6)}function d(t,e){1&t&&n.Qb(0,7)}function g(t,e){if(1&t&&(n.Ub(0,"mva10-c-tooltip"),n.Rc(1,r,1,0,"ng-container",4),n.Rc(2,d,1,0,"ng-container",5),n.Tb()),2&t){n.gc();const t=n.Cc(1),e=n.Cc(3);n.Ab(1),n.nc("ngTemplateOutlet",t),n.Ab(1),n.nc("ngTemplateOutlet",e)}}function p(t,e){1&t&&n.Qb(0)}function b(t,e){1&t&&n.Qb(0)}function h(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Rc(1,p,1,0,"ng-container",8),n.Ub(2,"vfac-overlay",9),n.cc("closed",(function(){return n.Fc(t),n.gc().isTooltipOverlayOpen=!1})),n.Ub(3,"div",10),n.Rc(4,b,1,0,"ng-container",8),n.Tb(),n.Tb(),n.Rb()}if(2&t){const t=n.gc(),e=n.Cc(1),i=n.Cc(3);n.Ab(1),n.nc("ngTemplateOutlet",e),n.Ab(1),n.nc("show",t.isTooltipOverlayOpen)("loaded",!0),n.Ab(2),n.nc("ngTemplateOutlet",i)}}const u=[[["","tooltipButton",""]],[["","tooltipContent",""]]],m=["[tooltipButton]","[tooltipContent]"];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["sp-tooltip-modal"]],inputs:{showAsOverlay:"showAsOverlay"},ngContentSelectors:m,decls:6,vars:2,consts:[["ttButton",""],["ttContent",""],[4,"ngIf"],[3,"click"],["triggerTooltip","",4,"ngTemplateOutlet"],["contentTooltip","",4,"ngTemplateOutlet"],["triggerTooltip",""],["contentTooltip",""],[4,"ngTemplateOutlet"],[3,"show","loaded","closed"],["body",""]],template:function(t,e){1&t&&(n.mc(u),n.Rc(0,o,2,0,"ng-template",null,0,n.Sc),n.Rc(2,c,1,0,"ng-template",null,1,n.Sc),n.Rc(4,g,3,2,"mva10-c-tooltip",2),n.Rc(5,h,5,4,"ng-container",2)),2&t&&(n.Ab(4),n.nc("ngIf",!e.showAsOverlay),n.Ab(1),n.nc("ngIf",e.showAsOverlay))},directives:[a.t,l.Yb,a.A,s.Hb],styles:[""]}),t})()},TAmK:function(t,e,i){"use strict";i.r(e),i.d(e,"BillingVf10Module",(function(){return qn}));var n=i("SVse"),a=i("PCNd"),l=i("iInd"),s=i("BpCl"),o=i("xx/P"),c=i("F5nt"),r=i("8Y7J");let d=(()=>{class t{constructor(t){this.appTheme=t,this.appTheme.theme=""+o.AppThemes.Theme2}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(c.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["sp-billing-vf10"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:[l.k],styles:[".billingvf10[_ngcontent-%COMP%]{background-color:#f4f4f4}.billingvf10__title-page[_ngcontent-%COMP%]{letter-spacing:.8px;text-align:center;color:#fff}.billingvf10__wrapper[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:0 20px 40px}@media screen and (max-width:769px){.billingvf10__wrapper[_ngcontent-%COMP%]{width:100%!important;min-width:100%!important;padding:0 16px 32px}}.billingvf10__title[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10__subtitle[_ngcontent-%COMP%]{font-family:VodafoneRegular;color:#666}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:22px}@media screen and (min-width:769px){.billingvf10__subtitle[_ngcontent-%COMP%]{font-size:18px}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:24px}}.billingvf10--width100[_ngcontent-%COMP%]{width:100%}.billingvf10--hidden[_ngcontent-%COMP%]{display:none}.billingvf10--opacity[_ngcontent-%COMP%]{opacity:.6}.billingvf10--margin-0-auto[_ngcontent-%COMP%]{margin:0 auto}.billingvf10--margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.billingvf10--margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.billingvf10--margin-right-8[_ngcontent-%COMP%]{margin-right:8px}.billingvf10--margin-right-16[_ngcontent-%COMP%]{margin-right:16px}.billingvf10--margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:16px}.billingvf10--margin-top-90[_ngcontent-%COMP%]{margin-top:90px}.billingvf10--margin-top-80[_ngcontent-%COMP%]{margin-top:80px}.billingvf10--margin-left-40[_ngcontent-%COMP%]{margin-left:40px}.billingvf10--margin-left-24[_ngcontent-%COMP%]{margin-left:24px}.billingvf10--text-align-right[_ngcontent-%COMP%]{text-align:right}.billingvf10--font-family-rg-bold[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10--display-flex[_ngcontent-%COMP%]{display:flex}.billingvf10--red[_ngcontent-%COMP%]{color:#e60000}.billing-vf10-empty[_ngcontent-%COMP%]{padding:8px 24px 24px;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:VodafoneRegular;font-size:1rem;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#333}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700;line-height:1.33}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){font-weight:400;line-height:1.38;text-align:center}.billing-vf10-empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24vmin;height:24vmin}.vfac-card-expandable__label[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.22;text-align:center;color:#e60000}.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#ebebeb;margin-bottom:16px}@media screen and (min-width:769px){.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:20px}}.skeleton-wrapper-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:placeholderSkeleton 2s linear infinite forwards;animation:placeholderSkeleton 2s linear infinite forwards;background:#ccc;background-image:linear-gradient(90deg,#ccc 0,#f3f3f3 20%,#ccc 40%,#ccc);background-image:-webkit-linear-gradient(left,#ccc,#f3f3f3 20%,#ccc 40%,#ccc);background-repeat:no-repeat;background-size:800px 250px;position:relative;display:block}.skeleton-wrapper-section[_ngcontent-%COMP%]{-webkit-animation-name:skeletonAnimate;animation-name:skeletonAnimate;background-repeat:repeat;background-size:50% auto;background-color:#fff}@-webkit-keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@-webkit-keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}@keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}.skeleton-billing__title[_ngcontent-%COMP%]{width:80%}.skeleton-billing__title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:12px;margin-bottom:24px}.skeleton-billing__card[_ngcontent-%COMP%]{height:127px;padding-top:1px;padding-left:16px;padding-right:16px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px;height:143px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{height:12px;width:50%;margin-top:20px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{margin-top:24px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){height:12px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){margin-top:16px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){height:40px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){margin-top:16px}}"]}),t})();var g=i("cp0P"),p=i("TQ8a"),b=i("eE1I"),h=i("a4fM"),u=i("Puct"),m=i("9ajI"),f=i("7QHW"),v=i("94KC"),_=i("jtO6"),C=i("ImQb"),y=i("bPHO"),T=i("FQ6G");class w{constructor(){this.arrayBill=[]}}var O=i("fbMX"),P=i("Fgtj"),x=i("xxlt"),M=i("qrZ2"),S=i("Hu2X"),D=i("2Z6T"),k=i("3Dxe"),B=i("7AsU"),A=i("7iDA"),U=i("udwd"),V=i("GS7A");const I=Object(V.l)("appearAnimation",[Object(V.i)("void",Object(V.j)({height:0,opacity:0,"margin-top":0,"margin-bottom":0,"padding-top":0,"padding-bottom":0,"transform-origin":"top",transform:"scale3d(0, 0, 0)"})),Object(V.i)("*",Object(V.j)({height:"*",opacity:"*","margin-top":"*","margin-bottom":"*","padding-top":"*","padding-bottom":"*","transform-origin":"top",transform:"scale3d(1, 1, 1)"})),Object(V.k)("void => *",[Object(V.f)([Object(V.e)("1s cubic-bezier(0.8, 0, 0.2, 1.3)",Object(V.j)({height:"*","margin-top":"*","margin-bottom":"*","padding-top":"*","padding-bottom":"*"})),Object(V.e)("0.8s 200ms cubic-bezier(0.7, 0, 0.3, 1)",Object(V.j)({opacity:"*",transform:"scale3d(1, 1, 1)"}))])]),Object(V.k)("* => void",[Object(V.f)([Object(V.e)("1s cubic-bezier(0.8, -0.3, 0.2, 1)",Object(V.j)({height:0,"margin-top":0,"margin-bottom":0,"padding-top":0,"padding-bottom":0})),Object(V.e)("0.8s cubic-bezier(0.7, 0, 0.3, 1)",Object(V.j)({opacity:0,transform:"scale3d(0, 0, 0)"}))])])]);var H=i("sAuh"),L=i("wd/R"),E=i.n(L),R=i("OQpy"),F=function(t){return t.mobile="mobile",t.tablet="tablet",t.desktop="desktop",t}({}),W=function(t){return t.cycle_1="cycle_1",t.cycle_8="cycle_8",t.cycle_15="cycle_15",t.cycle_22="cycle_22",t.multicycle="multicycle",t.cycle_1_window_payment="cycle_1_window_payment",t.cycle_1_direct_debit="cycle_1_direct_debit",t.cycle_8_window_payment="cycle_8_window_payment",t.cycle_8_direct_debit="cycle_8_direct_debit",t.cycle_15_window_payment="cycle_15_window_payment",t.cycle_15_direct_debit="cycle_15_direct_debit",t.cycle_22_window_payment="cycle_22_window_payment",t.cycle_22_direct_debit="cycle_22_direct_debit",t.multicycle_window_payment="multicycle_window_payment",t.multicycle_direct_debit="multicycle_direct_debit",t}({}),N=function(t){return t.window_payment="window_payment",t.direct_debit="direct_debit",t}({}),j=i("xooS"),z=i("BEbT"),Y=i("y+iE"),Q=i("TSSN"),G=i("yb6Y"),q=i("hKgl"),Z=i("B4Xv");function J(t,e){if(1&t&&(r.Ub(0,"div",13),r.Tc(1),r.hc(2,"replace"),r.hc(3,"translate"),r.hc(4,"formatDate"),r.Tb()),2&t){const t=r.gc().$implicit;r.Ab(1),r.Vc(" ",r.kc(2,1,r.ic(3,5,"v10.billing.landing.discounts.finishing_on"),"{0}",r.jc(4,7,t.endDate,"D MMM YYYY"))," ")}}function K(t,e){if(1&t&&(r.Ub(0,"div",10),r.Ub(1,"div",11),r.Tc(2),r.Tb(),r.Rc(3,J,5,10,"div",12),r.Tb()),2&t){const t=e.$implicit;r.Ab(2),r.Uc(t.desc),r.Ab(1),r.nc("ngIf",t.endDate)}}function X(t,e){if(1&t&&(r.Ub(0,"div",8),r.Rc(1,K,4,2,"div",9),r.Tb()),2&t){const t=r.gc();r.Ab(1),r.nc("ngForOf",null==t.whatWillHappenData?null:t.whatWillHappenData.discountList)}}function tt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"sp-label-nba",14),r.cc("click",(function(){return r.Fc(t),r.gc().onLabelNbaDiscountsClick()})),r.hc(1,"translate"),r.Tb()}if(2&t){const t=r.gc();r.nc("title",t.renewDiscountsEntryPointTitle)("largeTitle",!0)("colorBg","turquoise")("iconLeft","#icon-price_promise")("description",r.ic(1,6,"v10.billing.landing.discounts.new_offer"))("showChevron",!0)}}let et=(()=>{class t{constructor(t,e,i,n,a){this.utilitiesService=t,this.auth=e,this.taggingHelper=i,this.storage=n,this.translate=a,this.closed=new r.n,this.renewDiscountsClick=new r.n}set show(t){this.showOverlay=t,t&&this.initWhatWillHappen()}initWhatWillHappen(){this.page=1,this.userName=this.utilitiesService.capitalizeText(this.auth.getUserFromLocalJWT().firstName),this.renewDiscountsEntryPointTitle=this.translate.instant("v10.billing.landing.discounts.dont_worry"),this.sendViewTagging(),this.sendRenewDiscountsEntryPointShowTagging()}closeWhatWillHappenOverlay(t){this.show=!1,this.closed.emit(),setTimeout(()=>{t&&t()},500)}onLabelNbaDiscountsClick(){this.closeWhatWillHappenOverlay(()=>this.renewDiscountsClick.emit()),this.sendRenewDiscountsClickTagging()}sendViewTagging(){p.a.BillingVf10.WhatWillHappen.view.client_billing_id=p.a.BillingVf10.Landing.view.client_billing_id,p.a.BillingVf10.WhatWillHappen.view.client_billing_type=p.a.BillingVf10.Landing.view.client_billing_type;const t=this.whatWillHappenData.canRenewDiscounts?p.a.BillingVf10.WhatWillHappen.pageScreenValues.withRenewal:p.a.BillingVf10.WhatWillHappen.pageScreenValues.withoutRenewal;p.a.BillingVf10.WhatWillHappen.view.page_subcategory_level_3=t,p.a.BillingVf10.WhatWillHappen.view.page_screen=t,p.a.BillingVf10.WhatWillHappen.view.page_name=p.a.BillingVf10.WhatWillHappen.view.page_name.replace("{0}",t),this.taggingHelper.view(null,p.a.BillingVf10.WhatWillHappen.view)}sendRenewDiscountsEntryPointShowTagging(){if(this.whatWillHappenData&&this.whatWillHappenData.canRenewDiscounts){const t=Object.assign({},p.a.BillingVf10.WhatWillHappen.view),e=Object.assign(t,p.a.BillingVf10.WhatWillHappen.showRenewDiscountsEntryPoint.data);e.entrypoint_list=e.entrypoint_list.replace("{et}",this.renewDiscountsEntryPointTitle),this.taggingHelper.track(p.a.BillingVf10.WhatWillHappen.showRenewDiscountsEntryPoint.eventName,e)}}sendRenewDiscountsClickTagging(){const t=Object.assign({},p.a.BillingVf10.WhatWillHappen.view),e=Object.assign(t,p.a.BillingVf10.WhatWillHappen.clickRenewDiscountsEntryPoint.data);e.entrypoint_title=this.renewDiscountsEntryPointTitle,this.taggingHelper.track(p.a.BillingVf10.WhatWillHappen.clickRenewDiscountsEntryPoint.eventName,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(h.a),r.Ob(M.a),r.Ob(m.a),r.Ob(O.a),r.Ob(Q.e))},t.\u0275cmp=r.Ib({type:t,selectors:[["sp-what-will-happen"]],inputs:{headerTitle:"headerTitle",headerSubtitle:"headerSubtitle",whatWillHappenData:"whatWillHappenData",show:"show"},outputs:{closed:"closed",renewDiscountsClick:"renewDiscountsClick"},decls:12,vars:16,consts:[[3,"show","page","headerTitle","headerSubtitle","closed"],["body",""],[1,"what-will-happen-wrapper"],[1,"mva10-u-heading--3",3,"innerHtml"],[1,"mva10-u-heading--3"],["class","what-will-happen__discount-list",4,"ngIf"],[1,"what-will-happen__discount-list__renew"],[3,"title","largeTitle","colorBg","iconLeft","description","showChevron","click",4,"ngIf"],[1,"what-will-happen__discount-list"],["class","what-will-happen__discount-list__item",4,"ngFor","ngForOf"],[1,"what-will-happen__discount-list__item"],[1,"discount-name","mva10-u-heading--5"],["class","discount-endDate mva10-u--body",4,"ngIf"],[1,"discount-endDate","mva10-u--body"],[3,"title","largeTitle","colorBg","iconLeft","description","showChevron","click"]],template:function(t,e){1&t&&(r.Ub(0,"vfac-tobi-overlay",0),r.cc("closed",(function(t){return e.closeWhatWillHappenOverlay(t)})),r.hc(1,"replace"),r.hc(2,"translate"),r.Ub(3,"div",1),r.Ub(4,"div",2),r.Pb(5,"p",3),r.Ub(6,"p",4),r.Tc(7),r.hc(8,"translate"),r.Tb(),r.Rc(9,X,2,1,"div",5),r.Ub(10,"div",6),r.Rc(11,tt,2,8,"sp-label-nba",7),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.nc("show",e.showOverlay)("page",e.page)("headerTitle",e.headerTitle||r.kc(1,8,r.ic(2,12,"v10.billing.landing.discounts.overlay.greeting"),"{0}",e.userName))("headerSubtitle",e.headerSubtitle),r.Ab(5),r.nc("innerHtml",null==e.whatWillHappenData?null:e.whatWillHappenData.billChanges,r.Gc),r.Ab(2),r.Uc(r.ic(8,14,"v10.billing.landing.discounts.overlay.intro")),r.Ab(2),r.nc("ngIf",null==e.whatWillHappenData?null:e.whatWillHappenData.discountList),r.Ab(2),r.nc("ngIf",null==e.whatWillHappenData?null:e.whatWillHappenData.canRenewDiscounts))},directives:[x.Eb,n.t,n.s,G.a],pipes:[q.a,Q.d,Z.a],styles:[".what-will-happen-wrapper[_ngcontent-%COMP%]{margin-bottom:24px}.what-will-happen__discount-list__item[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding:16px 0}.what-will-happen__discount-list__item[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ccc}.what-will-happen__discount-list__item[_ngcontent-%COMP%]   .discount-name[_ngcontent-%COMP%]{color:#424242}.what-will-happen__discount-list__item[_ngcontent-%COMP%]   .discount-endDate[_ngcontent-%COMP%]{color:#666}.what-will-happen__discount-list__renew[_ngcontent-%COMP%]{margin-top:24px}"]}),t})();var it=i("PHSF"),nt=i("NiZn"),at=i("qLtZ"),lt=i("BKed");const st=["renewDiscountsTileContainer"],ot=["idCardsLastBills"];function ct(t,e){if(1&t){const t=r.Vb();r.Ub(0,"vfac-histogram",29),r.cc("clickEvent",(function(e){return r.Fc(t),r.gc().clickBill(e,!0)})),r.Tb()}if(2&t){const t=r.gc();r.nc("yuAppearance",1===t.appService.typeUser&&1===t.storage.userProfile.sites.length?"yu":"")("histogramDisplayData",t.billsHistrogramModel)}}const rt=function(t,e){return{"mva10-u-gradient--bg-red-dark":t,"mva10-u-gradient--bg-red-yu":e}};function dt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",30),r.Ub(1,"mva10-c-card",31),r.Ub(2,"div",32),r.Pb(3,"label",33),r.Ub(4,"div",34),r.Ub(5,"mva10-c-button",35),r.cc("click",(function(){return r.Fc(t),r.gc().goToBillPayment(!0)})),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Ab(1),r.nc("ngClass",r.uc(7,rt,1!==t.appService.typeUser||t.storage.userProfile.sites.length>1,1===t.appService.typeUser&&1===t.storage.userProfile.sites.length))("responsiveSize",20),r.Ab(2),r.nc("innerHtml",t.labelDebtAmount,r.Gc),r.Ab(2),r.nc("body",t.buttonDebt)("styleClass","mva10-c-button--small mva10-u-color--bg-white mva10-u-color--black")("name",t.buttonDebt)("title",t.buttonDebt)}}function gt(t,e){if(1&t&&(r.Ub(0,"mva10-c-card",36),r.Qb(1,22),r.Tb()),2&t){r.gc();const t=r.Cc(45);r.Ab(1),r.nc("ngTemplateOutlet",t)}}function pt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"div",39),r.Ub(2,"label",40),r.Tc(3),r.Tb(),r.Tb(),r.Ub(4,"div",41),r.cc("click",(function(){return r.Fc(t),r.gc(2).openOverlayMultiSedeEstimate()})),r.Ub(5,"mva10-c-card",42),r.Ub(6,"div",43),r.Ub(7,"div"),r.Pb(8,"img",44),r.Ub(9,"label"),r.Tc(10),r.hc(11,"translate"),r.Tb(),r.Tb(),r.fc(),r.Ub(12,"svg",45),r.Ub(13,"title"),r.Tc(14,"Chrevon"),r.Tb(),r.Pb(15,"use",46),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.ec(),r.Ub(16,"label",47),r.Tc(17),r.hc(18,"translate"),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.Ab(3),r.Uc(t.multiBillsLastMonth?t.labelEstimatedTitlePlural:t.labelEstimatedTitleSingular),r.Ab(2),r.nc("responsiveSize",20),r.Ab(3),r.nc("src",t.appTheme.getImgFullPath(t.labelMultiSiteImage),r.Jc),r.Ab(2),r.Vc(" ",r.ic(11,5,"v10.billing.landing.estimated_multiSite")," "),r.Ab(7),r.Uc(r.ic(18,7,"v10.billing.landing.estimated_note"))}}function bt(t,e){if(1&t&&(r.Ub(0,"label",55),r.Tc(1),r.Tb()),2&t){const t=r.gc(3);r.Ab(1),r.Uc(t.labelBillingCycle)}}function ht(t,e){if(1&t&&(r.Ub(0,"p",56),r.Ub(1,"label"),r.Tc(2),r.Tb(),r.Ub(3,"label"),r.Tc(4),r.Tb(),r.Tb()),2&t){const t=r.gc(3);r.Ab(2),r.Uc(t.labelYear),r.Ab(2),r.Uc(t.multiBillsLastMonth?t.getTextNumberOfBills(t.billsLastMonth.arrayBill.length):t.labelBillingCycleShort)}}function ut(t,e){if(1&t&&(r.Ub(0,"label",57),r.Tc(1),r.Tb()),2&t){const t=r.gc(3);r.Ab(1),r.Uc(t.labelMonth)}}function mt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"div",39),r.Ub(2,"label",40),r.Tc(3),r.Tb(),r.Rc(4,bt,2,1,"label",48),r.Tb(),r.Qb(5,22),r.Ub(6,"mva10-c-card",49),r.Ub(7,"div",39),r.Rc(8,ht,5,2,"p",50),r.Rc(9,ut,2,1,"label",51),r.Ub(10,"label",52),r.Tc(11),r.hc(12,"sliceCurrencyRoundZero"),r.hc(13,"currency"),r.Tb(),r.Tb(),r.Ub(14,"div",53),r.Qb(15,22),r.Tb(),r.Pb(16,"hr"),r.Ub(17,"div",54),r.cc("click",(function(){r.Fc(t);const e=r.gc(2);return e.clickExpandCardEstimate(!e.cardExpandableValue)})),r.Ub(18,"label"),r.Tc(19),r.Tb(),r.Tb(),r.Tb(),r.Ub(20,"label",47),r.Tc(21),r.hc(22,"translate"),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2),e=r.Cc(42),i=r.Cc(27);r.Ab(3),r.Uc(t.multiBillsLastMonth?t.labelEstimatedTitlePlural:t.labelEstimatedTitleSingular),r.Ab(1),r.nc("ngIf",t.labelBillingCycle),r.Ab(1),r.nc("ngTemplateOutlet",e),r.Ab(1),r.nc("styleClass","vfac-card-expandable")("responsiveSize",20),r.Ab(2),r.nc("ngIf",t.labelYear||t.labelBillingCycleShort),r.Ab(1),r.nc("ngIf",t.labelMonth),r.Ab(2),r.Vc("",r.ic(12,11,r.kc(13,13,t.couteEstimate,"EUR","symbol")),"\u20ac "),r.Ab(4),r.nc("ngTemplateOutlet",i),r.Ab(4),r.Uc(t.labelCardExpandableValue),r.Ab(2),r.Uc(r.ic(22,17,"v10.billing.landing.estimated_note"))}}function ft(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,22),r.Tb()),2&t){r.gc(2);const t=r.Cc(29);r.Ab(1),r.nc("ngTemplateOutlet",t)}}function vt(t,e){if(1&t&&(r.Ub(0,"div",37,38),r.Rc(2,pt,19,9,"div",9),r.Rc(3,mt,23,19,"div",9),r.Rc(4,ft,2,1,"div",9),r.Tb()),2&t){const t=r.gc();r.Ab(2),r.nc("ngIf",t.estimateMultipleSites&&t.multipleSites&&t.lastBillsLoad&&!t.multiCycleBillLastBill),r.Ab(1),r.nc("ngIf",t.estimateLoad&&!t.multipleSites&&t.lastBillsLoad&&!t.multiCycleBillLastBill),r.Ab(1),r.nc("ngIf",!t.estimateLoad&&!t.lastBillsLoad)}}const _t=function(t){return{bill:t}};function Ct(t,e){if(1&t){const t=r.Vb();r.Ub(0,"vfac-card-single-bill",65),r.cc("clickEvent",(function(e){return r.Fc(t),r.gc(4).clickBill(e)})),r.Qb(1,66),r.Tb()}if(2&t){const t=r.gc().$implicit,e=r.gc(3),i=r.Cc(25);r.nc("opacityText",t.arrayBill[0].status.toLowerCase()!=e.billStatusEnum.ready)("singleBillDisplayData",e.transformDataSingleBill(t))("loaded",!0),r.Ab(1),r.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",r.tc(5,_t,t.arrayBill[0]))}}function yt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"vfac-card-multi-bill",67),r.cc("clickEvent",(function(e){return r.Fc(t),r.gc(4).clickBill(e)})),r.Tb(),r.Tb()}if(2&t){const t=r.gc().$implicit,e=r.gc(3);r.Ab(1),r.nc("multiBillDisplayData",e.transformDataMultiBill(t))("loaded",!0)}}const Tt=function(t){return{"animation-delay":t}};function wt(t,e){if(1&t&&(r.Ub(0,"div",62,63),r.Ub(2,"div"),r.Rc(3,Ct,2,7,"vfac-card-single-bill",64),r.Rc(4,yt,2,2,"div",9),r.Tb(),r.Tb()),2&t){const t=e.$implicit,i=e.index;r.nc("ngStyle",r.tc(3,Tt,i<=1?.06*(i+1)+"s":.06*(i-1)+"s")),r.Ab(3),r.nc("ngIf",1==t.arrayBill.length),r.Ab(1),r.nc("ngIf",t.arrayBill.length>=2)}}function Ot(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,wt,5,5,"div",61),r.hc(2,"slice"),r.Tb()),2&t){const t=r.gc(2);r.Ab(1),r.nc("ngForOf",r.kc(2,1,t.billsHistrogramWithoutFill,0,t.endLastBill))}}function Pt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",68,69),r.Ub(2,"mva10-c-button",35),r.cc("click",(function(){return r.Fc(t),r.gc(2).moreLastBills()})),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.nc("ngStyle",r.tc(5,Tt,"0.12s")),r.Ab(2),r.nc("body",t.labelButtonMoreLastBills)("styleClass","mva10-c-button--secondary")("name",t.labelButtonMoreLastBills)("title",t.labelButtonMoreLastBills)}}function xt(t,e){if(1&t&&(r.Ub(0,"mva10-c-card",42),r.Ub(1,"div",70),r.Pb(2,"img",71),r.hc(3,"translate"),r.Ub(4,"span"),r.Tc(5),r.hc(6,"translate"),r.Tb(),r.Ub(7,"span"),r.Tc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc(2);r.nc("responsiveSize",20),r.Ab(2),r.oc("src",t.appTheme.getImgFullPath(r.ic(3,4,"v10.billing.common.cards.empty.image")),r.Jc),r.Ab(3),r.Uc(r.ic(6,6,"v10.billing.common.cards.empty.titleText")),r.Ab(3),r.Uc(r.ic(9,8,"v10.billing.common.cards.empty.subtitleText"))}}function Mt(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"div",39),r.Ub(2,"label",58),r.Tc(3),r.hc(4,"translate"),r.Tb(),r.Tb(),r.Rc(5,Ot,3,5,"div",14),r.Rc(6,Pt,3,7,"div",59),r.Rc(7,xt,10,10,"ng-template",null,60,r.Sc),r.Tb()),2&t){const t=r.Cc(8),e=r.gc();r.Ab(3),r.Uc(r.ic(4,4,"v10.billing.landing.lastBillsTitle")),r.Ab(2),r.nc("ngIf",!e.errorBill&&e.lastBillsExist)("ngIfElse",t),r.Ab(1),r.nc("ngIf",2==e.endLastBill&&e.billsHistrogramWithoutFill.length>2)}}function St(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,22),r.Tb()),2&t){r.gc();const t=r.Cc(29);r.Ab(1),r.nc("ngTemplateOutlet",t)}}function Dt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",72),r.Ub(1,"div",41),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc().clickBillSelector(i)})),r.Ub(2,"vfac-card-selector-bill",73),r.Qb(3,66),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,i=r.gc(),n=r.Cc(25);r.Ab(2),r.nc("opacityText",t.status.toLowerCase()!=i.billStatusEnum.ready)("selectorBillDisplayData",i.transformDataSelectorBill(t))("loaded",!0),r.Ab(1),r.nc("ngTemplateOutlet",n)("ngTemplateOutletContext",r.tc(5,_t,t))}}function kt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mva10-c-carousel-item"),r.Ub(1,"div"),r.Ub(2,"mva10-c-card-selector-fixed",76),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc(2).clickChangeMultiSede(i)})),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,i=r.gc(2);r.Ab(2),r.nc("label",t.formattedAddress)("value",t.id)("selectDefault",i.sites[0].id)("id",t.id)("name","sites")}}function Bt(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"form",74),r.Ub(2,"fieldset"),r.Ub(3,"mva10-c-carousel-continuous"),r.Rc(4,kt,3,5,"mva10-c-carousel-item",75),r.Tb(),r.Tb(),r.Tb(),r.Rb()),2&t){const t=r.gc();r.Ab(3),r.Bb("data-responsive",48),r.Ab(1),r.nc("ngForOf",t.sites)}}function At(t,e){if(1&t&&(r.Ub(0,"div",39),r.Ub(1,"label",55),r.Tc(2),r.Tb(),r.Tb()),2&t){const t=r.gc(3);r.Ab(2),r.Uc(t.labelBillingCycle)}}function Ut(t,e){if(1&t&&(r.Ub(0,"p",56),r.Ub(1,"label"),r.Tc(2),r.Tb(),r.Ub(3,"label"),r.Tc(4),r.Tb(),r.Tb()),2&t){const t=r.gc(3);r.Ab(2),r.Uc(t.labelYear),r.Ab(2),r.Uc(t.labelBillingCycleShort)}}function Vt(t,e){if(1&t&&(r.Ub(0,"label",57),r.Tc(1),r.Tb()),2&t){const t=r.gc(3);r.Ab(1),r.Uc(t.labelMonth)}}function It(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,At,3,1,"div",78),r.Qb(2,22),r.Ub(3,"mva10-c-card",42),r.Ub(4,"div",39),r.Rc(5,Ut,5,2,"p",50),r.Rc(6,Vt,2,1,"label",51),r.Ub(7,"label",52),r.Tc(8),r.hc(9,"sliceCurrencyRoundZero"),r.hc(10,"currency"),r.Tb(),r.Tb(),r.Qb(11,22),r.Tb(),r.Tb()),2&t){const t=r.gc(2),e=r.Cc(42),i=r.Cc(27);r.Ab(1),r.nc("ngIf",t.labelBillingCycle),r.Ab(1),r.nc("ngTemplateOutlet",e),r.Ab(1),r.nc("responsiveSize",20),r.Ab(2),r.nc("ngIf",t.labelYear||t.labelBillingCycleShort),r.Ab(1),r.nc("ngIf",t.labelMonth),r.Ab(2),r.Vc("",r.ic(9,7,r.kc(10,9,t.couteEstimate,"EUR","symbol")),"\u20ac "),r.Ab(3),r.nc("ngTemplateOutlet",i)}}function Ht(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",79),r.Ub(1,"ng-lottie",80),r.cc("animationCreated",(function(e){return r.Fc(t),r.gc(2).handleAnimation(e)})),r.Tb(),r.Ub(2,"span"),r.Ub(3,"label"),r.Tc(4),r.hc(5,"translate"),r.Tb(),r.Tb(),r.Ub(6,"span"),r.Ub(7,"label"),r.Tc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.Ab(1),r.nc("options",t.lottieConfig)("width",100)("height",100),r.Ab(3),r.Uc(r.ic(5,5,"v10.billing.landing.estimated_multiSite_errorTitle")),r.Ab(4),r.Uc(r.ic(9,7,"v10.billing.landing.estimated_multiSite_errorDesc"))}}function Lt(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,22),r.Ub(2,"div",81),r.Qb(3,22),r.Tb(),r.Tb()),2&t){r.gc(2);const t=r.Cc(31);r.Ab(1),r.nc("ngTemplateOutlet",t),r.Ab(2),r.nc("ngTemplateOutlet",t)}}function Et(t,e){if(1&t&&(r.Sb(0),r.Rc(1,It,12,13,"div",9),r.Rc(2,Ht,10,9,"div",77),r.Rc(3,Lt,4,2,"div",9),r.Rb()),2&t){const t=r.gc();r.Ab(1),r.nc("ngIf",t.estimateLoad&&t.estimateValid),r.Ab(1),r.nc("ngIf",t.estimateLoad&&!t.estimateValid),r.Ab(1),r.nc("ngIf",!t.estimateLoad)}}function Rt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"ng-lottie",80),r.cc("animationCreated",(function(e){return r.Fc(t),r.gc().handleAnimation(e)})),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Ab(1),r.nc("options",t.lottieConfig)("width",100)("height",100)}}function Ft(t,e){if(1&t&&r.Pb(0,"span",87),2&t){const t=e.$implicit,i=r.gc(3);r.oc("ngClass",i.getIcon(t))}}function Wt(t,e){if(1&t&&(r.Ub(0,"div",85),r.Ub(1,"div"),r.Rc(2,Ft,1,1,"span",86),r.Tb(),r.fc(),r.Ub(3,"svg",45),r.Ub(4,"title"),r.Tc(5,"Chrevon"),r.Tb(),r.Pb(6,"use",46),r.Tb(),r.Tb()),2&t){const t=r.gc().bill,e=r.gc();r.Ab(2),r.nc("ngForOf",e.getArrayIcon(t.subscriptions))}}function Nt(t,e){if(1&t&&(r.Ub(0,"div",88),r.fc(),r.Ub(1,"svg",89),r.Ub(2,"title"),r.Tc(3,"clock"),r.Tb(),r.Pb(4,"use",90),r.Tb(),r.ec(),r.Ub(5,"div"),r.Ub(6,"p",91),r.Ub(7,"label"),r.Tc(8),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc().bill,e=r.gc();r.Ab(8),r.Uc(e.obtainReamingDays(t))}}function jt(t,e){1&t&&(r.Ub(0,"div",88),r.fc(),r.Ub(1,"svg",89),r.Ub(2,"title"),r.Tc(3,"warning"),r.Tb(),r.Pb(4,"use",92),r.Tb(),r.ec(),r.Ub(5,"div"),r.Ub(6,"p",91),r.Ub(7,"label"),r.Tc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Ab(8),r.Uc(r.ic(9,1,"v10.billing.common.cards.error.text")))}function $t(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",88),r.fc(),r.Ub(1,"svg",89),r.Ub(2,"title"),r.Tc(3,"info"),r.Tb(),r.Pb(4,"use",93),r.Tb(),r.ec(),r.Ub(5,"div"),r.Ub(6,"p",91),r.Ub(7,"label"),r.Tc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Ub(10,"div",94),r.cc("click",(function(){r.Fc(t);const e=r.gc().bill;return r.gc().billingVf10Service.downloadPDF(e)})),r.Tc(11),r.hc(12,"translate"),r.Tb(),r.Tb(),r.Tb()}2&t&&(r.Ab(8),r.Uc(r.ic(9,2,"v10.billing.common.cards.pdf.text")),r.Ab(3),r.Vc(" ",r.ic(12,4,"v10.billing.common.cards.pdf.button")," "))}function zt(t,e){if(1&t&&(r.Ub(0,"div",82),r.Rc(1,Wt,7,1,"div",83),r.Rc(2,Nt,9,1,"div",84),r.Rc(3,jt,10,3,"div",84),r.Rc(4,$t,13,6,"div",84),r.Tb()),2&t){const t=e.bill,i=r.gc();r.nc("ngSwitch",t.status.toLowerCase()),r.Ab(1),r.nc("ngSwitchCase",i.billStatusEnum.ready),r.Ab(1),r.nc("ngSwitchCase",i.billStatusEnum.inProgress||i.billStatusEnum.open),r.Ab(1),r.nc("ngSwitchCase",i.billStatusEnum.error||i.billStatusEnum.generalError),r.Ab(1),r.nc("ngSwitchCase",i.billStatusEnum.pdf)}}function Yt(t,e){if(1&t&&r.Qb(0,22),2&t){r.gc(2);const t=r.Cc(45);r.nc("ngTemplateOutlet",t)}}function Qt(t,e){1&t&&r.Pb(0,"hr")}function Gt(t,e){if(1&t&&(r.Ub(0,"p",103),r.Tc(1),r.Tb()),2&t){const t=r.gc().$implicit;r.Ab(1),r.Uc(t.endDateDesc)}}function qt(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"p",99),r.Ub(2,"label",100),r.Tc(3),r.Tb(),r.Ub(4,"label",101),r.Tc(5),r.hc(6,"sliceCurrencyRoundZero"),r.hc(7,"currency"),r.Tb(),r.Tb(),r.Rc(8,Gt,2,1,"p",102),r.Rb()),2&t){const t=e.$implicit;r.Ab(3),r.Uc(t.desc),r.Ab(2),r.Vc("",r.ic(6,3,r.kc(7,5,t.grossAmountDue,"EUR","symbol")),"\u20ac "),r.Ab(3),r.nc("ngIf",t.endDateDesc)}}function Zt(t,e){1&t&&r.Pb(0,"hr")}function Jt(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"p"),r.Ub(2,"label",98),r.Tc(3),r.Tb(),r.Tb(),r.Rc(4,qt,9,9,"ng-container",75),r.Rc(5,Zt,1,0,"hr",9),r.Tb()),2&t){const t=e.$implicit,i=e.index,n=r.gc(2);r.Ab(3),r.Uc(t.name),r.Ab(1),r.nc("ngForOf",t.amounts),r.Ab(1),r.nc("ngIf",i!==n.listCoutes.length-1||n.listBundles.length>=1)}}function Kt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"p",105),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc(3).openOutOfBundleOverlay(i)})),r.Ub(1,"label",106),r.Tc(2),r.Tb(),r.Ub(3,"label",101),r.Tc(4),r.hc(5,"sliceCurrencyRoundZero"),r.hc(6,"currency"),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,i=r.gc(3);r.Ab(2),r.Wc(" ",t.name," ",i.isTv(t)?"":t.id," "),r.Ab(2),r.Vc(" ",r.ic(5,3,r.kc(6,5,t.amount,"EUR","symbol")),"\u20ac ")}}function Xt(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"p"),r.Ub(2,"label",98),r.Tc(3),r.hc(4,"translate"),r.Tb(),r.Tb(),r.Rc(5,Kt,7,9,"p",104),r.Tb()),2&t){const t=r.gc(2);r.Ab(3),r.Uc(r.ic(4,2,"v10.billing.landing.estimated_consumption_oob")),r.Ab(2),r.nc("ngForOf",t.listBundles)}}function te(t,e){if(1&t){const t=r.Vb();r.Pb(0,"hr"),r.Ub(1,"div",95),r.Ub(2,"label"),r.Tc(3),r.hc(4,"translate"),r.Tb(),r.Ub(5,"div"),r.Ub(6,"mva10-c-button",96),r.cc("click",(function(){return r.Fc(t),r.gc().goToBillPayment(!1)})),r.Tb(),r.Tb(),r.Tb(),r.Pb(7,"hr"),r.Rc(8,Yt,1,1,"ng-container",97),r.Rc(9,Qt,1,0,"hr",9),r.Rc(10,Jt,6,3,"div",75),r.Rc(11,Xt,6,4,"div",9)}if(2&t){const t=r.gc();r.Ab(3),r.Vc(" ",r.ic(4,8,"v10.billing.landing.advance_payment.desc")," "),r.Ab(3),r.nc("body",t.buttonAdvancePayment)("name",t.buttonAdvancePayment)("title",t.buttonAdvancePayment),r.Ab(2),r.nc("ngIf",t.showBillingTariffUpdate),r.Ab(1),r.nc("ngIf",t.showBillingTariffUpdate),r.Ab(1),r.nc("ngForOf",t.listCoutes),r.Ab(1),r.nc("ngIf",t.listBundles.length>=1)}}function ee(t,e){1&t&&(r.Ub(0,"div",107),r.Ub(1,"div",108),r.Pb(2,"div",109),r.Tb(),r.Ub(3,"div",110),r.Pb(4,"div",109),r.Pb(5,"div",109),r.Pb(6,"div",109),r.Tb(),r.Tb())}function ie(t,e){1&t&&(r.Ub(0,"div",107),r.Ub(1,"div",110),r.Pb(2,"div",109),r.Pb(3,"div",109),r.Pb(4,"div",109),r.Tb(),r.Tb())}function ne(t,e){if(1&t&&(r.Ub(0,"div",11),r.Qb(1,22),r.Tb()),2&t){r.gc();const t=r.Cc(40);r.Ab(1),r.nc("ngTemplateOutlet",t)}}function ae(t,e){if(1&t&&(r.Ub(0,"label",55),r.Ub(1,"span",111),r.Tc(2),r.Tb(),r.Tc(3),r.Tb()),2&t){const t=r.gc();r.Ab(2),r.Uc(t.labelMonth),r.Ab(1),r.Vc(" ",t.labelBillingCycleShort," ")}}function le(t,e){if(1&t&&r.Pb(0,"sp-current-comsuption",112),2&t){const t=r.gc();r.nc("serviceId",t.estimatedOverlayServiceId)("siteId",t.selectedSideId)("detailToExpand",t.estimatedOutOfBundleOverlayDetailToExpand)("badgeToSelect",t.estimatedOutOfBundleOverlayBadgeToSelect)}}function se(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",116),r.Ub(1,"vfac-big-tile",117),r.cc("clickEvent",(function(){return r.Fc(t),r.gc(2).onRenewDiscountsTileClick()})),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.nc("@appearAnimation",void 0),r.Ab(1),r.nc("bigTileData",null==t.renewDiscountsData[t.selectedSideId]?null:t.renewDiscountsData[t.selectedSideId].tileData)("styleClass",t.renewDiscountsTileDataStyles)("loaded",!0)}}function oe(t,e){if(1&t&&(r.Ub(0,"div",113,114),r.Rc(2,se,2,4,"div",115),r.Tb()),2&t){const t=r.gc();r.Ab(2),r.nc("ngIf",null==t.renewDiscountsData[t.selectedSideId]?null:t.renewDiscountsData[t.selectedSideId].mustShowTile)}}const ce=function(){return{"mva10-u-color--primary":!0}};function re(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",118),r.Ub(1,"h6",119),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"button",120),r.cc("click",(function(e){return r.Fc(t),r.gc().navigateCommunications(e)})),r.Tc(5),r.hc(6,"translate"),r.Pb(7,"mva10-c-icon",121),r.Tb(),r.Pb(8,"img",122),r.hc(9,"translate"),r.Tb()}if(2&t){const t=r.gc();r.Ab(2),r.Uc(r.ic(3,4,"v10.billing.landing.tariffUpdate.description")),r.Ab(3),r.Uc(r.ic(6,6,"v10.billing.landing.tariffUpdate.link")),r.Ab(2),r.nc("ngClass",r.sc(10,ce)),r.Ab(1),r.nc("src",t.appTheme.getImgFullPath(r.ic(9,8,"v10.billing.landing.tariffUpdate.icon")),r.Jc)}}const de=function(t){return{"billingvf10-histogram--paddingDesktop":t}};let ge=(()=>{class t{constructor(t,e,i,n,a,l,s,o,c,r,d,g,p,b,h,u,m,f,v,_,C){this.router=t,this.appTheme=e,this.subscriptionData=i,this.translate=n,this.serviceBalance=a,this.taggingHelper=l,this.billingService=s,this.purchaseProductsService=o,this.utilitiesService=c,this.storage=r,this.customerAccountService=d,this.authenticationService=g,this.companyService=p,this.billingVf10Service=b,this.customerBillService=h,this.configurationService=u,this.resizeService=m,this.entryPointService=f,this.appService=v,this.productConfigurationService=_,this.locationService=C,this.sites=[],this.errorBill=!1,this.lastBillsLoad=!1,this.lastBillsExist=!1,this.billsHistrogram=[],this.billsHistrogramWithoutFill=[],this.billsHistrogramModel={arrayHistogram:null},this.billsLastMonth=new w,this.endLastBill=2,this.multiCycleBillLastBill=!1,this.estimateMultipleSites=!0,this.estimateLoad=!1,this.estimateValid=!0,this.listBundles=[],this.debtAmount=0,this.overlayData=new x.R,this.overlayFullScreenData=new x.P,this.showSelectorBill=!1,this.loadSelectorBill=!0,this.loadMultiSedeOverlay=!0,this.showMultiSedeOverlay=!1,this.cardExpandableValue=!0,this.showOverlayFullScreen=!1,this.viewMoreActive=!1,this.BREAKPOINTS=x.d,this.currentTutorialNoBillsSlide=0,this.currentTutorialFirstBillSlide=0,this.renewDiscountsData={},this.entryPoint=null,this.arrayEntrypointList=[],this.appTheme.showFullAppLoader=!1}set factories(t){this.elementCardsLastBills=t}get factories(){return this.elementCardsLastBills}get billStatusEnum(){return T.a}ngOnInit(){this.showBillingEta=this.configurationService.configuration.showBillingEta,this.getTranslateText(),this.customerAccountService.GetCustomerAccounts(this.companyService.selectedCompanyId,!0).subscribe(()=>{this.multipleSites=this.storage.userProfile.sites&&this.storage.userProfile.sites.length>1&&this.customerAccountService.isP1Sites(this.storage.userProfile)&&this.customerAccountService.customerAccounts.length>1||this.storage.userProfile.companies&&this.storage.userProfile.companies.length>1,this.checkDebt(),this.estimateValid=!this.billingVf10Service.isInvoiceEstimate(this.storage.userProfile.sites.find(t=>t.id===this.subscriptionData.customerData.currentService.siteId)),!this.multipleSites&&this.subscriptionData.customerData.currentService&&this.subscriptionData.customerData.currentService.siteId&&this.showBillingEta?(this.getEstimate(this.subscriptionData.customerData.currentService.siteId),this.estimateMultipleSites=!1):this.multipleSites?this.multipleSites&&!this.estimateValid&&(this.estimateMultipleSites=!1):(this.estimateValid=!1,this.estimateLoad=!0,this.estimateMultipleSites=!1)}),this.selectedSideId=this.subscriptionData.GetCustomerAccountsId(),this.getBillLanding(),this.lottieConfig={path:this.appTheme.getImgFullPath(this.iconBillError),autoplay:!0,loop:!0},this.breakpoint=this.resizeService.breakpoint,this.resizeService.onResize$.subscribe(t=>{this.breakpoint=t}),this.estimatedOverlayData=new x.R,this.estimatedOverlayData.isScrollableTray=!0,this.estimatedOverlayData.title=this.translate.instant("v10.billing.comsuption.titlePage"),this.renewDiscountsTileDataStyles={color:"white",background:'url("https://assets-es.dxl.local.vodafone.es/assets/icons-svg/medal_tick_white.svg"), linear-gradient(90deg, #990000, #e60000)',"background-position-x":"right","background-position-y":"bottom","background-repeat":"no-repeat","background-size":"auto, cover !important",height:"auto"},this.yuAppearance=this.appService.checkYuUser(),this.showBillingTariffUpdate=this.productConfigurationService.shouldShowFeature(z.a.billingTariffUpdate)&&!this.yuAppearance,this.showBillingTariffUpdatePrinc=this.productConfigurationService.shouldShowFeature(z.a.billingTariffUpdatePrinc)&&!this.yuAppearance}ngAfterViewInit(){this.factories.changes.subscribe(()=>{this.elementCardsLastBills&&this.elementCardsLastBills.length>2&&!this.viewMoreActive&&setTimeout(()=>{this.elementCardsLastBills.toArray()[0].nativeElement.scrollIntoView({behavior:"smooth"}),this.viewMoreActive=!0},0)})}checkDebt(){this.customerAccountService.customerAccounts.forEach(t=>{this.debtAmount=this.debtAmount+(t.debtAmount>0?t.debtAmount:0)}),this.debtAmount>0&&this.translate.get("v10.billing.landing.debt.desc").subscribe(t=>{this.labelDebtAmount=t.replace("\u20ac","").replace("{0}",this.titleCaseWord(this.storage.userProfile.firstName)).replace("{1}",`<span class="mva10-u-heading--4">${this.debtAmount.toFixed(2).replace(".",",").replace(",00","")}\u20ac</span>`)})}getEstimate(t){this.estimateLoad=!1,this.estimateValid=!this.billingVf10Service.isInvoiceEstimate(this.storage.userProfile.sites.find(t=>t.id===this.subscriptionData.customerData.currentService.siteId)),this.subscriptionData.customerData.currentService&&this.subscriptionData.customerData.customerAccountsId?(this.serviceBalance.setCurrentService(),Object(g.a)(this.billingVf10Service.GetCustomerCoute(t),this.billingVf10Service.getBalanceForService(t,o.BundleType.outOfPlan),this.purchaseProductsService.GetCoutes(t,!0)).subscribe(([t,e,i])=>{const n=this.getConsumoOOB(),a=this.getCoute();n||a?this.couteEstimate=this.totalAmountCoute+this.totalAmountBundle:this.estimateValid=!1,this.estimateLoad=!0,this.checkDiscountsToRenew()},t=>{this.errorEstimate();const e=Object.assign({},p.a.BillingVf10.Landing.view),i=Object.assign(e,p.a.BillingVf10.Landing.errorEstimado.data);this.taggingHelper.track(p.a.BillingVf10.Landing.errorEstimado.eventName,i)})):this.errorEstimate()}errorEstimate(){this.estimateValid=!1,this.estimateLoad=!0,this.lottieConfig={path:this.appTheme.getImgFullPath(this.iconBillError),autoplay:!0,loop:!0}}getConsumoOOB(){const t=[];return this.totalAmountBundle=0,this.billingVf10Service.serviceBundles.totalAmount=0,this.billingVf10Service.serviceBundles.bundles.forEach(e=>{0!==e.amount&&t.push(e),this.billingVf10Service.serviceBundles.totalAmount+=+e.amount.toString()}),this.listBundles=t,this.totalAmountBundle=this.billingVf10Service.serviceBundles.totalAmount,!0}getCoute(){return this.updateCoutesList(this.purchaseProductsService.coutes),this.totalAmountCoute=this.purchaseProductsService.aggregatedAmount.grossAmountDue,this.listCoutes.length>=1&&this.totalAmountCoute>=0}mapFinishingDates(t,e){const i=this.translate.instant("v10.billing.landing.discounts.finished_this_bill"),n=this.translate.instant("v10.billing.landing.discounts.finishing_on");return t.map(t=>Object.assign(Object.assign({},t),{amounts:t.amounts.map(t=>{let a=null;return t.endDate&&(a=this.conceptEndsInEstimatedCycle(t,e)?i:n.replace("{0}",this.utilitiesService.getDateWithMonth(t.endDate,!0))),Object.assign(Object.assign({},t),{endDateDesc:a})})}))}conceptEndsInEstimatedCycle(t,e){return this.utilitiesService.getDateFromString(t.endDate)<=new Date(e.endDate)}getBillingCycle(t){this.estimatedBill=t,this.updateCoutesList();const e=new Date(t.startDate),i=new Date(t.endDate),n=new Date(i.getTime()+864e5);this.labelBillingCycle=this.labelEstimatedSubTitle.replace("{0}",n.getDate()+" de "+this.utilitiesService.getMonthName((n.getMonth()+1).toString())),this.labelBillingCycleShort=e.getDate()+" "+this.utilitiesService.getMonthName((e.getMonth()+1).toString(),!0)+" - "+i.getDate()+" "+this.utilitiesService.getMonthName((i.getMonth()+1).toString(),!0),this.labelMonth=i.getDate()>=14?this.utilitiesService.getMonthName((i.getMonth()+1).toString()):this.utilitiesService.getMonthName((e.getMonth()+1).toString()),this.labelYear=i.getDate()>=14?i.getFullYear():e.getFullYear()}updateCoutesList(t=this.listCoutes||[]){this.estimatedBill?(this.listCoutes=this.mapFinishingDates(t,this.estimatedBill),this.checkDiscountsToRenew()):this.listCoutes=t}getSitesMultiSede(){this.sites=[],this.authenticationService.hasRole(y.a.Authorized.toLowerCase())?(this.sites=[],this.customerAccountService.customerAccounts.forEach(t=>{this.companyService.selectedCompanyId===t.companyId&&this.sites.push({id:t.id,companyId:t.companyId,formattedAddress:t.address.formattedAddress})})):this.customerAccountService.customerAccounts.forEach(t=>{this.sites.push({id:t.id,companyId:t.companyId,formattedAddress:t.address.formattedAddress})})}openOverlayMultiSedeEstimate(){this.selectedSideId=this.customerAccountService.customerAccounts[0].id,this.overlayData=new x.R,this.overlayData.isScrollableTray=!0,this.overlayData.title=this.labelMultiSiteTitle,this.overlayData.subTitle=this.labelMultiSiteDesc,this.showMultiSedeOverlay=!0,this.getEstimate(this.selectedSideId),this.customerAccountService.GetCustomerAccounts(this.companyService.selectedCompanyId).subscribe(()=>{this.getSitesMultiSede()}),this.customerBillService.GetCustomerBillTemporal(this.selectedSideId).subscribe(t=>{this.getBillingCycle(t)});const t=Object.assign({},p.a.BillingVf10.Landing.view),e=Object.assign(t,p.a.BillingVf10.Landing.multiSedeEstimado.data);this.taggingHelper.track(p.a.BillingVf10.Landing.multiSedeEstimado.eventName,e)}clickChangeMultiSede(t){if(this.selectedSideId!==t.id){this.customerBillService.GetCustomerBillTemporal(t.id).subscribe(t=>{this.getBillingCycle(t)}),this.selectedSideId=t.id,this.getEstimate(t.id);const e=Object.assign({},p.a.BillingVf10.Landing.view),i=Object.assign(e,p.a.BillingVf10.Landing.sedeEstimado.data);this.taggingHelper.track(p.a.BillingVf10.Landing.sedeEstimado.eventName,i)}}closeMultisedeOverlay(){this.showMultiSedeOverlay=!1,setTimeout(()=>this.reloadMultisiteOverlay=!1,500)}getBillLanding(){this.billingService.GetBills().subscribe(t=>{this.setBills(),0===(null==t?void 0:t.length)&&this.initNoBillsLogic()},t=>{var e,i;if((null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.ecode)===o.NoBILLS.noBillsOnboardingError||(null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.ecode)===o.NoBILLS.billsError)this.initNoBillsLogic(),this.sendViewInit();else{this.errorGeneric(),this.errorBill=!0;const t=Object.assign({},p.a.BillingVf10.Landing.view);t.error_category=p.a.BillingVf10.labels.server_error,t.error_descripcion=p.a.BillingVf10.labels.server_error_desc,this.taggingHelper.view(null,t)}this.lastBillsLoad=!0})}setBills(){this.bills=Object.assign([],this.billingService.bills),this.bills&&this.bills.length>=1&&(this.checkMultiBillsAllMonth(),this.transformBillsHistogram(),this.checkMultiBillsLastMonth(),this.checkMaxAmountBill(),this.loadDataVisualModel(),$("#billingvf10-histogram-id").show(),this.lastBillsExist=!0),this.sendViewInit(),this.lastBillsLoad=!0,this.isFirstTimeTutorialFirstBill()}initNoBillsLogic(){this.bills=[],this.customerBillService.GetCustomerBill().subscribe(()=>{this.getBillingCycle(this.customerBillService.userBill),this.isFirstTimeNoBillsTutorial()})}checkMultiBillsAllMonth(){const t=this.bills.reduce((t,e)=>(t.includes(e.billingAccount.id)||t.push(e.billingAccount.id),t),[]),e=this.bills.map(t=>t.billingCycle.billingMonth).filter((t,e,i)=>i.indexOf(t)!==e);this.multiBillsAllMonth=t.length>1||e.length>0}checkMultiBillsLastMonth(){this.billsLastMonth=this.billsHistrogramWithoutFill[1]?this.billsHistrogramWithoutFill[1]:this.billsHistrogramWithoutFill[0],this.multiBillsLastMonth=this.billsLastMonth.arrayBill.length>=2,this.checkMultiCycleBill()}checkMultiCycleBill(){let t=0,e=!0;for(;t<this.billsLastMonth.arrayBill.length&&e;)new Date(this.billsLastMonth.arrayBill[t].billingCycle.startDate).getDate()!==new Date(this.billsLastMonth.arrayBill[0].billingCycle.startDate).getDate()&&(this.multiCycleBillLastBill=!0,e=!1),t++;this.multiCycleBillLastBill||this.customerBillService.GetCustomerBill().subscribe(()=>{this.getBillingCycle(this.customerBillService.userBill)})}transformBillsHistogram(){this.multiBillsAllMonth?this.bills.slice().reverse().forEach(t=>{if(t.billingCycle){const e=this.billsHistrogramWithoutFill.pop();e&&e.billingMonth===+t.billingCycle.billingMonth&&e.billingYear===+t.billingCycle.billingYear?(e.amount?(e.amount+=t.billOverview.amounts&&t.billOverview.amounts.grossAmountDue?t.billOverview.amounts.grossAmountDue:0,e.amount=+e.amount.toFixed(2)):e.amount=t.billOverview.amounts&&(t.billOverview.amounts.grossAmountDue||0===t.billOverview.amounts.grossAmountDue)?t.billOverview.amounts.grossAmountDue:void 0,e.arrayBill.push(t),this.billsHistrogramWithoutFill.push(e)):(e&&this.billsHistrogramWithoutFill.push(e),this.addBillHistogram(t))}}):this.bills.slice().reverse().forEach(t=>{t.billingCycle&&this.addBillHistogram(t)});const t=Object.assign([],this.billsHistrogramWithoutFill);t&&(this.billsHistrogram=this.iterateBillInsert(t))}addBillHistogram(t){const e=new w;e.amount=t.billOverview.amounts&&(t.billOverview.amounts.grossAmountDue||0===t.billOverview.amounts.grossAmountDue)?t.billOverview.amounts.grossAmountDue:void 0,e.billingMonth=+t.billingCycle.billingMonth,e.billingYear=+t.billingCycle.billingYear,e.arrayBill.push(t),this.billsHistrogramWithoutFill.push(e)}loadDataVisualModel(){this.billsHistrogramModel.arrayHistogram=this.billsHistrogram.map((t,e,i)=>({minValue:0,maxValue:this.amountMaxBill,value:t.amount?t.amount:0,fixedHeight:{height:"80px"},hText:this.utilitiesService.getMonthName(t.billingMonth.toString(),!0),vText:i[e+1]&&t.billingYear!==i[e+1].billingYear?t.billingYear:"",subText:t.amount||0===t.amount?Math.abs(t.amount).toString().replace(".",",")+"\u20ac"+(t.amount<0?"-":""):"\u2013",returnValue:t.billingMonth}))}iterateBillInsert(t){const e=Object.assign([],t);let i;return t.forEach((n,a)=>{const l=t[a+1];!i&&l&&(n.billingYear===l.billingYear&&n.billingMonth-1!==l.billingMonth||n.billingYear!==l.billingYear&&(1===n.billingMonth?12:n.billingMonth-1)!==l.billingMonth)&&(e.splice(a+1,0,{amount:void 0,billingMonth:1===n.billingMonth?12:n.billingMonth-1,billingYear:1===n.billingMonth?n.billingYear-1:n.billingYear,arrayBill:[]}),i=this.iterateBillInsert(e))}),i||e}clickBillSelector(t){t.status.toLowerCase()===this.billStatusEnum.ready&&this.goToBillDetails(t)}clickBill(t,e){const i=this.billsHistrogram.find(e=>e.billingMonth===t);if(e||i.arrayBill&&(i.arrayBill.length>1||1===i.arrayBill.length&&i.arrayBill[0].status.toLowerCase()===this.billStatusEnum.ready)){this.overlayFullScreenData=new x.P,this.overlayFullScreenData.closeBtn=!0;const t=Object.assign({},p.a.BillingVf10.Landing.view),n=Object.assign(t,e?p.a.BillingVf10.Landing.histogram.data:p.a.BillingVf10.Landing.cards.data);if(this.taggingHelper.track(e?p.a.BillingVf10.Landing.histogram.eventName:p.a.BillingVf10.Landing.cards.eventName,n),!i.arrayBill||i.arrayBill.length<=0)this.overlayFullScreenData.titleOverlay=this.titleBillError,this.overlayFullScreenData.textOverlay=this.subtitleBillError,this.overlayFullScreenData.primaryBtnText=this.buttonBillError,this.overlayFullScreenData.stylesPrimaryBtn="vfes-button--primary",this.lottieConfig={path:this.appTheme.getImgFullPath(this.iconBillError),autoplay:!0,loop:!0},this.showOverlayFullScreen=!0;else if(i.arrayBill.length>1)this.openSelectorMultiBills(i),this.showSelectorBill=!0;else switch(this.billSelectOverlay=i.arrayBill[0],i.arrayBill[0].status.toLowerCase()){case this.billStatusEnum.ready:this.goToBillDetails(i.arrayBill[0]);break;case this.billStatusEnum.open:case this.billStatusEnum.inProgress:this.overlayFullScreenData.textOverlay=this.obtainReamingDays(i.arrayBill[0]),this.overlayFullScreenData.primaryBtnText=this.buttonTextBillProgress,this.overlayFullScreenData.stylesPrimaryBtn="vfes-button--primary",this.lottieConfig={path:this.appTheme.getImgFullPath(this.iconTextBillProgress),autoplay:!0,loop:!0},this.showOverlayFullScreen=!0;break;case this.billStatusEnum.error:case this.billStatusEnum.generalError:this.overlayFullScreenData.titleOverlay=this.titleBillError,this.overlayFullScreenData.textOverlay=this.subtitleBillError,this.overlayFullScreenData.primaryBtnText=this.buttonBillError,this.overlayFullScreenData.stylesPrimaryBtn="vfes-button--primary",this.lottieConfig={path:this.appTheme.getImgFullPath(this.iconBillError),autoplay:!0,loop:!0},this.showOverlayFullScreen=!0;break;case this.billStatusEnum.pdf:this.overlayFullScreenData.textOverlay=this.subtitlePdfOverlay,this.overlayFullScreenData.primaryBtnText=this.buttonPdfOverlay,this.overlayFullScreenData.stylesPrimaryBtn="vfes-button--tertiary",this.lottieConfig={path:this.appTheme.getImgFullPath(this.iconPdfOverlay),autoplay:!0,loop:!0},this.showOverlayFullScreen=!0}}}goToBillDetails(t){let e,i;this.translate.get("billing.billOverview.fieldsList").subscribe(t=>{e=t.from.body,i=t.to.body}),this.billingService.positionBillId=t.id,this.billingService.selectedBill=t,this.billingService.selectedBillInfo={amount:this.utilitiesService.converamountToPositive(t.billOverview&&t.billOverview.amounts?t.billOverview.amounts.grossAmountDue:0),status:t.status.toLowerCase(),date:`${e} ${this.utilitiesService.getDateWithMonth(t.billingCycle.startDate,!0)} ${i}\n       ${i} ${i} ${this.utilitiesService.getDateWithMonth(t.billingCycle.endDate,!0)}`},this.router.navigate([s.a.BillingVf10.BillDetails.route])}openOutOfBundleOverlay(t){this.estimatedOverlayServiceId=t.id,this.estimatedOutOfBundleOverlayDetailToExpand=U.b.OneOobTypeOnly,this.estimatedOutOfBundleOverlayBadgeToSelect=o.typeTabsComsuption.fuera,this.multipleSites?(this.showEstimatedOutOfBundleOverlay=!1,this.reloadMultisiteOverlay=!0):(this.showEstimatedOutOfBundleOverlay=!0,this.reloadMultisiteOverlay=!1);const e=Object.assign({},p.a.BillingVf10.Landing.view),i=Object.assign(e,p.a.BillingVf10.Landing.clickOOBLink.data);this.taggingHelper.track(p.a.BillingVf10.Landing.clickOOBLink.eventName,i)}closeEstimatedOutOfBundleOverlay(){this.showEstimatedOutOfBundleOverlay=!1}checkDiscountsToRenew(){if(this.estimateLoad&&!this.renewDiscountsData[this.selectedSideId]){this.renewDiscountsData[this.selectedSideId]={},this.estimatedFinishingDiscounts=this.getFinishingDiscounts();const t=this.estimatedFinishingDiscounts.length,e=this.translate.instant("v10");if(t>0&&this.subscriptionData.customerData.customerAccountsId===this.selectedSideId){let i=!1;this.entryPointService.getEntryPoints(o.entryPointsMVA10.newBilling,this.selectedSideId,e.dashboard.config.maxNumberEP,!1,this.subscriptionData.customerData.currentService.id,e.commercial.versionPortalEP).subscribe(t=>{var n;(null===(n=null==t?void 0:t.entryPoints)||void 0===n?void 0:n.length)>0&&t.entryPoints.find(t=>e.flows.nav.DSR.subflows2.includes(t.code))&&(i=!0,this.entryPoint=t.entryPoints[0],this.tagEntryPoint())},t=>{i=!1},()=>{const n=t>1?e.billing.landing.discounts.finish_number_discounts.replace("{0}",""+t):e.billing.landing.discounts.finish_one_discount;let a=`${e.billing.landing.discounts.soon} <b>${t>1?n:e.billing.landing.discounts.finish_this_discount}</b> ${t>1?"":this.estimatedFinishingDiscounts[0].desc}`;a=i?e.flows.customization[this.entryPoint.code].NEWBILL[this.entryPoint.group].title:a,this.renewDiscountsData[this.selectedSideId]={whatWillHappenData:{billChanges:`${e.billing.landing.discounts.soon} <b>${n}</b>`,discountList:[...this.estimatedFinishingDiscounts],canRenewDiscounts:i},tileData:{description:`<span class="mva10-u-ellipsis--multiline-3">${a}</span>`,action:i?e.flows.customization[this.entryPoint.code].NEWBILL[this.entryPoint.group].button:e.billing.landing.discounts.button_detail},mustShowTile:!0},this.renewDiscountsTileElem.nativeElement.scrollIntoView({behavior:"smooth",block:"center"})})}else this.renewDiscountsData[this.selectedSideId].mustShowTile=!1}}getFinishingDiscounts(){const t=this.listCoutes.reduce((t,e)=>(e.amounts&&e.amounts.length>0&&t.push(...e.amounts),t),[]),e=E()().add(30,"days").toDate();return t.filter(t=>t.endDate&&this.utilitiesService.getDateFromString(t.endDate)<e)}goToRenewDiscounts(){this.router.navigate([s.a.DiscountRenewal.MainScreen.route])}onRenewDiscountsTileClick(){const t=Object.assign({},p.a.BillingVf10.Landing.viewBillingPEGA),e=this.renewDiscountsData[this.selectedSideId].whatWillHappenData.canRenewDiscounts?p.a.BillingVf10.Landing.clickWhatWillHappenCard.clickRenewDiscounts:p.a.BillingVf10.Landing.clickWhatWillHappenCard.clickViewDetails;let i=Object.assign(t,e.data);const n=this.entryPoint?p.a.BillingVf10.WhatWillHappen.pageScreenValues.withRenewal:p.a.BillingVf10.WhatWillHappen.pageScreenValues.withoutRenewal;if(i.page_name=i.page_name.replace("{0}",n),i.page_screen=i.page_screen.replace("{0}",n),this.entryPoint)i=Object.assign(i,p.a.BillingVf10.Landing.clickWhatWillHappenCard.clickRenewDiscountsPEGA),i.entrypoint_type=this.entryPoint.offerVFDescriptor?o.entrypointType.pega:o.entrypointType.reco,i.entrypoint_name=this.entryPoint.name,i.entrypoint_issue=this.entryPoint.issue,i.entrypoint_label=this.entryPoint.label,i.entrypoint_groupnba=this.entryPoint.groupNBA,this.entryPointService.entryCode=this.entryPoint.code,this.goToRenewDiscounts();else{let t=0;this.multipleSites&&(this.closeMultisedeOverlay(),t=500),setTimeout(()=>this.showWhatWillHappenOverlay=!0,t)}this.taggingHelper.track(e.eventName,i)}closeWhatWillHappenOverlay(){this.showWhatWillHappenOverlay=!1}sendViewInit(){p.a.BillingVf10.Landing.view.client_billing_id=this.multipleSites?R.a.Multisite:R.a.Monosite,this.bills&&0===this.bills.length?p.a.BillingVf10.Landing.view.client_billing_type=null:this.billsHistrogram[this.billsHistrogram.length-1]&&(this.billsHistrogram[this.billsHistrogram.length-1].arrayBill.length>1||this.billsHistrogram[this.billsHistrogram.length-2]&&this.billsHistrogram[this.billsHistrogram.length-2].arrayBill&&this.billsHistrogram[this.billsHistrogram.length-2].arrayBill.length>1)?(p.a.BillingVf10.Landing.view.client_billing_type=R.a.Multibill,this.storage.setStorage("client_billing_type",R.a.Multibill)):(p.a.BillingVf10.Landing.view.client_billing_type=R.a.Monobill,this.storage.setStorage("client_billing_type",R.a.Monobill)),this.taggingHelper.view(null,p.a.BillingVf10.Landing.view)}getTranslateText(){this.translate.get("v10.billing").subscribe(t=>{this.appTheme.appHeaderTitle=t.landing.pageTitle,this.titleErrorRequest=t.overlay.requestError.title,this.subtitleErrorRequest=t.overlay.requestError.subtitle,this.buttonErrorRequest=t.overlay.requestError.button,this.iconErrorRequest=t.overlay.requestError.icon,this.titleBillError=t.overlay.billError.title,this.subtitleBillError=t.overlay.billError.subtitle,this.iconBillError=t.overlay.billError.icon,this.buttonBillError=t.overlay.billError.button,this.singularTextBillProgress=t.overlay.billInProgress.subtitle.singular,this.pluralTextBillProgress=t.overlay.billInProgress.subtitle.plural,this.iconTextBillProgress=t.overlay.billInProgress.icon,this.buttonTextBillProgress=t.overlay.billInProgress.button,this.subtitlePdfOverlay=t.overlay.pdf.subtitle,this.buttonPdfOverlay=t.overlay.pdf.button,this.iconPdfOverlay=t.overlay.pdf.icon,this.numberOfBillsCards=t.common.cards.numberOfBills,this.titleSelectorCard=t.selector.title,this.subtitleSelectorCardPlural=t.selector.subtitle.plural,this.subtitleSelectorCardSingular=t.selector.subtitle.singular,this.aliasSelectorCard=t.selector.alias,this.textInProgressPlural=t.common.cards.inProgress.text.plural,this.textInProgressSingular=t.common.cards.inProgress.text.singular,this.labelButtonMoreLastBills=t.landing.viewMoreButton,this.labelButtonCollapse=t.landing.estimated_button_collapsed,this.labelButtonExpanded=t.landing.estimated_button_expanded,this.labelEstimatedSubTitle=t.landing.estimated_sub_title,this.labelMultiSiteTitle=t.landing.estimated_multiSite_title,this.labelMultiSiteDesc=t.landing.estimated_multiSite_desc,this.labelMultiSiteImage=t.landing.estimated_multiSite_image,this.labelEstimatedTitleSingular=t.landing.estimatedTitle,this.labelEstimatedTitlePlural=t.landing.estimatedTitlePlural,this.buttonDebt=t.landing.debt.button,this.buttonAdvancePayment=t.landing.advance_payment.button,this.labelCardExpandableValue=this.labelButtonCollapse}),this.welcomeTutorialsWCSTexts=this.translate.instant("v10.common.welcome_tutorial")}getTextNumberOfBills(t){return this.numberOfBillsCards.replace("{0}",t)}transformDataSingleBill(t){const e=new x.o;return e.id=t.billingMonth,e.headerLeft=t.billingYear,e.headerRight=this.utilitiesService.getDateWithMonthWithoutYear(t.arrayBill[0].billingCycle.startDate,!0)+"-"+this.utilitiesService.getDateWithMonthWithoutYear(t.arrayBill[0].billingCycle.endDate,!0),e.headerSecondLeft=this.utilitiesService.getMonthName(t.billingMonth.toString()),e.headerSecondRight=t.amount||0===t.amount?t.amount.toString().replace(".",",")+"\u20ac":"- -",e}transformDataMultiBill(t){const e=new x.h;return e.id=t.billingMonth,e.headerLeft=t.billingYear,e.headerRight=this.numberOfBillsCards.replace("{0}",t.arrayBill.length),e.headerSecondLeft=this.utilitiesService.getMonthName(t.billingMonth.toString()),e.headerSecondRight=t.amount||0===t.amount?t.amount.toString().replace(".",",")+"\u20ac":"- -",e}transformDataSelectorBill(t){const e=new x.l;return e.id=t.billingCycle.billingMonth,e.titleUp=this.aliasSelectorCard.replace("{0}",this.billingVf10Service.getAliasBill(t)),e.titleDown=this.utilitiesService.getDateWithMonthWithoutYear(t.billingCycle.startDate,!0)+"-"+this.utilitiesService.getDateWithMonthWithoutYear(t.billingCycle.endDate,!0),e.titleRight=t.billOverview.amounts&&t.billOverview.amounts.grossAmountDue>=0?t.billOverview.amounts.grossAmountDue.toString().replace(".",",")+"\u20ac":"- -",e.secondTitle=t.billingAccount.billingAddress.formattedAddress?t.billingAccount.billingAddress.formattedAddress:"",e}openSelectorMultiBills(t){const e=t.arrayBill[0];this.overlayData=new x.R,this.overlayData.isScrollableTray=!0,this.overlayData.title=this.titleSelectorCard.replace("{0}",this.utilitiesService.getMonthName(e.billingCycle.billingMonth.toString())),this.overlayData.subTitle=t.arrayBill.length>1?this.subtitleSelectorCardPlural.replace("{0}",t.arrayBill.length).replace("{1}",this.utilitiesService.getMonthName(e.billingCycle.billingMonth.toString()).toLowerCase()):this.subtitleSelectorCardSingular.replace("{0}",t.arrayBill.length).replace("{1}",this.utilitiesService.getMonthName(e.billingCycle.billingMonth.toString()).toLowerCase()),this.billsSelector=t.arrayBill}clickPrimaryOverlayFullScreen(){if(this.errorBill)this.locationService.back();else{if(this.billSelectOverlay&&this.billSelectOverlay.status.toLowerCase()===this.billStatusEnum.pdf){this.billingVf10Service.downloadPDF(this.billSelectOverlay);const t=Object.assign({},p.a.BillingVf10.Landing.view),e=Object.assign(t,p.a.BillingVf10.Landing.pdf.data);this.taggingHelper.track(p.a.BillingVf10.Landing.pdf.eventName,e)}this.showOverlayFullScreen=!1}this.billSelectOverlay=null}clickCloseOverlayFullScreen(){this.errorBill?this.locationService.back():this.showOverlayFullScreen=!1,this.billSelectOverlay=null}handleAnimation(t){this.anim=t}checkMaxAmountBill(){this.amountMaxBill=Math.max.apply(Math,this.billsHistrogram.map(t=>t.amount?t.amount:0))}getArrayIcon(t){const e=[];return t.map(t=>{e.includes(t.type)||e.push(t.type)}),e}getIcon(t){let e;switch(t.trim().toLowerCase()){case _.a.Tv.toLowerCase().trim():e=C.a.icon_tv;break;case _.a.Mobile.toLowerCase().trim():e=C.a.icon_mobile;break;case _.a.MbbPostpaid.toLowerCase().trim():case _.a.MbbPrepaid.toLowerCase().trim():e=C.a.icon_mbb;break;case _.a.Prepaid.toLowerCase().trim():e=C.a.icon_mobile_prepaid;break;case _.a.Postpaid.toLowerCase().trim():e=C.a.icon_mobile_postpaid;break;case _.a.Internet.toLowerCase().trim():case _.a.Fibre.toLowerCase().trim():e=C.a.icon_internet;break;case _.a.Landline.toLowerCase().trim():e=C.a.icon_busines_phone;break;case _.a.ADSL.toLowerCase().trim():e=C.a.icon_adsl;break;case _.a.VodafoneEnTuCasa.toLowerCase().trim():e=C.a.icon_busines_phone;break;default:e=C.a.icon_mobile}return e}obtainReamingDays(t){const e=t.billingCycle.endDate,i=new Date;let n;switch(t.status.toLowerCase()){case this.billStatusEnum.inProgress:n=7-this.utilitiesService.getDayDiffBetween2DatesWithoutRound(e,i);break;case this.billStatusEnum.open:n=7+this.utilitiesService.getDayDiffBetween2DatesWithoutRound(e,i)}return n>1?this.textInProgressPlural.replace("{0}",n):this.textInProgressSingular.replace("{0}",n)}moreLastBills(){this.endLastBill=12}clickExpandCardEstimate(t){if(t?$("#estimateCardExpandId").slideUp(300):$("#estimateCardExpandId").slideDown(300),this.cardExpandableValue=t,this.labelCardExpandableValue=t?this.labelButtonCollapse:this.labelButtonExpanded,!t){const t=Object.assign({},p.a.BillingVf10.Landing.view),e=Object.assign(t,p.a.BillingVf10.Landing.detalleEstimado.data);this.taggingHelper.track(p.a.BillingVf10.Landing.detalleEstimado.eventName,e)}}isTv(t){return t.type.toLowerCase()===_.a.Tv.toLowerCase()}goToBillPayment(t){this.authenticationService.hasRole(y.a.Authorized.toLowerCase())?this.customerAccountService.GetPaymentCustomerAccounts(o.billQueryString.bill,this.companyService.selectedCompanyId,null).subscribe(e=>{this.checkMultiBillingAccounts(e,t)},t=>{this.errorGeneric()}):this.customerAccountService.GetPaymentCustomerAccounts(o.billQueryString.bill,null,null).subscribe(e=>{this.checkMultiBillingAccounts(e,t)},t=>{this.errorGeneric()})}errorGeneric(){this.overlayFullScreenData.titleOverlay=this.titleErrorRequest,this.overlayFullScreenData.textOverlay=this.subtitleErrorRequest,this.overlayFullScreenData.primaryBtnText=this.buttonErrorRequest,this.overlayFullScreenData.stylesPrimaryBtn="vfes-button--primary",this.overlayFullScreenData.closeBtn=!0,this.lottieConfig={path:this.appTheme.getImgFullPath(this.iconErrorRequest),autoplay:!0,loop:!0},this.showOverlayFullScreen=!0}checkMultiBillingAccounts(t,e){const i=Object.assign({},p.a.BillingVf10.Landing.view),n=Object.assign(i,e?p.a.BillingVf10.Landing.payDebtBill.data:p.a.BillingVf10.Landing.payNextBill.data);this.taggingHelper.track(e?p.a.BillingVf10.Landing.payDebtBill.eventName:p.a.BillingVf10.Landing.payNextBill.eventName,n),t.length>1?this.router.navigate([s.a.billing.billPayment.route]):1===t.length&&(this.billingService.selectedSiteId=t[0].id,this.router.navigate([s.a.billing.billPaymentDetails.route],{queryParams:{accountStatus:t[0].status}}))}titleCaseWord(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}isFirstTimeNoBillsTutorial(){this.storage.getLocalStorage("seenNoBillsTutorial")||this.openNoBillsTutorial()}openNoBillsTutorial(){this.customerAccountService.GetPaymentCustomerAccounts(o.billQueryString.bill,null,o.billingAccountQueryParamTypes.active).subscribe(t=>{var e,i,n,a,l,s,o,c,r;this.tutorialNoBillsSlides=[];const d=(null==t?void 0:t.length)>1,g=this.customerBillService.userBill.startDate.getDate(),p=d?W.multicycle:"cycle_"+g,b=null===(i=null===(e=this.welcomeTutorialsWCSTexts.welcome_tutorial_1.devices.find(t=>t.type===F.mobile))||void 0===e?void 0:e.conditions.find(t=>t.condition_id===p))||void 0===i?void 0:i.pages,h=null===(a=null===(n=this.welcomeTutorialsWCSTexts.welcome_tutorial_1.devices.find(t=>t.type===F.tablet))||void 0===n?void 0:n.conditions.find(t=>t.condition_id===p))||void 0===a?void 0:a.pages,u=null===(s=null===(l=this.welcomeTutorialsWCSTexts.welcome_tutorial_1.devices.find(t=>t.type===F.desktop))||void 0===l?void 0:l.conditions.find(t=>t.condition_id===p))||void 0===s?void 0:s.pages,m=Math.min(null==b?void 0:b.length,null==h?void 0:h.length,null==u?void 0:u.length)||0;for(let f=0;f<m;f++)this.tutorialNoBillsSlides.push({title:this.translate.instant("login.itemsList.tutorialPage.body").replace("{0}",f+1).replace("{1}",m),image:this.appTheme.getImgFullPath(null===(o=b[f])||void 0===o?void 0:o.image),image_tablet:this.appTheme.getImgFullPath(null===(c=h[f])||void 0===c?void 0:c.image),image_desktop:this.appTheme.getImgFullPath(null===(r=u[f])||void 0===r?void 0:r.image)});this.showTutorialNoBills=!0,this.onTutorialNoBillsSlideChange()},t=>{this.showTutorialNoBills=!1})}onTutorialNoBillsSlideChange(t=0){this.currentTutorialNoBillsSlide=t,this.sendTutorialTagging(t,p.a.BillingVf10.Landing.TutorialNoBills.view)}onTutorialNoBillsClose(){this.showTutorialNoBills=!1,this.storage.setLocalStorage("seenNoBillsTutorial",!0),this.sendTutorialTagging(this.currentTutorialNoBillsSlide,p.a.BillingVf10.Landing.TutorialNoBills.view,p.a.BillingVf10.Landing.TutorialNoBills.clickClose)}isFirstTimeTutorialFirstBill(){!this.storage.getLocalStorage("seenFirstBillsTutorial")&&this.isBillReady()&&this.openFirstBillsTutorial()}isBillReady(){let t=0;return this.billsHistrogramWithoutFill.forEach(e=>{e.arrayBill.find(t=>t.status.toLocaleLowerCase()===this.billStatusEnum.ready)&&t++}),1===t}openFirstBillsTutorial(){this.customerAccountService.GetPaymentCustomerAccounts(o.billQueryString.bill,null,o.billingAccountQueryParamTypes.active).subscribe(t=>{this.tutorialFirstBillSlides=[];const e=(null==t?void 0:t.length)>1,i=new Date(this.billsHistrogramWithoutFill[0].arrayBill[0].billingCycle.startDate).getDate();let n;const a=e?W.multicycle:"cycle_"+i;this.billingService.selectedSiteId=this.selectedSideId,this.billingService.getBillingAccountById(this.selectedSideId).subscribe(t=>{var e,i,l,s,c,r,d,g,p;t.paymentMethod.type===o.BillAccountType.directDebitPayment?(n=N.direct_debit,this.paymentType="domiciliacion bancaria"):(n=N.window_payment,this.paymentType="domiciliacion ventanilla");const b=`${a}_${n}`,h=null===(i=null===(e=this.welcomeTutorialsWCSTexts.welcome_tutorial_2.devices.find(t=>t.type===F.mobile))||void 0===e?void 0:e.conditions.find(t=>t.condition_id===b))||void 0===i?void 0:i.pages,u=null===(s=null===(l=this.welcomeTutorialsWCSTexts.welcome_tutorial_2.devices.find(t=>t.type===F.tablet))||void 0===l?void 0:l.conditions.find(t=>t.condition_id===b))||void 0===s?void 0:s.pages,m=null===(r=null===(c=this.welcomeTutorialsWCSTexts.welcome_tutorial_2.devices.find(t=>t.type===F.desktop))||void 0===c?void 0:c.conditions.find(t=>t.condition_id===b))||void 0===r?void 0:r.pages,f=Math.min(null==h?void 0:h.length,null==u?void 0:u.length,null==m?void 0:m.length)||0;for(let n=0;n<f;n++)this.tutorialFirstBillSlides.push({title:this.translate.instant("login.itemsList.tutorialPage.body").replace("{0}",n+1).replace("{1}",f),image:this.appTheme.getImgFullPath(null===(d=h[n])||void 0===d?void 0:d.image),image_tablet:this.appTheme.getImgFullPath(null===(g=u[n])||void 0===g?void 0:g.image),image_desktop:this.appTheme.getImgFullPath(null===(p=m[n])||void 0===p?void 0:p.image)});this.showTutorialFirstBill=!0,this.onTutorialFirstBillSlideChange()})})}onTutorialFirstBillSlideChange(t=0){this.currentTutorialFirstBillSlide=t,this.sendTutorialTagging(t,p.a.BillingVf10.Landing.TutorialFirstBill.view,void 0,!0)}onTutorialFirstBillClose(){this.showTutorialFirstBill=!1,this.storage.setLocalStorage("seenFirstBillsTutorial",!0),this.sendTutorialTagging(this.currentTutorialFirstBillSlide,p.a.BillingVf10.Landing.TutorialFirstBill.view,p.a.BillingVf10.Landing.TutorialFirstBill.clickClose,!0)}sendTutorialTagging(t,e,i,n){if(e){const a=Object.assign({},e);if(a.client_billing_id=p.a.BillingVf10.Landing.view.client_billing_id,a.client_billing_type=p.a.BillingVf10.Landing.view.client_billing_type,a.page_name=a.page_name.replace(/\{0\}/g,String(t+1)),a.page_subcategory_level_3=a.page_subcategory_level_3.replace(/\{0\}/g,String(t+1)),a.page_screen=a.page_screen.replace(/\{0\}/g,String(t+1)),n&&(a.page_name=a.page_name.replace(/\{s\}/g,this.paymentType),a.page_subcategory_level_3=a.page_subcategory_level_3.replace(/\{s\}/g,this.paymentType),a.page_screen=a.page_screen.replace(/\{s\}/g,this.paymentType)),i){const e=Object.assign({},i);e.eventName=e.eventName.replace(/\{0\}/g,String(t+1)),e.data.event_name=e.data.event_name.replace(/\{0\}/g,String(t+1)),n&&(e.eventName=e.eventName.replace(/\{s\}/g,this.paymentType),e.data.event_name=e.data.event_name.replace(/\{s\}/g,this.paymentType));const l=Object.assign(a,e.data);this.taggingHelper.track(e.eventName,l)}else this.taggingHelper.view(null,a)}}tagEntryPoint(){const t=this.translate.instant("v10"),e=Object.assign({},p.a.BillingVf10.Landing.billingWS10Discover.data),i=Object.assign(e,p.a.BillingVf10.Landing.billingWS10Discover.print);i.page_name=i.page_section+":"+i.page_subcategory_level_1+":"+i.page_subcategory_level_2+":"+i.page_subcategory_level_3+":"+i.page_screen;const n=t.flows.customization[this.entryPoint.code].NEWBILL[this.entryPoint.group].title;i.entrypoint_list=i.entrypoint_list.replace("{journey}",t.flows.customization[this.entryPoint.code].analyticsName).replace("{title}",this.taggingHelper.replaceSpecialCharText(n)||o.entryPointsMVA10.default).replace("{type}",this.entryPoint.offerVFDescriptor?o.entrypointType.pega:o.entrypointType.reco),this.entryPoint.offerVFDescriptor&&(i.entrypoint_pega=i.entrypoint_pega.replace("{name}",this.entryPoint.name).replace("{label}",this.entryPoint.label).replace("{issue}",this.entryPoint.issue).replace("{groupnba}",this.entryPoint.groupNBA).replace("{journey_name}",t.flows.customization[this.entryPoint.code].analyticsName)),this.taggingHelper.view(i.page_name+":"+i.event_name,i)}navigateCommunications(t){if("BillingVf10LandingBillingVf10CommunicationsBannerPrincipal"===t.target.parentElement.parentElement.id){const t=Object.assign({},p.a.BillingVf10.Landing.view);t.event_name=p.a.BillingVf10.Landing.clickCommunicationsPrinc.event_name,this.taggingHelper.trackReplace(`${t.page_name}:${t.event_name}`,t,!0)}else{const t=Object.assign({},p.a.BillingVf10.Landing.view);t.event_name=p.a.BillingVf10.Landing.clickCommunicationsEstimated.event_name,this.taggingHelper.trackReplace(`${t.page_name}:${t.event_name}`,t,!0)}this.router.navigate([s.a.communications.route])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(l.f),r.Ob(c.a),r.Ob(b.a),r.Ob(Q.e),r.Ob(u.a),r.Ob(m.a),r.Ob(f.a),r.Ob(v.a),r.Ob(h.a),r.Ob(O.a),r.Ob(P.a),r.Ob(M.a),r.Ob(S.a),r.Ob(D.a),r.Ob(k.a),r.Ob(B.a),r.Ob(A.a),r.Ob(H.a),r.Ob(c.a),r.Ob(j.a),r.Ob(Y.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["sp-landing-billing-vf10"]],viewQuery:function(t,e){var i;1&t&&(r.ad(st,!0),r.ad(ot,!0)),2&t&&(r.Bc(i=r.dc())&&(e.renewDiscountsTileElem=i.first),r.Bc(i=r.dc())&&(e.factories=i))},decls:46,vars:37,consts:[[1,"billingvf10","mva10-row"],["id","billingvf10-histogram-id",1,"billingvf10-histogram"],[1,"billingvf10-histogram__component","mva10-responsive",3,"ngClass"],[3,"yuAppearance","histogramDisplayData","clickEvent",4,"ngIf"],[1,"mva10-responsive"],["class","billingvf10-debt",4,"ngIf"],["class","mva10-u--mt4x","id","BillingVf10LandingBillingVf10CommunicationsBannerPrincipal",4,"ngIf"],["class","billingvf10-estimate",4,"ngIf"],[1,"billingvf10-last-bills"],[4,"ngIf"],[3,"overlayData","show","loaded","greyMode","closed"],["body",""],["class","billingvf10--margin-bottom-16",4,"ngFor","ngForOf"],["header",""],[4,"ngIf","ngIfElse"],[3,"overlayFullScreenData","show","primaryBtnClicked","closeBtnClicked"],[3,"slides","show","close","slideChange"],["singleBillCardVf10",""],["listCoutesAndObbEstimate",""],["billSkeletonTitle",""],["billSkeleton",""],["estimatedOutOfBundleOverlay",""],[3,"ngTemplateOutlet"],["body","",4,"ngIf"],["outOfBundleOverlayHeader",""],["outOfBundleOverlayBody",""],["renewDiscountsTile",""],[3,"show","whatWillHappenData","closed","renewDiscountsClick"],["communicationsBanner",""],[3,"yuAppearance","histogramDisplayData","clickEvent"],[1,"billingvf10-debt"],[3,"ngClass","responsiveSize"],[1,"billingvf10-debt__content"],[1,"billingvf10-debt__title",3,"innerHtml"],[1,"billingvf10-debt__button"],[3,"body","styleClass","name","title","click"],["id","BillingVf10LandingBillingVf10CommunicationsBannerPrincipal",1,"mva10-u--mt4x"],[1,"billingvf10-estimate"],["estimatedSection",""],[1,"mva10-u--mb4x"],[1,"billingvf10__title","mva10-u--h3","billingvf10--width100"],[1,"cursor-pointer",3,"click"],[3,"responsiveSize"],[1,"billingvf10-estimate__multi-site-content"],[1,"billingvf10-estimate__multi-site-content--image",3,"src"],[1,"icon","icon__chevron-right"],[0,"xlink","href","#icon-chevron-right"],[1,"billingvf10-estimate__note_estimate"],["class","billingvf10__subtitle",4,"ngIf"],[3,"styleClass","responsiveSize"],["class","billingvf10-estimate__title-cycle",4,"ngIf"],["class","billingvf10-estimate__month mva10-u--h3 billingvf10--width100",4,"ngIf"],[1,"billingvf10-estimate__coute","billingvf10--width100"],["id","estimateCardExpandId",1,"billingvf10--hidden"],[1,"vfac-card-expandable__label","cursor-pointer",3,"click"],[1,"billingvf10__subtitle"],[1,"billingvf10-estimate__title-cycle"],[1,"billingvf10-estimate__month","mva10-u--h3","billingvf10--width100"],[1,"billingvf10__title","mva10-u--h3"],["class","billingvf10-last-bills__button",3,"ngStyle",4,"ngIf"],["billsEmptySection",""],["class","billingvf10-last-bills__item","tabindex","1","style","outline: none;",3,"ngStyle",4,"ngFor","ngForOf"],["tabindex","1",1,"billingvf10-last-bills__item",2,"outline","none",3,"ngStyle"],["idCardsLastBills",""],[3,"opacityText","singleBillDisplayData","loaded","clickEvent",4,"ngIf"],[3,"opacityText","singleBillDisplayData","loaded","clickEvent"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"multiBillDisplayData","loaded","clickEvent"],[1,"billingvf10-last-bills__button",3,"ngStyle"],["idButtonMoreLastBills",""],[1,"billing-vf10-empty"],["alt","card",3,"src"],[1,"billingvf10--margin-bottom-16"],[3,"opacityText","selectorBillDisplayData","loaded"],["action",""],[4,"ngFor","ngForOf"],[3,"label","value","selectDefault","id","name","click"],["class","billingvf10-estimate__error",4,"ngIf"],["class","mva10-u--mb4x",4,"ngIf"],[1,"billingvf10-estimate__error"],[3,"options","width","height","animationCreated"],[1,"billingvf10--margin-top-20"],[1,"billingvf10-single-card",3,"ngSwitch"],["class","billingvf10-single-card__ready",4,"ngSwitchCase"],["class","billingvf10-single-card__others",4,"ngSwitchCase"],[1,"billingvf10-single-card__ready"],["class","icon icon__service",3,"ngClass",4,"ngFor","ngForOf"],[1,"icon","icon__service",3,"ngClass"],[1,"billingvf10-single-card__others"],[1,"icon"],[0,"xlink","href","#icon-clock-or-timeout-mid"],[1,"billingvf10--opacity"],[0,"xlink","href","#icon-warning-mid"],[0,"xlink","href","#icon-tutorials-mid"],[1,"buttonPdf","cursor-pointer",3,"click"],[1,"billingvf10-estimate__pay-content"],[3,"body","name","title","click"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"billingvf10-estimate__title-item","billingvf10--width100"],[1,"billingvf10-estimate__item"],[1,"mva10-u--2/3","vfes-align--left","billingvf10-estimate__amount"],[1,"mva10-u--1/3","vfes-align--right","billingvf10-estimate__amount"],["class","mva10-u--footnote billingvf10-estimate__endDate",4,"ngIf"],[1,"mva10-u--footnote","billingvf10-estimate__endDate"],["class","billingvf10-estimate__item",3,"click",4,"ngFor","ngForOf"],[1,"billingvf10-estimate__item",3,"click"],[1,"mva10-u--2/3","vfes-align--left","billingvf10-estimate__amount","billingvf10-estimate__amount--line"],[1,"skeleton-billing"],[1,"skeleton-billing__title","skeleton-wrapper-section"],[1,"skeleton"],[1,"vfes-box-shadow","skeleton-wrapper-section","skeleton-billing__card"],[1,"month"],[3,"serviceId","siteId","detailToExpand","badgeToSelect"],[1,"billingvf10-estimate__renew-container"],["renewDiscountsTileContainer",""],["class","billingvf10-estimate__renew-discount",4,"ngIf"],[1,"billingvf10-estimate__renew-discount"],["role","button","tabindex","0",3,"bigTileData","styleClass","loaded","clickEvent"],[1,"billingvf10-estimate__tariff-update"],["id","BillingVf10LandingBillingVf10CommunicationsBannerText",1,"billingvf10-estimate__tariff-update__title"],["id","BillingVf10LandingBillingVf10CommunicationsBannerButton",1,"billingvf10-estimate__tariff-update__button",3,"click"],["iconId","icon-chevron-right","size","16","title","Chevron right",1,"mva10-u--ml1x",3,"ngClass"],["alt","Communications","id","BillingVf10LandingBillingVf10CommunicationsBannerImg",1,"billingvf10-estimate__tariff-update__image",3,"src"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Pb(2,"hr"),r.Ub(3,"div",2),r.Rc(4,ct,1,2,"vfac-histogram",3),r.Tb(),r.Tb(),r.Ub(5,"div",4),r.Rc(6,dt,6,10,"div",5),r.Rc(7,gt,2,1,"mva10-c-card",6),r.Rc(8,vt,5,3,"div",7),r.Ub(9,"div",8),r.Rc(10,Mt,9,6,"div",9),r.Rc(11,St,2,1,"div",9),r.Tb(),r.Tb(),r.Tb(),r.Ub(12,"vfac-overlay",10),r.cc("closed",(function(){return e.showSelectorBill=!1})),r.Ub(13,"div",11),r.Rc(14,Dt,4,7,"div",12),r.Tb(),r.Tb(),r.Ub(15,"vfac-overlay",10),r.cc("closed",(function(){return e.closeMultisedeOverlay()})),r.Ub(16,"div",13),r.Rc(17,Bt,5,2,"ng-container",14),r.Tb(),r.Ub(18,"div",11),r.Rc(19,Et,4,3,"ng-container",14),r.Tb(),r.Tb(),r.Ub(20,"vfac-overlay-full-screen",15),r.cc("primaryBtnClicked",(function(){return e.clickPrimaryOverlayFullScreen()}))("closeBtnClicked",(function(){return e.clickCloseOverlayFullScreen()})),r.Rc(21,Rt,2,3,"div",9),r.Tb(),r.Ub(22,"vfac-overlay-carousel",16),r.cc("close",(function(){return e.onTutorialNoBillsClose()}))("slideChange",(function(t){return e.onTutorialNoBillsSlideChange(t)})),r.Tb(),r.Ub(23,"vfac-overlay-carousel",16),r.cc("close",(function(){return e.onTutorialFirstBillClose()}))("slideChange",(function(t){return e.onTutorialFirstBillSlideChange(t)})),r.Tb(),r.Rc(24,zt,5,5,"ng-template",null,17,r.Sc),r.Rc(26,te,12,10,"ng-template",null,18,r.Sc),r.Rc(28,ee,7,0,"ng-template",null,19,r.Sc),r.Rc(30,ie,5,0,"ng-template",null,20,r.Sc),r.Ub(32,"vfac-overlay",10,21),r.cc("closed",(function(){return e.closeEstimatedOutOfBundleOverlay()})),r.Ub(34,"div",13),r.Qb(35,22),r.Tb(),r.Rc(36,ne,2,1,"div",23),r.Tb(),r.Rc(37,ae,4,2,"ng-template",null,24,r.Sc),r.Rc(39,le,1,4,"ng-template",null,25,r.Sc),r.Rc(41,oe,3,1,"ng-template",null,26,r.Sc),r.Ub(43,"sp-what-will-happen",27),r.cc("closed",(function(){return e.closeWhatWillHappenOverlay()}))("renewDiscountsClick",(function(){return e.goToRenewDiscounts()})),r.Tb(),r.Rc(44,re,10,11,"ng-template",null,28,r.Sc)),2&t){const t=r.Cc(38),i=r.Cc(40);r.Ab(3),r.nc("ngClass",r.tc(35,de,!e.utilitiesService.detectDevice())),r.Ab(1),r.nc("ngIf",e.billsHistrogramModel.arrayHistogram),r.Ab(2),r.nc("ngIf",e.debtAmount>0),r.Ab(1),r.nc("ngIf",e.showBillingTariffUpdatePrinc),r.Ab(1),r.nc("ngIf",e.showBillingEta&&(e.estimateValid||e.multipleSites)),r.Ab(2),r.nc("ngIf",e.lastBillsLoad),r.Ab(1),r.nc("ngIf",!e.lastBillsLoad),r.Ab(1),r.nc("overlayData",e.overlayData)("show",e.showSelectorBill)("loaded",!0)("greyMode",!0),r.Ab(2),r.nc("ngForOf",e.billsSelector),r.Ab(1),r.nc("overlayData",e.reloadMultisiteOverlay?e.estimatedOverlayData:e.overlayData)("show",e.showMultiSedeOverlay)("loaded",e.loadMultiSedeOverlay)("greyMode",!!e.estimateValid),r.Ab(2),r.nc("ngIf",!e.reloadMultisiteOverlay)("ngIfElse",t),r.Ab(2),r.nc("ngIf",!e.reloadMultisiteOverlay)("ngIfElse",i),r.Ab(1),r.nc("overlayFullScreenData",e.overlayFullScreenData)("show",e.showOverlayFullScreen),r.Ab(1),r.nc("ngIf",e.showOverlayFullScreen),r.Ab(1),r.nc("slides",e.tutorialNoBillsSlides)("show",e.showTutorialNoBills),r.Ab(1),r.nc("slides",e.tutorialFirstBillSlides)("show",e.showTutorialFirstBill),r.Ab(9),r.nc("overlayData",e.estimatedOverlayData)("show",e.showEstimatedOutOfBundleOverlay)("loaded",e.estimateLoad)("greyMode",!0),r.Ab(3),r.nc("ngTemplateOutlet",t),r.Ab(1),r.nc("ngIf",e.showEstimatedOutOfBundleOverlay||e.showMultiSedeOverlay&&!e.reloadMultisiteOverlay),r.Ab(7),r.nc("show",e.showWhatWillHappenOverlay)("whatWillHappenData",null==e.renewDiscountsData[e.selectedSideId]?null:e.renewDiscountsData[e.selectedSideId].whatWillHappenData)}},directives:[n.q,n.t,x.Hb,n.s,x.Qb,x.ub,n.A,et,x.ob,it.s,it.o,n.w,x.Nb,x.Ob,x.Pb,it.L,it.M,it.G,nt.b,n.x,n.y,at.a,x.lb,it.fb],pipes:[Q.d,lt.a,n.d,n.E],styles:['@use "sass:math";.billingvf10-histogram[_ngcontent-%COMP%]{background-color:#fff;display:none;-webkit-animation:openHistogram .35s ease-in-out forwards;animation:openHistogram .35s ease-in-out forwards}.billingvf10-histogram__component[_ngcontent-%COMP%]{padding-top:16px;margin:0 auto}@media screen and (max-width:769px){.billingvf10-histogram__component[_ngcontent-%COMP%]{width:100%!important;min-width:100%!important}}.billingvf10-histogram[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;position:absolute;top:68%;border:1px solid #ebebeb}@media screen and (max-width:820px){.billingvf10-histogram--paddingDesktop[_ngcontent-%COMP%]{padding:16px 16px 0}}.billingvf10-histogram[_ngcontent-%COMP%]   .mva10-c-data-visual__price[_ngcontent-%COMP%]{direction:ltr}.billingvf10-debt[_ngcontent-%COMP%]{margin:32px auto 0}.billingvf10-debt__title[_ngcontent-%COMP%]{color:#fff;font-family:VodafoneRegularBold}.billingvf10-debt__button[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:1rem}.billingvf10-estimate[_ngcontent-%COMP%]{margin:32px auto 0}@media screen and (min-width:769px){.billingvf10-estimate[_ngcontent-%COMP%]{margin:40px auto 0}}.billingvf10-estimate[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#ebebeb}.billingvf10-estimate__multi-site-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.billingvf10-estimate__multi-site-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.billingvf10-estimate__multi-site-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:VodafoneRegular;margin-left:5px}.billingvf10-estimate__multi-site-content--image[_ngcontent-%COMP%]{width:48px;height:48px}.billingvf10-estimate__title-cycle[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.billingvf10-estimate__title-cycle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-of-type{font-family:VodafoneRegularBold;color:#333}.billingvf10-estimate__title-cycle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(2){font-family:VodafoneRegular;color:#717171}.billingvf10-estimate__month[_ngcontent-%COMP%]{font-family:VodafoneLight;line-height:1.25;color:#3a3a3a}.billingvf10-estimate__coute[_ngcontent-%COMP%]{font-family:VodafoneLight;font-size:42px;color:#333}@media screen and (min-width:769px){.billingvf10-estimate__coute[_ngcontent-%COMP%]{font-size:56px}}.billingvf10-estimate__item[_ngcontent-%COMP%]{display:flex;align-items:center}.billingvf10-estimate__amount[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.38;color:#333}.billingvf10-estimate__amount--red[_ngcontent-%COMP%]{color:#e60000}.billingvf10-estimate__amount--red-line[_ngcontent-%COMP%]{color:#e60000}.billingvf10-estimate__amount--line[_ngcontent-%COMP%], .billingvf10-estimate__amount--red-line[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.billingvf10-estimate__title-item[_ngcontent-%COMP%]{font-family:VodafoneRegularBold;color:#333}.billingvf10-estimate__expand[_ngcontent-%COMP%]{transition:max-height 1s ease-out}.billingvf10-estimate__pay-content[_ngcontent-%COMP%]{margin:1rem 0;display:flex;justify-content:space-between;align-items:center}.billingvf10-estimate__pay-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:1rem}.billingvf10-estimate__note_estimate[_ngcontent-%COMP%]{font-family:VodafoneRegular;color:#666;font-size:14px;margin-top:10px}.billingvf10-estimate__error[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.billingvf10-estimate__error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-family:VodafoneRegularBold;margin-bottom:16px}.billingvf10-estimate__error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){font-family:VodafoneRegular}.billingvf10-estimate__renew-discount[_ngcontent-%COMP%], .billingvf10-estimate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:16px}.billingvf10-estimate[_ngcontent-%COMP%]   .mva10-c-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px 0 rgba(0,0,0,.16)!important}.billingvf10-estimate__endDate[_ngcontent-%COMP%]{color:#9a9a9a;margin-top:-10px}.billingvf10-estimate__tariff-update[_ngcontent-%COMP%]{align-items:center;display:grid;grid-template-columns:75% 25%;grid-template-rows:auto auto;grid-row-gap:10px;margin:1rem 0;min-height:90px}.billingvf10-estimate__tariff-update__title[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:2;grid-row-start:1;grid-row-end:2}.billingvf10-estimate__tariff-update__button[_ngcontent-%COMP%]{color:#e60000;grid-column-start:1;grid-column-end:2;grid-row-start:2;grid-row-end:3;justify-self:start}.billingvf10-estimate__tariff-update__image[_ngcontent-%COMP%]{grid-column-start:2;grid-column-end:3;grid-row-start:1;grid-row-end:3;justify-self:end}.billingvf10-last-bills[_ngcontent-%COMP%]{margin:32px auto 0}@media only screen and (min-width:768px){.billingvf10-last-bills[_ngcontent-%COMP%]{margin:40px auto 0}}.billingvf10-last-bills__item[_ngcontent-%COMP%]{margin-bottom:16px;opacity:0;-webkit-animation:showLastBills .1s ease-in-out forwards;animation:showLastBills .1s ease-in-out forwards}@media screen and (min-width:769px){.billingvf10-last-bills__item[_ngcontent-%COMP%]{margin-bottom:20px}}.billingvf10-last-bills__button[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1rem auto;display:flex}@-webkit-keyframes showLastBills{0%{opacity:0}to{opacity:1}}@keyframes showLastBills{0%{opacity:0}to{opacity:1}}.billingvf10-single-card__ready[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.billingvf10-single-card__others[_ngcontent-%COMP%]{display:flex}.billingvf10-single-card__others[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-direction:column;display:flex}.billingvf10-single-card__others[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:1rem}.billingvf10-single-card__others[_ngcontent-%COMP%]   .buttonPdf[_ngcontent-%COMP%]{height:2rem;width:9rem;border-radius:6px;border:1px solid #999;background-color:#fff;display:flex;justify-content:center;align-items:center;margin-top:1rem;margin-left:1rem;font-family:VodafoneRegular;font-size:1rem;font-weight:700;font-style:normal;font-stretch:normal;line-height:1.25;letter-spacing:normal;text-align:center;color:#333}.icon[_ngcontent-%COMP%]{font-size:32px;height:30px;width:30px}.icon__chevron-right[_ngcontent-%COMP%]{color:#e60000}.icon__service[_ngcontent-%COMP%]{margin-left:8px}.icon__service[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-left:0}@-webkit-keyframes openHistogram{0%{transform:scaleY(0)}to{transform:scaleY(1)}}@keyframes openHistogram{0%{transform:scaleY(0)}to{transform:scaleY(1)}}',".billingvf10[_ngcontent-%COMP%]{background-color:#f4f4f4}.billingvf10__title-page[_ngcontent-%COMP%]{letter-spacing:.8px;text-align:center;color:#fff}.billingvf10__wrapper[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:0 20px 40px}@media screen and (max-width:769px){.billingvf10__wrapper[_ngcontent-%COMP%]{width:100%!important;min-width:100%!important;padding:0 16px 32px}}.billingvf10__title[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10__subtitle[_ngcontent-%COMP%]{font-family:VodafoneRegular;color:#666}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:22px}@media screen and (min-width:769px){.billingvf10__subtitle[_ngcontent-%COMP%]{font-size:18px}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:24px}}.billingvf10--width100[_ngcontent-%COMP%]{width:100%}.billingvf10--hidden[_ngcontent-%COMP%]{display:none}.billingvf10--opacity[_ngcontent-%COMP%]{opacity:.6}.billingvf10--margin-0-auto[_ngcontent-%COMP%]{margin:0 auto}.billingvf10--margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.billingvf10--margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.billingvf10--margin-right-8[_ngcontent-%COMP%]{margin-right:8px}.billingvf10--margin-right-16[_ngcontent-%COMP%]{margin-right:16px}.billingvf10--margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:16px}.billingvf10--margin-top-90[_ngcontent-%COMP%]{margin-top:90px}.billingvf10--margin-top-80[_ngcontent-%COMP%]{margin-top:80px}.billingvf10--margin-left-40[_ngcontent-%COMP%]{margin-left:40px}.billingvf10--margin-left-24[_ngcontent-%COMP%]{margin-left:24px}.billingvf10--text-align-right[_ngcontent-%COMP%]{text-align:right}.billingvf10--font-family-rg-bold[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10--display-flex[_ngcontent-%COMP%]{display:flex}.billingvf10--red[_ngcontent-%COMP%]{color:#e60000}.billing-vf10-empty[_ngcontent-%COMP%]{padding:8px 24px 24px;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:VodafoneRegular;font-size:1rem;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#333}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700;line-height:1.33}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){font-weight:400;line-height:1.38;text-align:center}.billing-vf10-empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24vmin;height:24vmin}.vfac-card-expandable__label[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.22;text-align:center;color:#e60000}.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#ebebeb;margin-bottom:16px}@media screen and (min-width:769px){.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:20px}}.skeleton-wrapper-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:placeholderSkeleton 2s linear infinite forwards;animation:placeholderSkeleton 2s linear infinite forwards;background:#ccc;background-image:linear-gradient(90deg,#ccc 0,#f3f3f3 20%,#ccc 40%,#ccc);background-image:-webkit-linear-gradient(left,#ccc,#f3f3f3 20%,#ccc 40%,#ccc);background-repeat:no-repeat;background-size:800px 250px;position:relative;display:block}.skeleton-wrapper-section[_ngcontent-%COMP%]{-webkit-animation-name:skeletonAnimate;animation-name:skeletonAnimate;background-repeat:repeat;background-size:50% auto;background-color:#fff}@-webkit-keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@-webkit-keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}@keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}.skeleton-billing__title[_ngcontent-%COMP%]{width:80%}.skeleton-billing__title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:12px;margin-bottom:24px}.skeleton-billing__card[_ngcontent-%COMP%]{height:127px;padding-top:1px;padding-left:16px;padding-right:16px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px;height:143px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{height:12px;width:50%;margin-top:20px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{margin-top:24px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){height:12px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){margin-top:16px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){height:40px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){margin-top:16px}}"],data:{animation:[I]}}),t})();var pe=i("VgTF"),be=i("9M21"),he=i("y8A9");function ue(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"label",6),r.Tc(2),r.Tb(),r.Ub(3,"label",6),r.Tc(4),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Ab(2),r.Uc(null==t.billingService?null:t.billingService.getMonthFromBillingCycle(null==t.billingService?null:t.billingService.selectedBill)),r.Ab(2),r.Uc(t.getDateCycle(null==t.billingService?null:t.billingService.selectedBill))}}function me(t,e){if(1&t&&(r.Ub(0,"label",7),r.Tc(1),r.hc(2,"sliceCurrency"),r.hc(3,"currency"),r.Tb()),2&t){const t=r.gc();r.Ab(1),r.Vc("",r.ic(2,1,r.kc(3,3,null==t.billingService.selectedBillInfo||null==t.billingService.selectedBillInfo.amount?null:t.billingService.selectedBillInfo.amount.amount,"EUR","symbol")),"\u20ac")}}let fe=(()=>{class t{constructor(t,e,i,n,a,l,s){this.taggingHelper=t,this.billingService=e,this.billingVf10Service=i,this.utilitiesService=n,this.translate=a,this.authService=l,this.router=s,this.BREAKPOINTS=x.d}ngOnInit(){this.getTranslateText()}getDateCycle(t){const e=new Date(t.billingCycle.startDate),i=new Date(t.billingCycle.endDate);return`${e.getDate()} ${this.utilitiesService.getMonthName((e.getMonth()+1).toString(),!0)} -\n     ${i.getDate()} ${this.utilitiesService.getMonthName((i.getMonth()+1).toString(),!0)}`}clickDonwloadPdf(){this.authService.isAccessTokenExist()&&!this.authService.isAccessTokenAlmostExpired(1)?this.billDownloadLogic():(this.billingVf10Service.downloadBill=!0,this.router.navigate([s.a.retry.name]))}billDownloadLogic(){this.billingVf10Service.downloadPDF(this.billingService.selectedBill);const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.descargarPdf.data);this.taggingHelper.track(p.a.BillingVf10.details.descargarPdf.eventName,e)}getTranslateText(){this.translate.get("v10.billing").subscribe(t=>{this.labelDownloadPdf=t.details.downloadPdf})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m.a),r.Ob(f.a),r.Ob(D.a),r.Ob(h.a),r.Ob(Q.e),r.Ob(M.a),r.Ob(l.f))},t.\u0275cmp=r.Ib({type:t,selectors:[["sp-header-details-billing-vf10"]],decls:5,vars:5,consts:[[1,"billingvf10-details-header"],["class","billingvf10-details-header__content-cycle",4,"ngIf"],[1,"billingvf10-details-header__content"],["class","billingvf10--font-family-rg-bold mva10-u--h3",4,"ngIf"],[3,"body","styleClass","title","click"],[1,"billingvf10-details-header__content-cycle"],[1,"mva10-u--h5"],[1,"billingvf10--font-family-rg-bold","mva10-u--h3"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Rc(1,ue,5,2,"div",1),r.Ub(2,"div",2),r.Rc(3,me,4,7,"label",3),r.Ub(4,"mva10-c-button",4),r.cc("click",(function(){return e.clickDonwloadPdf()})),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Ab(1),r.nc("ngIf",e.billingService.selectedBill),r.Ab(2),r.nc("ngIf",null==e.billingService.selectedBillInfo||null==e.billingService.selectedBillInfo.amount?null:e.billingService.selectedBillInfo.amount.amount),r.Ab(1),r.nc("body",e.labelDownloadPdf)("styleClass","mva10-c-button--tertiary billing-details--font-family-bold")("title",e.labelDownloadPdf))},directives:[n.t,it.o],pipes:[he.a,n.d],styles:[".billingvf10-details-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;padding-bottom:16px;width:100%}@media screen and (min-width:769px){.billingvf10-details-header[_ngcontent-%COMP%]{padding-top:16px}}.billingvf10-details-header__content-cycle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:VodafoneRegular}.billingvf10-details-header__content-cycle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-of-type{margin-right:10px}.billingvf10-details-header__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}",".billingvf10[_ngcontent-%COMP%]{background-color:#f4f4f4}.billingvf10__title-page[_ngcontent-%COMP%]{letter-spacing:.8px;text-align:center;color:#fff}.billingvf10__wrapper[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:0 20px 40px}@media screen and (max-width:769px){.billingvf10__wrapper[_ngcontent-%COMP%]{width:100%!important;min-width:100%!important;padding:0 16px 32px}}.billingvf10__title[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10__subtitle[_ngcontent-%COMP%]{font-family:VodafoneRegular;color:#666}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:22px}@media screen and (min-width:769px){.billingvf10__subtitle[_ngcontent-%COMP%]{font-size:18px}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:24px}}.billingvf10--width100[_ngcontent-%COMP%]{width:100%}.billingvf10--hidden[_ngcontent-%COMP%]{display:none}.billingvf10--opacity[_ngcontent-%COMP%]{opacity:.6}.billingvf10--margin-0-auto[_ngcontent-%COMP%]{margin:0 auto}.billingvf10--margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.billingvf10--margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.billingvf10--margin-right-8[_ngcontent-%COMP%]{margin-right:8px}.billingvf10--margin-right-16[_ngcontent-%COMP%]{margin-right:16px}.billingvf10--margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:16px}.billingvf10--margin-top-90[_ngcontent-%COMP%]{margin-top:90px}.billingvf10--margin-top-80[_ngcontent-%COMP%]{margin-top:80px}.billingvf10--margin-left-40[_ngcontent-%COMP%]{margin-left:40px}.billingvf10--margin-left-24[_ngcontent-%COMP%]{margin-left:24px}.billingvf10--text-align-right[_ngcontent-%COMP%]{text-align:right}.billingvf10--font-family-rg-bold[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10--display-flex[_ngcontent-%COMP%]{display:flex}.billingvf10--red[_ngcontent-%COMP%]{color:#e60000}.billing-vf10-empty[_ngcontent-%COMP%]{padding:8px 24px 24px;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:VodafoneRegular;font-size:1rem;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#333}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700;line-height:1.33}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){font-weight:400;line-height:1.38;text-align:center}.billing-vf10-empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24vmin;height:24vmin}.vfac-card-expandable__label[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.22;text-align:center;color:#e60000}.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#ebebeb;margin-bottom:16px}@media screen and (min-width:769px){.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:20px}}.skeleton-wrapper-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:placeholderSkeleton 2s linear infinite forwards;animation:placeholderSkeleton 2s linear infinite forwards;background:#ccc;background-image:linear-gradient(90deg,#ccc 0,#f3f3f3 20%,#ccc 40%,#ccc);background-image:-webkit-linear-gradient(left,#ccc,#f3f3f3 20%,#ccc 40%,#ccc);background-repeat:no-repeat;background-size:800px 250px;position:relative;display:block}.skeleton-wrapper-section[_ngcontent-%COMP%]{-webkit-animation-name:skeletonAnimate;animation-name:skeletonAnimate;background-repeat:repeat;background-size:50% auto;background-color:#fff}@-webkit-keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@-webkit-keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}@keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}.skeleton-billing__title[_ngcontent-%COMP%]{width:80%}.skeleton-billing__title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:12px;margin-bottom:24px}.skeleton-billing__card[_ngcontent-%COMP%]{height:127px;padding-top:1px;padding-left:16px;padding-right:16px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px;height:143px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{height:12px;width:50%;margin-top:20px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{margin-top:24px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){height:12px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){margin-top:16px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){height:40px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){margin-top:16px}}"]}),t})();var ve=i("8CKw"),_e=i("Ksad"),Ce=i("RqUz"),ye=i("Yi9k");i("GLW0");var Te=i("NBHu"),we=i("agaW"),Oe=i("5A9+"),Pe=function(t){return t.paymentInAdvance="payment_in_advance",t.monthly="payment_monthly",t}({}),xe=i("fcFp"),Me=i("5pm2");function Se(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mva10-c-card",12),r.Ub(1,"div",13),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc(2).onChevronClicked(i)})),r.Pb(2,"img",14),r.hc(3,"translate"),r.Ub(4,"div",15),r.Ub(5,"label",16),r.Tc(6),r.hc(7,"translate"),r.Tb(),r.Pb(8,"p",17),r.Tb(),r.fc(),r.Ub(9,"svg",18),r.Ub(10,"title"),r.Tc(11,"Chrevon"),r.Tb(),r.Pb(12,"use",19),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,i=r.gc(2);r.nc("responsiveSize",20),r.Ab(2),r.nc("alt",t.type)("src",i.appTheme.getImgFullPath(r.ic(3,5,"v10.billing.details.what_happened.overlay.cards."+t.type+".imageSvg")),r.Jc),r.Ab(4),r.Vc(" ",r.ic(7,7,"v10.billing.details.what_happened.overlay.cards."+t.type+".title")," "),r.Ab(2),r.nc("innerHtml",t.price,r.Gc)}}function De(t,e){if(1&t&&(r.Ub(0,"div",7),r.Pb(1,"p",8),r.Ub(2,"p",9),r.Tc(3),r.hc(4,"translate"),r.Tb(),r.Ub(5,"div",10),r.Rc(6,Se,13,9,"mva10-c-card",11),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Ab(1),r.nc("innerHtml",null==t.whatHappenedData?null:t.whatHappenedData.billChanges,r.Gc),r.Ab(2),r.Vc(" ",r.ic(4,3,"v10.billing.details.what_happened.overlay.textWhatHappened")," "),r.Ab(3),r.nc("ngForOf",t.whatHappenedData.cards)}}function ke(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",20),r.Ub(1,"p",21),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Pb(4,"label",22),r.Pb(5,"p",22),r.Ub(6,"a",23),r.cc("click",(function(){return r.Fc(t),r.gc().onDocumentsLinkClicked()})),r.Tc(7),r.hc(8,"translate"),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Ab(2),r.Vc(" ",r.ic(3,4,"v10.billing.details.what_happened.overlay.discounts.title")," "),r.Ab(2),r.nc("innerHtml",t.whatHappenedData.discounts.number,r.Gc),r.Ab(1),r.nc("innerHtml",t.whatHappenedData.discounts.billChanges,r.Gc),r.Ab(2),r.Vc(" ",r.ic(8,6,"v10.billing.details.what_happened.overlay.discounts.linkDocuments")," ")}}function Be(t,e){if(1&t&&r.Pb(0,"label",17),2&t){const t=r.gc(2);r.nc("innerHtml",t.overlaySecondPageTitle,r.Gc)}}function Ae(t,e){if(1&t){const t=r.Vb();r.Ub(0,"vfac-detail-list",30),r.cc("itemClicked",(function(e){return r.Fc(t),r.gc(3).onOobConsumptionClick(e)})),r.Tb()}if(2&t){const t=r.gc(3);r.nc("detailListData",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.obb?null:t.whatHappenedData.data.obb.listPrices)}}function Ue(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"p",28),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"p",16),r.Tc(5),r.hc(6,"translate"),r.Tb(),r.Rc(7,Ae,1,1,"vfac-detail-list",29),r.Rb()),2&t){const t=r.gc(2);r.Ab(2),r.Vc(" ",r.ic(3,3,"v10.billing.details.what_happened.title")," "),r.Ab(3),r.Vc(" ",r.ic(6,5,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.description")," "),r.Ab(2),r.nc("ngIf",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.obb?null:t.whatHappenedData.data.obb.listPrices)}}function Ve(t,e){if(1&t&&(r.Ub(0,"div",34),r.Tc(1),r.Tb()),2&t){const t=r.gc().$implicit;r.Ab(1),r.Vc(" ",t.description," ")}}function Ie(t,e){if(1&t&&(r.Ub(0,"div",38),r.Ub(1,"div",16),r.Tc(2),r.Tb(),r.Rc(3,Ve,2,1,"div",39),r.Tb()),2&t){const t=e.$implicit;r.Ab(2),r.Uc(t.title),r.Ab(1),r.nc("ngIf",t.description)}}function He(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",40),r.Ub(1,"sp-label-nba",41),r.cc("click",(function(){return r.Fc(t),r.gc(4).goToRenewDiscount()})),r.Tb(),r.Tb()}if(2&t){const t=r.gc(4);r.nc("@appearAnimation",void 0),r.Ab(1),r.nc("title",t.labelNbaTitle)("largeTitle",!0)("colorBg","turquoise")("iconLeft","#icon-price_promise")("description",t.labelNbaDescription)("showChevron",!0)}}function Le(t,e){if(1&t&&(r.Ub(0,"div",33),r.Ub(1,"p",34),r.Tc(2),r.Tb(),r.Ub(3,"div",35),r.Rc(4,Ie,4,2,"div",36),r.Tb(),r.Rc(5,He,2,7,"div",37),r.Tb()),2&t){const t=r.gc(3);r.Ab(2),r.Vc(" ",t.whatHappenedData.data.discounts.finished.totalDiscountsText," "),r.Ab(2),r.nc("ngForOf",t.whatHappenedData.data.discounts.finished.discountsList),r.Ab(1),r.nc("ngIf",t.hasDiscountsToRenew)}}function Ee(t,e){if(1&t&&(r.Ub(0,"div",42),r.Ub(1,"p",28),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"p",16),r.Tc(5),r.Tb(),r.Ub(6,"p",16),r.Tc(7),r.Tb(),r.Tb()),2&t){const t=r.gc(3);r.Ab(2),r.Vc(" ",r.ic(3,3,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.afterwards.title")," "),r.Ab(3),r.Vc(" ",t.whatHappenedData.data.discounts.current.totalDiscountsText," "),r.Ab(2),r.Vc(" ",t.whatHappenedData.data.discounts.current.discountEnumText," ")}}function Re(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"p",28),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Rc(4,Le,6,3,"div",31),r.Rc(5,Ee,8,5,"div",32),r.Rb()),2&t){const t=r.gc(2);r.Ab(2),r.Vc(" ",r.ic(3,3,"v10.billing.details.what_happened.title")," "),r.Ab(2),r.nc("ngIf",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.discounts?null:t.whatHappenedData.data.discounts.finished),r.Ab(1),r.nc("ngIf",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.discounts?null:t.whatHappenedData.data.discounts.current)}}function Fe(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",47),r.Ub(1,"div",48),r.Tc(2),r.Tb(),r.Ub(3,"div",49),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc(3).onRefundsDetailClick(i.paymentDetail)})),r.Tc(4),r.hc(5,"sliceCurrencyRoundZero"),r.hc(6,"currency"),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Ab(2),r.Vc(" ",t.name," "),r.Ab(2),r.Vc(" ",r.ic(5,2,r.kc(6,4,t.price,"EUR",!0)),"\u20ac ")}}function We(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",50),r.Ub(1,"mva10-c-card",12),r.Ub(2,"div",13),r.cc("click",(function(){return r.Fc(t),r.gc(3).onRefundsCTAClick()})),r.Ub(3,"span",34),r.Tc(4),r.Tb(),r.fc(),r.Ub(5,"svg",18),r.Ub(6,"title"),r.Tc(7,"Chrevon"),r.Tb(),r.Pb(8,"use",19),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(3);r.Ab(1),r.nc("responsiveSize",20),r.Ab(3),r.Uc(null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.payment?null:t.whatHappenedData.data.payment.textCTA)}}function Ne(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"p",28),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"div",43),r.Pb(5,"p",22),r.Ub(6,"div",44),r.Rc(7,Fe,7,8,"div",45),r.Tb(),r.Tb(),r.Rc(8,We,9,2,"div",46),r.Rb()),2&t){const t=r.gc(2);r.Ab(2),r.Vc(" ",r.ic(3,4,"v10.billing.details.what_happened.title")," "),r.Ab(3),r.nc("innerHtml",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.payment?null:t.whatHappenedData.data.payment.totalRefundsText,r.Gc),r.Ab(2),r.nc("ngForOf",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.payment?null:t.whatHappenedData.data.payment.refundsList),r.Ab(1),r.nc("ngIf",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.payment?null:t.whatHappenedData.data.payment.textCTA)}}function je(t,e){if(1&t&&(r.Ub(0,"div",76),r.Tc(1),r.Tb()),2&t){const t=r.gc().$implicit;r.Ab(1),r.Vc(" ",t.description," ")}}function $e(t,e){if(1&t&&(r.Ub(0,"div",70),r.Ub(1,"div",71),r.Tc(2),r.Tb(),r.Ub(3,"div",72),r.Tc(4),r.Tb(),r.Ub(5,"div",73),r.Pb(6,"mva10-c-billing-cycle",74),r.Tb(),r.Rc(7,je,2,1,"div",75),r.Tb()),2&t){const t=e.$implicit;r.Ab(2),r.Uc(t.title),r.Ab(2),r.Uc(t.productName),r.Ab(2),r.nc("startCycle",null==t.cycle?null:t.cycle.cycleStart)("endCycle",null==t.cycle?null:t.cycle.cycleEnd)("startRange",null==t.cycle?null:t.cycle.detailStartDate)("endRange",null==t.cycle?null:t.cycle.detailEndDate)("bill",t.price),r.Ab(1),r.nc("ngIf",t.description)}}function ze(t,e){if(1&t&&(r.Ub(0,"div",68),r.Rc(1,$e,8,8,"div",69),r.Tb()),2&t){const t=r.gc(2).$implicit;r.Ab(1),r.nc("ngForOf",t.expandedDetail)}}function Ye(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",57),r.Ub(1,"sp-expandable-chevron",58),r.cc("headerClick",(function(e){r.Fc(t);const i=r.gc().$implicit;return r.gc(3).onNewsExpandableChevronClick(e,i)})),r.Ub(2,"div",59),r.Ub(3,"div",60),r.Ub(4,"div",61),r.Ub(5,"div",62),r.Tc(6),r.Tb(),r.Ub(7,"div",63),r.Tc(8),r.Tb(),r.Tb(),r.Ub(9,"div",64),r.Ub(10,"div",65),r.Tc(11),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(12,"div",66),r.Rc(13,ze,2,1,"div",67),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc().$implicit;r.Ab(1),r.nc("leftIcon",t.icon),r.Ab(5),r.Uc(t.title),r.Ab(2),r.Uc(t.subtitle),r.Ab(3),r.Vc("",t.totalAmount,"\u20ac"),r.Ab(2),r.nc("ngIf",t.expandedDetail)}}function Qe(t,e){if(1&t&&(r.Sb(0),r.Rc(1,Ye,14,5,"div",56),r.Rb()),2&t){const t=e.$implicit;r.Ab(1),r.nc("ngIf",t.details.length>0)}}function Ge(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"p",28),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"p",16),r.Tc(5),r.hc(6,"translate"),r.Tb(),r.Ub(7,"div",51),r.Rc(8,Qe,2,1,"ng-container",52),r.Ub(9,"div",53),r.Ub(10,"p",28),r.Tc(11),r.hc(12,"translate"),r.Tb(),r.Ub(13,"p",16),r.Tc(14),r.hc(15,"translate"),r.Tb(),r.Ub(16,"div",54),r.cc("click",(function(){return r.Fc(t),r.gc(2).onNewsCTAClick()})),r.Ub(17,"mva10-c-card",12),r.Ub(18,"div",55),r.Ub(19,"span",34),r.Tc(20),r.hc(21,"translate"),r.Tb(),r.fc(),r.Ub(22,"svg",18),r.Ub(23,"title"),r.Tc(24,"Chrevon"),r.Tb(),r.Pb(25,"use",19),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Rb()}if(2&t){const t=r.gc(2);r.Ab(2),r.Vc(" ",r.ic(3,7,"v10.billing.details.what_happened.title")," "),r.Ab(3),r.Vc(" ",r.ic(6,9,null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.new?null:t.whatHappenedData.data.new.changesDescription)," "),r.Ab(3),r.nc("ngForOf",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.new?null:t.whatHappenedData.data.new.serviceChanges),r.Ab(3),r.Vc(" ",r.ic(12,11,"v10.billing.details.what_happened.overlay.cards.new.detail.afterwards.title")," "),r.Ab(3),r.Vc(" ",r.ic(15,13,"v10.billing.details.what_happened.overlay.cards.new.detail.afterwards.body")," "),r.Ab(3),r.nc("responsiveSize",20),r.Ab(3),r.Uc(r.ic(21,15,"v10.billing.details.what_happened.overlay.cards.new.detail.afterwards.billingCycleButton"))}}function qe(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"h3",77),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"mva10-c-card-label",78),r.hc(5,"translate"),r.Ub(6,"div",79),r.Ub(7,"p",80),r.Tc(8),r.Tb(),r.Ub(9,"p",81),r.Tc(10),r.Tb(),r.Tb(),r.Tb(),r.Pb(11,"br"),r.Pb(12,"mva10-c-list-icon",82),r.Ub(13,"h3",83),r.Tc(14),r.hc(15,"translate"),r.Tb(),r.Ub(16,"p",84),r.Tc(17),r.hc(18,"translate"),r.Ub(19,"a",85),r.cc("click",(function(){return r.Fc(t),r.gc(2).navigateCommunications()})),r.Tc(20),r.hc(21,"translate"),r.Tb(),r.Tb(),r.Rb()}if(2&t){const t=r.gc(2);r.Ab(2),r.Uc(r.ic(3,13,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.title")),r.Ab(2),r.nc("title",r.ic(5,15,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.tariff_detail.title"))("hideTitle",!1)("colorBg","turquoise")("largeTitle",!0),r.Ab(4),r.Uc(null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.autoMigration?null:t.whatHappenedData.data.autoMigration.tariffName),r.Ab(2),r.Uc(null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.autoMigration?null:t.whatHappenedData.data.autoMigration.tariffPrice),r.Ab(2),r.nc("listItems",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.autoMigration?null:t.whatHappenedData.data.autoMigration.characteristicList)("size","medium")("dark",!1),r.Ab(2),r.Uc(r.ic(15,17,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.more_info_title")),r.Ab(3),r.Vc(" ",r.ic(18,19,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.more_info_text")," "),r.Ab(3),r.Uc(r.ic(21,21,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.more_info_link"))}}function Ze(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"h3",86),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"mva10-c-card-label",78),r.hc(5,"translate"),r.Ub(6,"div",79),r.Ub(7,"p",87),r.Tc(8),r.Tb(),r.Ub(9,"p",88),r.Tc(10),r.Tb(),r.Tb(),r.Tb(),r.Ub(11,"h3",89),r.Tc(12),r.Tb(),r.Pb(13,"p",90),r.Ub(14,"h3",91),r.Tc(15),r.hc(16,"translate"),r.Tb(),r.Ub(17,"p",92),r.Tc(18),r.hc(19,"translate"),r.Ub(20,"a",93),r.cc("click",(function(){return r.Fc(t),r.gc(2).navigateCommunications()})),r.Tc(21),r.hc(22,"translate"),r.Tb(),r.Tb(),r.Rb()}if(2&t){const t=r.gc(2);r.Ab(2),r.Uc(r.ic(3,12,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.title")),r.Ab(2),r.nc("title",r.ic(5,14,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.tariff_detail.title"))("hideTitle",!1)("colorBg","turquoise")("largeTitle",!0),r.Ab(4),r.Uc(null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.m4m?null:t.whatHappenedData.data.m4m.tariffName),r.Ab(2),r.Uc(null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.m4m?null:t.whatHappenedData.data.m4m.tariffPrice),r.Ab(2),r.Uc(null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.m4m?null:t.whatHappenedData.data.m4m.bodyTitle),r.Ab(1),r.nc("innerHtml",null==t.whatHappenedData||null==t.whatHappenedData.data||null==t.whatHappenedData.data.m4m?null:t.whatHappenedData.data.m4m.bodyText,r.Gc),r.Ab(2),r.Uc(r.ic(16,16,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.more_info_title")),r.Ab(3),r.Vc(" ",r.ic(19,18,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.more_info_text")," "),r.Ab(3),r.Uc(r.ic(22,20,"v10.billing.details.what_happened.overlay.cards."+t.secondPageToShow+".detail.more_info_link"))}}function Je(t,e){if(1&t&&(r.Ub(0,"div",24),r.Rc(1,Be,1,1,"label",25),r.Sb(2,26),r.Rc(3,Ue,8,7,"ng-container",27),r.Rc(4,Re,6,5,"ng-container",27),r.Rc(5,Ne,9,6,"ng-container",27),r.Rc(6,Ge,26,17,"ng-container",27),r.Rc(7,qe,22,23,"ng-container",27),r.Rc(8,Ze,23,22,"ng-container",27),r.Rb(),r.Tb()),2&t){const t=r.gc();r.Ab(1),r.nc("ngIf",t.isMobileWidth&&t.overlaySecondPageTitle),r.Ab(1),r.nc("ngSwitch",t.secondPageToShow),r.Ab(1),r.nc("ngSwitchCase",t.typeWhatHappened.Obb),r.Ab(1),r.nc("ngSwitchCase",t.typeWhatHappened.Discounts),r.Ab(1),r.nc("ngSwitchCase",t.typeWhatHappened.Refunds),r.Ab(1),r.nc("ngSwitchCase",t.typeWhatHappened.New),r.Ab(1),r.nc("ngSwitchCase",t.typeWhatHappened.AutoMigration),r.Ab(1),r.nc("ngSwitchCase",t.typeWhatHappened.M4M)}}let Ke=(()=>{class t{constructor(t,e,i,n,a,l,s,o,c,d,g){this.appTheme=t,this.translate=e,this.taggingHelper=i,this.utilitiesService=n,this.billingService=a,this.billingVf10Service=l,this.auth=s,this.helpService=o,this.subscriptionService=c,this.entryPointService=d,this.router=g,this.closed=new r.n,this.backPage=new r.n,this.cardClicked=new r.n,this.documentsLinkClicked=new r.n,this.clickOobDetail=new r.n,this.clickRefundDetail=new r.n,this.typeWhatHappened=ye.a}set show(t){this.showOverlay=t,t&&this.initWhatHappened()}set secondPageWhatHappenedType(t){switch(t){case ye.a.New:this.onChevronClicked({type:ye.a.New,price:""},!0)}}initWhatHappened(){this.billDetails||(this.billDetails=this.billingService.selectedBill.details),this.userName=this.utilitiesService.capitalizeText(this.auth.getUserFromLocalJWT().firstName),this.totalBillChanges=this.billingVf10Service.getTotalBillChanges(this.billDetails.categories,!0,!0),this.oobData=this.billingVf10Service.getOutOfBundle(this.billDetails.categories),this.isTariffChangeDiscounts=this.billingVf10Service.isTariffChangeForDicounts(this.billingService.selectedBill)||this.billingVf10Service.checkBillHasNewProducts(this.billingService.selectedBill),this.discountsFinished=this.billingVf10Service.getTimeTypeDiscounts(this.billingService.selectedBill,_e.a.finishedThisMonth),this.discountsCurrently=this.billingVf10Service.getTimeTypeDiscounts(this.billingService.selectedBill,_e.a.currentsDiscounts),this.initDataObjects(),this.initWhatHappenedCardList(),this.sendTaggingViewMainPage()}initDataObjects(){this.refundsData=this.billingVf10Service.getRefunds(this.billDetails.categories),this.basicData=[],this.newsBasicData=[],this.billDetails.categories.forEach(t=>{t.categoryType.toLowerCase()===pe.a.basic&&t.subItems.length>0&&this.basicData.push(...t.subItems)}),this.newsBasicData=this.basicData.filter(t=>Te.a.newsTypesAlarm.includes(t.typeAlarm)),this.thirdPartiesData=this.billingVf10Service.getThirdPartiesData(this.billDetails.categories),this.otherData=this.billDetails.categories.filter(t=>t.categoryType.toLowerCase()===pe.a.other),this.premiumData=this.billingVf10Service.getPremiumData(this.otherData),this.autoMigrationData=this.basicData.find(t=>t.discounts.some(t=>t.typeAlarm===Ce.a.migration)),this.m4mData=this.basicData.find(t=>t.typeAlarm===Ce.a.m4m&&!1!==t.newOffer)}onChevronClicked(t,e=!1){switch(t.type){case ye.a.Obb:this.initOutOfBundleSecondPage();break;case ye.a.New:this.initNewProductsSecondPage();break;case ye.a.Discounts:this.initDiscountsSecondPage();break;case ye.a.Refunds:this.initRefundsSecondPage();break;case ye.a.M4M:this.initM4MSecondPage();break;case ye.a.AutoMigration:this.initAutoMigraSecondPage();break;case ye.a.ThirdParties:return void this.navigateToOnlineSubscriptions(this.thirdPartiesData);case ye.a.Premium:return void this.navigateToOnlineSubscriptions(this.premiumData)}this.sendTaggingClickChevronMainPage(t.type,e),this.cardClicked.emit(t),this.secondPageToShow=t.type,this.page=2,this.updateSecondPageTitle(t.type)}navigateToOnlineSubscriptions(t){var e,i;let n;for(let l=0;l<(null==t?void 0:t.length)&&(n=null===(i=null===(e=this.subscriptionService.customerData)||void 0===e?void 0:e.services)||void 0===i?void 0:i.find(e=>e.id===t[l].serviceNumber),!n);l++);n&&(this.subscriptionService.customerData.currentService=n);const a=this.translate.instant("v10.dashboard.gestion.list.online_subscriptions.url_pm");this.router.navigate([a.split("?")[0]],{queryParams:this.utilitiesService.getRouteParams(a)})}initOutOfBundleSecondPage(){this.whatHappenedData.data.obb=this.oobData.length>0?{listPrices:{items:this.parseOobDetailsToItemList(this.oobData)}}:null}initNewProductsSecondPage(){this.whatHappenedData.data.new={},this.whatHappenedData.data.new.serviceChanges=this.reduceNewProductsData(this.newsBasicData).sort((t,e)=>o.billChangesConceptsOrder[t.type]-o.billChangesConceptsOrder[e.type]).map(t=>{const e=t.details.sort((t,e)=>this.utilitiesService.getDateFromString(t.startDate)>=this.utilitiesService.getDateFromString(e.startDate)?-1:1);let i=this.translate.instant("v10.billing.details.what_happened.overlay.cards.new.detail.newProduct").replace("{0}",e[0].name);switch(t.type){case Oe.a.TariffChange:i=e[0].name;break;case Oe.a.Other:i=t.details.length>1?"":i}return Object.assign(Object.assign({},t),{details:e,subtitle:i,totalAmount:this.getParsedTotalAmount(t.details)})}),this.whatHappenedData.data.new.changesDescription=this.getNewServiceDescriptionText()}reduceNewProductsData(t){return t.reduce((t,e)=>{const i=t.find(t=>t.alarmId===e.notificationId);return t.find(t=>t.type===Oe.a.Other),i?i.details.push(e):t.push(this.parseNewProductData(e)),t},[])}parseNewProductData(t){const e=Te.a.newProduct.includes(t.typeAlarm),i=Te.a.tariffChange.includes(t.typeAlarm),n=Te.a.newsPaymentAdvance.includes(t.typeAlarm);let a;if(i)a={type:Oe.a.TariffChange,paymentMode:n?Pe.paymentInAdvance:Pe.monthly,title:this.translate.instant("v10.billing.details.what_happened.overlay.cards.new.detail.tariffChange"),icon:"#icon-bill-or-report",serviceNumber:t.serviceNumber,alarmId:t.notificationId,details:[t]};else if(e&&t.serviceNumber){const e=this.billingService.selectedBill.subscriptions.find(e=>e.id===t.serviceNumber);let i,l;[i,l]=this.parseSubscriptionIconAndTitle(e),a={type:Oe.a.NewProduct,paymentMode:n?Pe.paymentInAdvance:Pe.monthly,title:l,icon:i,serviceNumber:t.serviceNumber,alarmId:t.notificationId,details:[t]}}else e&&!t.serviceNumber&&(a={type:Oe.a.Other,paymentMode:n?Pe.paymentInAdvance:Pe.monthly,title:this.translate.instant("v10.billing.details.what_happened.overlay.cards.new.detail.otherConcepts"),icon:x.I.ICON_SMALL_TILE,alarmId:t.notificationId,details:[t]});return a}initDiscountsSecondPage(){this.translate.get("v10.billing.details.what_happened.overlay.cards.discounts.detail").subscribe(t=>{this.whatHappenedData.data.discounts={};const e=this.discountsFinished.length;e>0&&!this.isTariffChangeDiscounts&&(this.whatHappenedData.data.discounts.finished={totalDiscountsText:t[1===e?"body_singular":"body_plural"].replace("{0}",e),discountsList:this.discountsFinished.map(e=>({title:e.name,description:t.finished_date.replace("{0}",this.utilitiesService.getDateWithMonth(e.endDate,!0))}))});const i=this.discountsCurrently.length;i>0&&(this.whatHappenedData.data.discounts.current={totalDiscountsText:t.afterwards[1===i?"discounts_singular":"discounts_plural"].replace("{0}",i),discountEnumText:t.afterwards.body.replace("{0}",this.getCategoryNamesListed(this.discountsCurrently,t.afterwards.among_others))}),this.checkDiscountsToRenew()})}initRefundsSecondPage(){this.translate.get("v10.billing.details.what_happened.overlay.cards.payment.detail").subscribe(t=>{this.whatHappenedData.data.payment={totalRefundsText:(1===this.refundsData.length?t.body_singular:t.body_plural).replace("{0}",`<b>${this.refundsData.length}</b>`),textCTA:t.what_are_payments,refundsList:this.refundsData.map(t=>({name:t.name,price:t.amount,paymentDetail:t}))}})}initAutoMigraSecondPage(){const t=this.billingVf10Service.getPriceFromCategoryDetail(this.autoMigrationData,!1);this.whatHappenedData.data.autoMigration={tariffName:this.autoMigrationData.name,tariffPrice:`${t.toFixed(2).replace(".",",").replace(",00","")}${o.coin}${o.perMonth}`,characteristicList:this.translate.instant("v10.billing.details.what_happened.overlay.cards.auto_migration.detail.extras")},this.tagStateTariffChange(p.a.BillingVf10.WhatHappened.TariffChangesDetail.auto_migration)}initM4MSecondPage(){const t=this.billingVf10Service.getPriceFromCategoryDetail(this.m4mData,!1);this.whatHappenedData.data.m4m={tariffName:this.m4mData.name,tariffPrice:`${t.toFixed(2).replace(".",",").replace(",00","")}${o.coin}${o.perMonth}`,bodyTitle:this.getSecondPageSummaryForM4M(this.m4mData.discounts).title,bodyText:this.getSecondPageSummaryForM4M(this.m4mData.discounts).description},this.tagStateTariffChange(p.a.BillingVf10.WhatHappened.TariffChangesDetail.new_price)}getSecondPageSummaryForM4M(t){let e,i;return this.translate.get("v10.billing.details.what_happened.overlay.cards.new_price.detail").subscribe(n=>{switch(t.length){case 0:e=n.from_now_on.title,i=n.from_now_on.description;break;case 1:e=n.kept_discounts.title,i=`${n.kept_discounts.text_singular}<br/><br/>\n            ${n.kept_discounts.detail_one.replace("{0}",t[0].name)}`;break;case 2:e=n.kept_discounts.title,i=`${n.kept_discounts.text_plural.replace("{0}",t.length)}<br/><br/>\n            ${n.kept_discounts.detail_two.replace("{0}",t[0].name).replace("{1}",t[1].name)}`;break;default:e=n.kept_discounts.title,i=`${n.kept_discounts.text_plural.replace("{0}",t.length)}<br/><br/>\n            ${n.kept_discounts.detail_multiple.replace("{0}",t[0].name).replace("{1}",t[1].name)}`}}),{title:e,description:i}}navigateCommunications(){this.secondPageToShow===this.typeWhatHappened.AutoMigration?this.tagClickTariffChange(p.a.BillingVf10.WhatHappened.TariffChangesDetail.auto_migration,p.a.BillingVf10.WhatHappened.clickChevron.auto_migration.clickSecondPage):this.secondPageToShow===this.typeWhatHappened.M4M&&this.tagClickTariffChange(p.a.BillingVf10.WhatHappened.TariffChangesDetail.new_price,p.a.BillingVf10.WhatHappened.clickChevron.new_price.clickSecondPage),this.router.navigate([s.a.communications.route])}getNewServiceDescriptionText(t=this.whatHappenedData.data.new.serviceChanges){const e=t.filter(t=>t.type===Oe.a.TariffChange).length,i=t.length-e;let n="v10.billing.details.what_happened.overlay.cards.new.detail.body";return i>1?n+=".new_product_plural":1===i?n+=e>0?".new_product_plural":".new_product_singular":1===e&&(n+=".tariff_change"),n}getParsedTotalAmount(t,e){return this.billingVf10Service.getTotalPriceFromCategoryArray(t,e).toFixed(2).replace(".",",").replace(",00","")}getCategoryNamesListed(t,e,i=2){let n="";return[...t].splice(0,i).forEach((t,e,i)=>{n+=(e>0?e===i.length-1?` ${o.staticWords.and} `:", ":"")+t.name}),e&&t.length>i&&(n+=", "+e),n.trim()}onDocumentsLinkClicked(){const t=Object.assign({},p.a.BillingVf10.WhatHappened.view),e=Object.assign(t,p.a.BillingVf10.WhatHappened.clickDocumentsLink.data);this.taggingHelper.track(p.a.BillingVf10.WhatHappened.clickDocumentsLink.eventName,e),this.documentsLinkClicked.emit()}closeWhatHappenedOverlay(t){this.show=!1,setTimeout(()=>{this.closed.emit(),this.page=1,this.hideBackArrow=!1,this.secondPageWhatHappenedType=null,t&&t()},1e3)}onOverlayBackPage(){this.page--,this.backPage.emit(),1===this.page&&this.sendTaggingViewMainPage()}checkWindowWidth(){this.isMobileWidth=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768}updateSecondPageTitle(t=this.secondPageToShow){switch(this.overlaySecondPageTitle="",t){case ye.a.Obb:this.overlaySecondPageTitle=`<b>${this.translate.instant("v10.billing.details.what_happened.overlay.cards."+t+".detail.title")}</b>`;break;case ye.a.Discounts:case ye.a.Refunds:case ye.a.AutoMigration:case ye.a.M4M:case ye.a.New:this.overlaySecondPageTitle=`<b>${this.translate.instant("v10.billing.details.what_happened.overlay.cards."+t+".title")}</b>`}this.checkWindowWidth()}onOobConsumptionClick(t){this.sendTaggingClickOobDetailSecondPage(t),this.closeWhatHappenedOverlay(()=>{this.clickOobDetail.emit(t?this.oobData.filter(e=>e.serviceNumber===t):null)})}onRefundsDetailClick(t){this.closeWhatHappenedOverlay(()=>this.clickRefundDetail.emit(t)),this.sendTaggingClickPaymentSecondPage(t)}onRefundsCTAClick(){this.closeWhatHappenedOverlay(()=>this.translate.get("v10.billing.details.what_happened.overlay.cards.payment.detail").subscribe(t=>{this.helpService.showHelpIframe({url:t.url_help,openSound:!0,openAnimation:!0})})),this.sendTaggingClickPaymentSecondPage()}onNewsCTAClick(){this.closeWhatHappenedOverlay(()=>this.translate.get("v10.billing.details.what_happened.overlay.cards.new.detail").subscribe(t=>{this.helpService.showHelpIframe({url:t.billing_cycle_url_help,openSound:!0,openAnimation:!0})})),this.sendTaggingClickNewsSecondPage()}initWhatHappenedCardList(){let t=[];t=this.oobWhatHappenedCardLogic(t),t=this.discountsFinisedWhatHappenedCardLogic(t),t=this.refundsWhatHappenedCardLogic(t),t=this.newsBasicWhatHappenedCardLogic(t),t=this.thirdPartiesWhatHappenedCardLogic(t),t=this.premiumWhatHappenedCardLogic(t),t=this.m4mWhatHappenedCardLogic(t),t=this.autoMigrationWhatHappenedCardLogic(t),this.whatHappenedData={greeting:this.getBillChangesTitle(),billChanges:this.getBillChangesText(this.totalBillChanges,this.discountsFinished),cards:t.sort((t,e)=>o.whatHappenedCardsOrder[t.type]-o.whatHappenedCardsOrder[e.type]),data:{}}}oobWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{if(this.oobData&&this.oobData.length>0){const i=this.billingVf10Service.getTotalPriceFromCategoryArray(this.oobData,!0);t.push({type:ye.a.Obb,price:e.overlay.cards.obb.body.replace("{0}",`<b>${i.toFixed(2).replace(".",",").replace(",00","")}\u20ac</b>`)})}}),t}discountsFinisedWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{if(this.discountsFinished&&this.discountsFinished.length>0&&!this.isTariffChangeDiscounts){const i=this.discountsFinished.length;t.push({type:ye.a.Discounts,price:`${e.overlay.cards.discounts.body} ${e.overlay.cards.discounts[1===i?"finished_singular":"finished_plural"]} <b>${e.overlay.cards.discounts[1===i?"discount_singular":"discount_plural"].replace("{0}",i)}</b>`})}}),t}refundsWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{if(this.refundsData&&this.refundsData.length>0){const i=this.billingVf10Service.getTotalPriceFromCategoryArray(this.refundsData,!0);t.push({type:ye.a.Refunds,price:e.overlay.cards.payment.body.replace("{0}",`<b>${i.toFixed(2).replace(".",",").replace(",00","")}\u20ac</b>`)})}}),t}newsBasicWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{if(this.newsBasicData.length){const i=this.billingVf10Service.getTotalPriceFromCategoryArray(this.newsBasicData);t.push({type:ye.a.New,price:e.overlay.cards.new.body.replace("{0}",`<b>${i.toFixed(2).replace(".",",").replace(",00","")}\u20ac</b>`)})}}),t}thirdPartiesWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{var i,n;if(this.thirdPartiesData&&this.thirdPartiesData.length>0){const a=this.billingVf10Service.getTotalPriceFromCategoryArray(this.thirdPartiesData,!0);t.push({type:ye.a.ThirdParties,price:null===(n=null===(i=e.overlay.cards.third_parties)||void 0===i?void 0:i.body)||void 0===n?void 0:n.replace("{0}",`<b>${a.toFixed(2).replace(".",",").replace(",00","")}\u20ac</b>`)})}}),t}premiumWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{var i,n;if(this.premiumData&&this.premiumData.length>0){const a=this.billingVf10Service.getTotalPriceFromCategoryArray(this.premiumData,!0);t.push({type:ye.a.Premium,price:null===(n=null===(i=e.overlay.cards.premium)||void 0===i?void 0:i.body)||void 0===n?void 0:n.replace("{0}",`<b>${a.toFixed(2).replace(".",",").replace(",00","")}\u20ac</b>`)})}}),t}m4mWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{var i;this.m4mData&&t.push({type:ye.a.M4M,price:null===(i=e.overlay.cards.new_price)||void 0===i?void 0:i.body})}),t}autoMigrationWhatHappenedCardLogic(t){return this.translate.get("v10.billing.details.what_happened").subscribe(e=>{var i;this.autoMigrationData&&t.push({type:ye.a.AutoMigration,price:null===(i=e.overlay.cards.auto_migration)||void 0===i?void 0:i.body})}),t}getBillChangesTitle(){return this.translate.instant(0===this.totalBillChanges&&this.autoMigrationData?"v10.billing.details.what_happened.overlay.title_auto_migration":"v10.billing.details.what_happened.overlay.title").replace("{0}",this.userName)}getBillChangesText(t,e){const i=this.translate.instant("v10.billing.details.what_happened.detail_card");let n="";return 0!==t?n=i.textDifference.replace("{0}",`<b>${t.toFixed(2).replace(".",",").replace(",00","")}\u20ac</b>`):1!==e.length||this.isTariffChangeDiscounts?e.length>1&&!this.isTariffChangeDiscounts?n=(i.discounts.finished_plural_bold||i.discounts.finished_plural).replace("{0}",e.length):this.autoMigrationData&&(n=i.text_auto_migration):n=i.discounts.finished_singular_bold||i.discounts.finished_singular,""!==n&&this.m4mData&&(n=void 0),n}parseOobDetailsToItemList(t){const e={};t.forEach(t=>{e[t.serviceNumber]||(e[t.serviceNumber]=0),e[t.serviceNumber]+=t.amount});const i=[];for(const n in e)if(e.hasOwnProperty(n)){const t=this.billingService.selectedBill.subscriptions.find(t=>t.id===n);let a,l,s=!1;[a,l,s]=this.parseSubscriptionIconAndTitle(t),a&&l&&i.push({icon:a,title:l,description:n,hideDescription:s,descriptionRight:e[n].toFixed(2).replace(".",",").replace(",00","")+"\u20ac"})}return i}checkDiscountsToRenew(){this.discountsToRenewArray=[],this.hasDiscountsToRenew=!1;const t=this.translate.instant("v10");this.entryPointService.getEntryPoints(o.entryPointsMVA10.billingDetail,this.subscriptionService.customerData.customerAccountsId,t.dashboard.config.maxNumberEP,!1,this.subscriptionService.customerData.currentService.id,t.commercial.versionPortalEP).subscribe(e=>{if(e&&e.entryPoints&&e.entryPoints.length>0&&e.entryPoints.find(e=>t.flows.nav.DSR.subflows2.includes(e.code))){this.hasDiscountsToRenew=!0,this.discountsToRenewArray=e.entryPoints;const i=this.discountsToRenewArray[0];this.labelNbaTitle=t.flows.customization[i.code].BILLDETAIL[i.group].title,this.labelNbaDescription=t.flows.customization[i.code].BILLDETAIL[i.group].description,this.sendTaggingEntryPoint(i)}},t=>{this.hasDiscountsToRenew=!1})}goToRenewDiscount(){if(this.discountsToRenewArray&&this.discountsToRenewArray.length>0){this.entryPointService.entryCode=this.discountsToRenewArray[0].code;const t=p.a.BillingVf10.WhatHappened.clickRenewDiscount;if(t){const e=Object.assign({},p.a.BillingVf10.WhatHappened.DiscountsDetail.view),i=Object.assign(e,t.data);i.entrypoint_title=this.labelNbaTitle,i.entrypoint_type=this.discountsToRenewArray[0].offerVFDescriptor?o.entrypointType.pega:o.entrypointType.reco,i.entrypoint_name=this.discountsToRenewArray[0].name,i.entrypoint_issue=this.discountsToRenewArray[0].issue,i.entrypoint_label=this.discountsToRenewArray[0].label,i.entrypoint_groupnba=this.discountsToRenewArray[0].groupNBA,this.taggingHelper.track(t.eventName,i)}this.closeWhatHappenedOverlay(()=>this.router.navigate([s.a.DiscountRenewal.MainScreen.route]))}}parseSubscriptionIconAndTitle(t){let e,i,n=!1;if(t&&t.type)switch(t.type.toLowerCase().trim()){case _.a.Mobile.toLowerCase().trim():e=x.I.ICON_VOICE,i=this.translate.instant("v10.dashboard.overlay_outrate.mobile.postpaid");break;case _.a.Landline.toLowerCase().trim():e=x.I.ICON_LANDLINE_FIXED,i=this.translate.instant("v10.common.literals.phone_C");break;case _.a.Tv.toLowerCase().trim():e=x.I.ICON_TV,i=this.translate.instant("v10.common.literals.tv_C"),n=!0;break;case _.a.Internet.trim().toLowerCase():e=x.I.ICON_NETWORK,i=this.translate.instant("v10.common.literals.fiber_C")}return[e,i,n]}onNewsExpandableChevronClick(t,e){if(t&&(this.sendTaggingExpandNewsDetail((e.title||"?").toLowerCase().trim()),!e.expandedDetail)){const t=e.details.reverse();e.expandedDetail=t.map(t=>{const[i,n,a]=this.getTextForNewsExpandedDetails(e,t);return{title:n,productName:t.name,price:this.billingVf10Service.getPriceFromCategoryDetail(t).toFixed(2),cycle:{cycleStart:E()(this.billingService.selectedBill.billingCycle.startDate).add(i?0:1,"month").startOf("day").toDate(),cycleEnd:E()(this.billingService.selectedBill.billingCycle.endDate).add(i?0:1,"month").startOf("day").toDate(),detailStartDate:E()(t.startDate,"DD/MM/YYYY").toDate(),detailEndDate:E()(t.endDate,"DD/MM/YYYY").toDate()},description:a}})}}getTextForNewsExpandedDetails(t,e){let i,n;const a=this.utilitiesService.getDateFromString(e.startDate)<=this.utilitiesService.getDateFromString(this.billingService.selectedBill.billingCycle.endDate),l=t.paymentMode===Pe.paymentInAdvance,s=this.translate.instant("v10.billing.details.what_happened.overlay.cards.new.detail.expanded");switch(t.type){case Oe.a.TariffChange:l?e.amount<0?(i=s.tariffRefund,n=s.tariffRefundDescription):a?(i=s.tariffCurrentMonth,n=s.tariffCurrentMonthDescription):i=s.tariffNextMonth:e.newOffer?(i=s.tariffCurrentMonth,n=s.tariffCurrentMonthDescription):(i=s.tariffCurrentMonth_oldOffer,n=s.tariffCurrentMonthDescription_oldOffer);break;case Oe.a.Other:case Oe.a.NewProduct:l?a?(i=s.serviceCurrentMonth,n=s.serviceNewDescription):i=s.serviceNextMonth:(i=s.serviceCurrentMonth,n=s.serviceNewDescription)}return[a,i,n]}sendTaggingViewMainPage(){p.a.BillingVf10.WhatHappened.view.client_billing_id=p.a.BillingVf10.details.view.client_billing_id,p.a.BillingVf10.WhatHappened.view.client_billing_type=p.a.BillingVf10.details.view.client_billing_type;const t=Object.assign({},p.a.BillingVf10.WhatHappened.view);t.billing_alert=this.whatHappenedData.cards.reduce((t,e)=>t+(p.a.BillingVf10.WhatHappened.billingAlertValues[e.type]||"?")+"-","").slice(0,-1),this.taggingHelper.view(null,t)}sendTaggingClickChevronMainPage(t,e){const i=p.a.BillingVf10.WhatHappened.clickChevron[t];let n,a="";if(t===ye.a.Obb&&(n=p.a.BillingVf10.WhatHappened.OutOfBundleDetail.view),t===ye.a.New&&(n=p.a.BillingVf10.WhatHappened.TariffChangesDetail.view,a=this.whatHappenedData.data.new.serviceChanges.reduce((t,e)=>t+(e.title||"?").toLowerCase().trim()+"-","").slice(0,-1)),t===ye.a.Discounts&&(n=p.a.BillingVf10.WhatHappened.DiscountsDetail.view),t===ye.a.Refunds&&(n=p.a.BillingVf10.WhatHappened.PaymentsDetail.view),!e&&i){const t=Object.assign({},p.a.BillingVf10.WhatHappened.view),e=Object.assign(t,i.data);this.taggingHelper.track(i.eventName,e)}n&&(n.client_billing_id=p.a.BillingVf10.WhatHappened.view.client_billing_id,n.client_billing_type=p.a.BillingVf10.WhatHappened.view.client_billing_type,setTimeout(()=>{this.sendTaggingViewSecondPage(Object.assign(Object.assign({},n),{billing_alert:a}))},500))}sendTaggingViewSecondPage(t){this.taggingHelper.view(null,t)}sendTaggingClickOobDetailSecondPage(t){const e=this.billingService.selectedBill.subscriptions.find(e=>e.id===t);if(e&&e.type){let t;switch(e.type.toLowerCase().trim()){case _.a.Mobile.toLowerCase().trim():t=p.a.BillingVf10.WhatHappened.OutOfBundleDetail.clickMobile;break;case _.a.Landline.toLowerCase().trim():t=p.a.BillingVf10.WhatHappened.OutOfBundleDetail.clickLandline;break;case _.a.Tv.toLowerCase().trim():t=p.a.BillingVf10.WhatHappened.OutOfBundleDetail.clickTV}if(t){const e=Object.assign({},p.a.BillingVf10.WhatHappened.OutOfBundleDetail.view),i=Object.assign(e,t.data);this.taggingHelper.track(t.eventName,i)}}}sendTaggingClickPaymentSecondPage(t){let e;if(e=t?p.a.BillingVf10.WhatHappened.PaymentsDetail.clickPendingPayment:p.a.BillingVf10.WhatHappened.PaymentsDetail.clickHelpPayment,e){const t=Object.assign({},p.a.BillingVf10.WhatHappened.PaymentsDetail.view),i=Object.assign(t,e.data);this.taggingHelper.track(e.eventName,i)}}sendTaggingClickNewsSecondPage(){const t=p.a.BillingVf10.WhatHappened.TariffChangesDetail.clickHelpChanges;if(t){const e=Object.assign({},p.a.BillingVf10.WhatHappened.TariffChangesDetail.view),i=Object.assign(e,t.data);this.taggingHelper.track(t.eventName,i)}}sendTaggingExpandNewsDetail(t){const e=p.a.BillingVf10.WhatHappened.TariffChangesDetail.view,i=p.a.BillingVf10.WhatHappened.TariffChangesDetail.clickExpandDetail;this.taggingHelper.track(i.eventName.replace("{0}",t),Object.assign(Object.assign({},e),{event_name:i.data.event_name.replace("{0}",t)}))}sendTaggingEntryPoint(t){const e=p.a.BillingVf10.WhatHappened.DiscountsDetail.hasEntryPoint,i=Object.assign({},p.a.BillingVf10.WhatHappened.DiscountsDetail.view),n=Object.assign(i,e.data);n.entrypoint_list=n.entrypoint_list.replace("{et}",this.taggingHelper.replaceSpecialCharText(this.labelNbaTitle)||o.entryPointsMVA10.default).replace("{ety}",t.offerVFDescriptor?o.entrypointType.pega:o.entrypointType.reco),t.offerVFDescriptor&&(n.entrypoint_pega=n.entrypoint_pega.replace("{name}",t.name).replace("{label}",t.label).replace("{issue}",t.issue).replace("{groupnba}",t.groupNBA)),this.taggingHelper.track(e.eventName,n)}tagStateTariffChange(t){const e=Object.assign({},p.a.BillingVf10.WhatHappened.view);e.page_subcategory_level_5=t,e.page_screen=t,e.page_name=e.page_name+":"+t,e.journey_category=xe.b.client_typology,e.journey_subcategory=p.a.faultVariables.pospaid,this.taggingHelper.viewReplace(!0,{},e)}tagClickTariffChange(t,e){const i=Object.assign({},p.a.BillingVf10.WhatHappened.view);i.page_subcategory_level_5=t,i.page_screen=t,i.page_name=i.page_name+":"+t,i.event_name=e,this.taggingHelper.trackReplace(i.page_name+":"+e,i,!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(c.a),r.Ob(Q.e),r.Ob(m.a),r.Ob(h.a),r.Ob(f.a),r.Ob(D.a),r.Ob(M.a),r.Ob(we.a),r.Ob(b.a),r.Ob(H.a),r.Ob(l.f))},t.\u0275cmp=r.Ib({type:t,selectors:[["sp-what-happened"]],hostBindings:function(t,e){1&t&&r.cc("resize",(function(){return e.checkWindowWidth()}),!1,r.Ec)},inputs:{headerTitle:"headerTitle",page:"page",hideBackArrow:"hideBackArrow",whatHappenedData:"whatHappenedData",billDetails:"billDetails",show:"show",secondPageWhatHappenedType:"secondPageWhatHappenedType"},outputs:{closed:"closed",backPage:"backPage",cardClicked:"cardClicked",documentsLinkClicked:"documentsLinkClicked",clickOobDetail:"clickOobDetail",clickRefundDetail:"clickRefundDetail"},decls:7,vars:8,consts:[[3,"show","headerTitle","headerSubtitle","page","hideBackButton","closed","backPage"],["body","","id","page1"],[1,"what-happened-wrapper"],["class","section-container cards",4,"ngIf"],["class","section-container discounts",4,"ngIf"],["body","","id","page2"],["class","what-happened-wrapper what-happened-second-page",4,"ngIf"],[1,"section-container","cards"],[1,"mva10-u--h4",3,"innerHtml"],[1,"mva10-u--h4"],[1,"cards-list-container"],[3,"responsiveSize",4,"ngFor","ngForOf"],[3,"responsiveSize"],[1,"card-wrapper",3,"click"],[1,"image",3,"alt","src"],[1,"text"],[1,"mva10-u--h5"],[1,"mva10-u--body",3,"innerHtml"],[1,"icon","icon__chevron-right"],[0,"xlink","href","#icon-chevron-right"],[1,"section-container","discounts"],[1,"mva10-u--h2"],[1,"mva10-u--h5",3,"innerHtml"],[1,"mva10-u--body",3,"click"],[1,"what-happened-wrapper","what-happened-second-page"],["class","mva10-u--body",3,"innerHtml",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"mva10-u--h3"],[3,"detailListData","itemClicked",4,"ngIf"],[3,"detailListData","itemClicked"],["class","finished-discounts-section",4,"ngIf"],["class","current-discounts-section",4,"ngIf"],[1,"finished-discounts-section"],[1,"mva10-u--body"],[1,"ending-discounts-list"],["class","discount-detail",4,"ngFor","ngForOf"],["class","renew-discount-nba",4,"ngIf"],[1,"discount-detail"],["class","mva10-u--body",4,"ngIf"],[1,"renew-discount-nba"],[3,"title","largeTitle","colorBg","iconLeft","description","showChevron","click"],[1,"current-discounts-section"],[1,"refunds-list-section"],[1,"refunds-list"],["class","refunds-detail",4,"ngFor","ngForOf"],["class","cta-chevron",4,"ngIf"],[1,"refunds-detail"],[1,"refunds-detail-title","mva10-u--h5"],[1,"refunds-detail-description","mva10-u--h5",3,"click"],[1,"cta-chevron"],[1,"new-products-details-list"],[4,"ngFor","ngForOf"],[1,"new-products-afterwards"],[1,"cta-chevron",3,"click"],[1,"card-wrapper"],["class","new-products-details-list--item",4,"ngIf"],[1,"new-products-details-list--item"],[3,"leftIcon","headerClick"],["expandable-header",""],[1,"new-products-details-list--header-wrapper"],[1,"left-col"],[1,"title","mva10-u--h5"],[1,"name","mva10-u--body","mva10-u-ellipsis--single-line"],[1,"right-col"],[1,"amount","mva10-u--h5"],["expandable-body",""],["class","new-products-expanded-detail",4,"ngIf"],[1,"new-products-expanded-detail"],["class","new-products-expanded-detail--wrapper",4,"ngFor","ngForOf"],[1,"new-products-expanded-detail--wrapper"],[1,"new-products-expanded-detail--title","mva10-u--h5"],[1,"new-products-expanded-detail--name","mva10-u--h5"],[1,"new-products-expanded-detail--cycle"],[3,"startCycle","endCycle","startRange","endRange","bill"],["class","new-products-expanded-detail--description mva10-u--body",4,"ngIf"],[1,"new-products-expanded-detail--description","mva10-u--body"],["id","billingVf10WhatHappenedMigrationTitle",1,"mva10-u--mt4x"],[3,"title","hideTitle","colorBg","largeTitle"],[1,"what-happened-second-page__card-label"],["id","billingVf10WhatHappenedMigrationTariffName"],["id","billingVf10WhatHappenedMigrationTariffPrice",1,"bold-font"],[3,"listItems","size","dark"],["id","billingVf10WhatHappenedMigrationMoreInfoTitle",1,"mva10-u--mt4x"],["id","billingVf10WhatHappenedMigrationMoreInfoText"],["id","billingVf10WhatHappenedMigrationMoreInfoLink",1,"what-happened-second-page__primary-link",3,"click"],["id","billingVf10WhatHappenedM4MTitle",1,"mva10-u--mt4x"],["id","billingVf10WhatHappenedM4MTariffName"],["id","billingVf10WhatHappenedM4MTariffPrice",1,"bold-font"],["id","billingVf10WhatHappenedM4MBodyTitle",1,"mva10-u--mt4x"],["id","billingVf10WhatHappenedM4MBodyText",3,"innerHtml"],["id","billingVf10WhatHappenedM4MMoreInfoTitle",1,"mva10-u--mt4x"],["id","billingVf10WhatHappenedMigrationM4MText"],["id","billingVf10WhatHappenedM4MMoreInfoLink",1,"what-happened-second-page__primary-link",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"vfac-tobi-overlay",0),r.cc("closed",(function(t){return e.closeWhatHappenedOverlay(t)}))("backPage",(function(){return e.onOverlayBackPage()})),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Rc(3,De,7,5,"div",3),r.Rc(4,ke,9,8,"div",4),r.Tb(),r.Tb(),r.Ub(5,"div",5),r.Rc(6,Je,9,8,"div",6),r.Tb(),r.Tb()),2&t&&(r.nc("show",e.showOverlay)("headerTitle",1===e.page&&(null==e.whatHappenedData?null:e.whatHappenedData.greeting)||"")("headerSubtitle",e.page>1&&!e.isMobileWidth?e.overlaySecondPageTitle:"")("page",e.page)("hideBackButton",e.hideBackArrow),r.Ab(3),r.nc("ngIf",null==e.whatHappenedData?null:e.whatHappenedData.cards),r.Ab(1),r.nc("ngIf",null==e.whatHappenedData?null:e.whatHappenedData.discounts),r.Ab(2),r.nc("ngIf",e.secondPageToShow))},directives:[x.Eb,n.t,n.s,it.s,n.x,n.y,x.Ib,G.a,Me.a,it.m,it.z,it.pb],pipes:[Q.d,lt.a,n.d],styles:['@use "sass:math";.what-happened-wrapper[_ngcontent-%COMP%]{padding-bottom:16px}.what-happened-wrapper[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.what-happened-wrapper[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.what-happened-wrapper[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex:0 0 48px;align-self:flex-start;width:48px;height:48px}.what-happened-wrapper[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1 1 auto;margin-right:16px;margin-left:16px}.what-happened-wrapper[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{flex:0 0 32px;align-self:center;font-size:32px;height:30px;width:30px}.what-happened-wrapper[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]   .icon__chevron-right[_ngcontent-%COMP%]{color:#e60000}.what-happened-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.what-happened-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] + label[_ngcontent-%COMP%], .what-happened-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:12px}.what-happened-wrapper[_ngcontent-%COMP%]   mva10-c-card[_ngcontent-%COMP%]{margin-bottom:16px;cursor:pointer}.what-happened-wrapper[_ngcontent-%COMP%]   mva10-c-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.what-happened-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important}.what-happened-wrapper[_ngcontent-%COMP%]   .mva10-u--h2[_ngcontent-%COMP%], .what-happened-wrapper[_ngcontent-%COMP%]   .mva10-u--h3[_ngcontent-%COMP%], .what-happened-wrapper[_ngcontent-%COMP%]   .mva10-u--h4[_ngcontent-%COMP%]{font-family:vodafoneLt}.what-happened-wrapper[_ngcontent-%COMP%]   .section-container[_ngcontent-%COMP%]{margin:22px 0}.what-happened-wrapper[_ngcontent-%COMP%]   .section-container[_ngcontent-%COMP%]:first-child{margin-top:0}.what-happened-wrapper[_ngcontent-%COMP%]   .cards-list-container[_ngcontent-%COMP%]{margin-top:24px}.what-happened-second-page[_ngcontent-%COMP%]   .cta-chevron[_ngcontent-%COMP%]   mva10-c-card[_ngcontent-%COMP%]{cursor:pointer;width:80%}.what-happened-second-page[_ngcontent-%COMP%]   .cta-chevron[_ngcontent-%COMP%]   mva10-c-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{flex:0 0 22px;height:22px;width:22px}.what-happened-second-page[_ngcontent-%COMP%]   .ending-discounts-list[_ngcontent-%COMP%]{width:100%}.what-happened-second-page[_ngcontent-%COMP%]   .ending-discounts-list[_ngcontent-%COMP%]   .discount-detail[_ngcontent-%COMP%]{padding:16px 0;border-bottom:1px solid #ccc}.what-happened-second-page[_ngcontent-%COMP%]   .ending-discounts-list[_ngcontent-%COMP%]   .discount-detail[_ngcontent-%COMP%]   .mva10-u--body[_ngcontent-%COMP%]{color:#666;margin-top:8px}.what-happened-second-page[_ngcontent-%COMP%]   .renew-discount-nba[_ngcontent-%COMP%]{margin-top:24px}.what-happened-second-page[_ngcontent-%COMP%]   .current-discounts-section[_ngcontent-%COMP%]{margin-top:32px}.what-happened-second-page[_ngcontent-%COMP%]   .refunds-list-section[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]{width:100%}.what-happened-second-page[_ngcontent-%COMP%]   .refunds-list-section[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]   .refunds-detail[_ngcontent-%COMP%]{display:flex;padding:16px 0;border-bottom:1px solid #ccc}.what-happened-second-page[_ngcontent-%COMP%]   .refunds-list-section[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]   .refunds-detail-title[_ngcontent-%COMP%]{flex-grow:1}.what-happened-second-page[_ngcontent-%COMP%]   .refunds-list-section[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]   .refunds-detail-description[_ngcontent-%COMP%]{cursor:pointer;color:#e60000;text-decoration:underline}.what-happened-second-page[_ngcontent-%COMP%]   .refunds-list-section[_ngcontent-%COMP%] + .cta-chevron[_ngcontent-%COMP%]{margin-top:32px}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]{width:100%}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]   .refunds-detail[_ngcontent-%COMP%]{display:flex;padding:16px 0;border-bottom:1px solid #ccc}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]   .refunds-detail-title[_ngcontent-%COMP%]{flex-grow:1}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list[_ngcontent-%COMP%]   .refunds-list[_ngcontent-%COMP%]   .refunds-detail-description[_ngcontent-%COMP%]{cursor:pointer;color:#e60000;text-decoration:underline}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list[_ngcontent-%COMP%] + .cta-chevron[_ngcontent-%COMP%]{margin-top:32px}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list--header-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list--header-wrapper[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]{flex-grow:1;display:inline-grid}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list--header-wrapper[_ngcontent-%COMP%]   .right-col[_ngcontent-%COMP%]{margin-left:16px;align-self:center}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list--header-wrapper[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%], .what-happened-second-page[_ngcontent-%COMP%]   .new-products-details-list--header-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:VodafoneRgBd}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-afterwards[_ngcontent-%COMP%]{margin-top:32px}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--wrapper[_ngcontent-%COMP%]{padding:16px 0;border-bottom:1px solid #ccc}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:16px}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-top:0}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--wrapper[_ngcontent-%COMP%]:last-child{border-bottom:0}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--title[_ngcontent-%COMP%]{font-family:VodafoneRgBd}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--description[_ngcontent-%COMP%]{color:#666}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--cycle.red[_ngcontent-%COMP%]{color:#e60000}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--cycle.purple[_ngcontent-%COMP%]{color:#9c2aa0}.what-happened-second-page[_ngcontent-%COMP%]   .new-products-expanded-detail--cycle--price[_ngcontent-%COMP%]{font-family:VodafoneRgBd}.what-happened-second-page__primary-link[_ngcontent-%COMP%]{color:#e60000;cursor:pointer}.what-happened-second-page__card-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}'],data:{animation:[I]}}),t})();var Xe=function(t){return t.autoRedial="autoRedial",t.worryFree="worryFree",t.dictateSMS="dictateSMS",t.premiumSMS="premiumSMS",t.specialCall="specialCall",t}({});let ti=(()=>{class t{transform(t,e){var i;let n=!0;if(t){switch(null===(i=t.type)||void 0===i?void 0:i.trim().toLowerCase()){case _.a.Mobile.toLowerCase().trim():case _.a.Postpaid.toLowerCase().trim():case _.a.VodafoneEnTuCasa.toLowerCase().trim():n=e!==U.a.TV;break;case _.a.MbbPostpaid.toLowerCase().trim():n=e===U.a.Data;break;case _.a.Landline.toLowerCase().trim():n=e===U.a.Voice;break;case _.a.Tv.toLowerCase().trim():case _.a.TvOnline.toLowerCase().trim():n=e===U.a.TV}return n}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Nb({name:"consumptionCheckCards",type:t,pure:!0}),t})();var ei=i("JH9h"),ii=i("cc+0"),ni=function(t){return t.vodafoneServices="SOV",t.contentServices="17",t.markets="31",t.filmin="68",t.hboAmazon="70",t.hboAmazonNoTV="69",t.premiumSMS="8",t.secureNetPayments="37",t.premiumMMS="6",t.thirdPartiiesPayment="25",t.waitingTone="28",t.secureNetServices="47",t}({}),ai=i("+U+2"),li=i("MyzQ");let si=(()=>{class t{constructor(t){this.utils=t}transform(t,e){let i=!1;if(e){const n=this.utils.getDateFormatted(t.timePeriod.startDateTime).split("/"),a=this.utils.getDateFormatted(e.timePeriod.startDateTime).split("/");n&&a&&n.length>2&&a.length>2&&new Date(+n[2],+n[1]-1,+n[0])>new Date(+a[2],+a[1]-1,+a[0])&&(i=!0)}else i=!0;return i}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(h.a))},t.\u0275pipe=r.Nb({name:"consumptionSeparatorDay",type:t,pure:!0}),t})(),oi=(()=>{class t{constructor(t){this.translate=t}transform(t,e,i){return e===U.a.Data?t.description===this.translate.instant("v10.billing.comsuption.moreInfo.types.worryFree.title")?i:t.description||this.translate.instant("v10.billing.comsuption.dataUsage"):t.destination}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Q.e))},t.\u0275pipe=r.Nb({name:"consumptionParseDestination",type:t,pure:!0}),t})();var ci=i("S+Qi");let ri=(()=>{class t{transform(t,e){var i;if(e===U.a.Data)return t.destination&&0!=+t.destination?(+t.destination>=1024&&(t.destination=(+t.destination.replace(",",".")/1024).toFixed(2).replace(".",","),t.unit=ci.a.MB),`${t.destination} ${t.unit}`):"";if(null===(i=null==t?void 0:t.timePeriod)||void 0===i?void 0:i.duration){const e=t.timePeriod.duration;return`${Math.trunc(e>60?e/60:0)}m ${e%60}s`}return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Nb({name:"consumptionParseDuration",type:t,pure:!0}),t})();const di=["cardVoice"],gi=["cardData"],pi=["cardSMS"],bi=["cardTV"];function hi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"vfac-selector",14),r.cc("cardClickEvent",(function(e){r.Fc(t);const i=r.gc();return i.selectorCardServiceClicked(e,i.selectorData)})),r.Tb()}if(2&t){const t=r.gc();r.nc("selectorData",t.selectorData)("listLoaded",t.selectorListLoaded)("startAtIndex",t.selectorStartAtIndex)}}const ui=function(t){return{"billingvf10--red":t}},mi=function(t,e,i){return{type:t,select:e,listTotalComsuptionType:i}};function fi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",17,18),r.Ub(2,"mva10-c-card",19),r.Ub(3,"div",20),r.Ub(4,"span"),r.fc(),r.Ub(5,"svg",21),r.Ub(6,"title"),r.Tc(7,"Calls"),r.Tb(),r.Pb(8,"use",22),r.Tb(),r.ec(),r.Ub(9,"label",23),r.Tc(10),r.Tb(),r.Tb(),r.Ub(11,"label",24),r.Tc(12),r.hc(13,"sliceCurrencyRoundZero"),r.hc(14,"currency"),r.Tb(),r.Tb(),r.Ub(15,"div",25),r.Pb(16,"hr"),r.Qb(17,26),r.Tb(),r.Pb(18,"hr"),r.Ub(19,"div",27),r.cc("click",(function(){r.Fc(t);const e=r.gc(3);return e.clickExpandCardConsumption(!e.cardExpandableValueCalls,e.bundleTypeEnum.Voice)})),r.Ub(20,"label"),r.Tc(21),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(3),e=r.Cc(13);r.Ab(2),r.nc("styleClass","vfac-card-expandable")("responsiveSize",20),r.Ab(8),r.Vc(" ",t.labelCalls," "),r.Ab(1),r.nc("ngClass",r.tc(14,ui,t.totalComsuptionTypeCalls>0)),r.Ab(1),r.Vc("",r.ic(13,8,r.kc(14,10,t.totalComsuptionTypeCalls,"EUR","symbol")),"\u20ac"),r.Ab(5),r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.vc(16,mi,t.bundleTypeEnum.Voice,t.typeComsuptionSelectCalls,t.listTotalComsuptionTypeCalls)),r.Ab(4),r.Uc(t.labelcardExpandableValueCalls)}}function vi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",17,28),r.Ub(2,"mva10-c-card",19),r.Ub(3,"div",20),r.Ub(4,"span"),r.fc(),r.Ub(5,"svg",21),r.Ub(6,"title"),r.Tc(7,"Wifi"),r.Tb(),r.Pb(8,"use",29),r.Tb(),r.ec(),r.Ub(9,"label",23),r.Tc(10),r.Tb(),r.Tb(),r.Ub(11,"label",24),r.Tc(12),r.hc(13,"sliceCurrencyRoundZero"),r.hc(14,"currency"),r.Tb(),r.Tb(),r.Ub(15,"div",30),r.Pb(16,"hr"),r.Qb(17,26),r.Tb(),r.Pb(18,"hr"),r.Ub(19,"div",27),r.cc("click",(function(){r.Fc(t);const e=r.gc(3);return e.clickExpandCardConsumption(!e.cardExpandableValueInternet,e.bundleTypeEnum.Data)})),r.Ub(20,"label"),r.Tc(21),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(3),e=r.Cc(13);r.Ab(2),r.nc("styleClass","vfac-card-expandable")("responsiveSize",20),r.Ab(8),r.Vc(" ",t.labelData," "),r.Ab(1),r.nc("ngClass",r.tc(14,ui,t.totalComsuptionTypeInternet>0)),r.Ab(1),r.Vc("",r.ic(13,8,r.kc(14,10,t.totalComsuptionTypeInternet,"EUR","symbol")),"\u20ac"),r.Ab(5),r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.vc(16,mi,t.bundleTypeEnum.Data,t.typeComsuptionSelectInternet,t.listTotalComsuptionTypeInternet)),r.Ab(4),r.Uc(t.labelcardExpandableValueInternet)}}function _i(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",17,31),r.Ub(2,"mva10-c-card",19),r.Ub(3,"div",20),r.Ub(4,"span"),r.fc(),r.Ub(5,"svg",21),r.Ub(6,"title"),r.Tc(7,"SMS"),r.Tb(),r.Pb(8,"use",32),r.Tb(),r.ec(),r.Ub(9,"label",23),r.Tc(10),r.Tb(),r.Tb(),r.Ub(11,"label",24),r.Tc(12),r.hc(13,"sliceCurrencyRoundZero"),r.hc(14,"currency"),r.Tb(),r.Tb(),r.Ub(15,"div",33),r.Pb(16,"hr"),r.Qb(17,26),r.Tb(),r.Pb(18,"hr"),r.Ub(19,"div",27),r.cc("click",(function(){r.Fc(t);const e=r.gc(3);return e.clickExpandCardConsumption(!e.cardExpandableValueMessages,e.bundleTypeEnum.SMS)})),r.Ub(20,"label"),r.Tc(21),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(3),e=r.Cc(13);r.Ab(2),r.nc("styleClass","vfac-card-expandable")("responsiveSize",20),r.Ab(8),r.Vc(" ",t.labelMessages," "),r.Ab(1),r.nc("ngClass",r.tc(14,ui,t.totalComsuptionTypeMessages>0)),r.Ab(1),r.Vc("",r.ic(13,8,r.kc(14,10,t.totalComsuptionTypeMessages,"EUR","symbol")),"\u20ac"),r.Ab(5),r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.vc(16,mi,t.bundleTypeEnum.SMS,t.typeComsuptionSelectMessages,t.listTotalComsuptionTypeMessages)),r.Ab(4),r.Uc(t.labelcardExpandableValueMessages)}}const Ci=function(t){return{type:t}};function yi(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,26),r.Tb()),2&t){const t=r.gc(4),e=r.Cc(15);r.Ab(1),r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.tc(2,Ci,t.bundleTypeEnum.TV))}}function Ti(t,e){if(1&t&&r.Qb(0,26),2&t){const t=r.gc(4),e=r.Cc(19);r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.tc(2,Ci,t.bundleTypeEnum.TV))}}function wi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",17,34),r.Ub(2,"mva10-c-card",19),r.Ub(3,"div",20),r.Ub(4,"span"),r.fc(),r.Ub(5,"svg",21),r.Ub(6,"title"),r.Tc(7,"Tv"),r.Tb(),r.Pb(8,"use",35),r.Tb(),r.ec(),r.Ub(9,"label",23),r.Tc(10),r.Tb(),r.Tb(),r.Ub(11,"label",24),r.Tc(12),r.hc(13,"sliceCurrencyRoundZero"),r.hc(14,"currency"),r.Tb(),r.Tb(),r.Ub(15,"div",36),r.Pb(16,"hr"),r.Rc(17,yi,2,4,"div",7),r.Rc(18,Ti,1,4,"ng-template",null,37,r.Sc),r.Tb(),r.Pb(20,"hr"),r.Ub(21,"div",27),r.cc("click",(function(){r.Fc(t);const e=r.gc(3);return e.clickExpandCardConsumption(!e.cardExpandableValueTv,e.bundleTypeEnum.TV)})),r.Ub(22,"label"),r.Tc(23),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.Cc(19),e=r.gc(3);r.Ab(2),r.nc("styleClass","vfac-card-expandable")("responsiveSize",20),r.Ab(8),r.Vc(" ",e.labelTv," "),r.Ab(1),r.nc("ngClass",r.tc(14,ui,e.totalComsuptionTypeTv>0)),r.Ab(1),r.Vc("",r.ic(13,8,r.kc(14,10,e.totalComsuptionTypeTv,"EUR","symbol")),"\u20ac"),r.Ab(5),r.nc("ngIf",e.listTotalComsuptionTypeTv.length>0)("ngIfElse",t),r.Ab(6),r.Uc(e.labelcardExpandableValueTv)}}function Oi(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,fi,22,20,"div",16),r.hc(2,"consumptionCheckCards"),r.Rc(3,vi,22,20,"div",16),r.hc(4,"consumptionCheckCards"),r.Rc(5,_i,22,20,"div",16),r.hc(6,"consumptionCheckCards"),r.Rc(7,wi,24,16,"div",16),r.hc(8,"consumptionCheckCards"),r.Tb()),2&t){const t=r.gc(2);r.Ab(1),r.nc("ngIf",r.jc(2,4,t.serviceSelectComsuption,t.bundleTypeEnum.Voice)),r.Ab(2),r.nc("ngIf",r.jc(4,7,t.serviceSelectComsuption,t.bundleTypeEnum.Data)),r.Ab(2),r.nc("ngIf",r.jc(6,10,t.serviceSelectComsuption,t.bundleTypeEnum.SMS)),r.Ab(2),r.nc("ngIf",r.jc(8,13,t.serviceSelectComsuption,t.bundleTypeEnum.TV))}}function Pi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mva10-c-card",38),r.Ub(1,"div",39),r.Ub(2,"ng-lottie",40),r.cc("animationCreated",(function(e){return r.Fc(t),r.gc(2).handleAnimation(e)})),r.Tb(),r.Ub(3,"span"),r.Tc(4),r.hc(5,"translate"),r.Tb(),r.Ub(6,"span"),r.Tc(7),r.hc(8,"translate"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.nc("responsiveSize",20),r.Ab(2),r.nc("options",t.lottieConfig)("width",100)("height",100),r.Ab(2),r.Uc(r.ic(5,6,"v10.billing.comsuption.titleError")),r.Ab(3),r.Uc(r.ic(8,8,"v10.billing.comsuption.descError"))}}function xi(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,Oi,9,16,"div",7),r.Rc(2,Pi,9,10,"ng-template",null,15,r.Sc),r.Tb()),2&t){const t=r.Cc(3),e=r.gc();r.Ab(1),r.nc("ngIf",!e.errorComsuption)("ngIfElse",t)}}function Mi(t,e){if(1&t&&r.Qb(0,41),2&t){r.gc();const t=r.Cc(21);r.nc("ngTemplateOutlet",t)}}function Si(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,26),r.Tb()),2&t){const t=r.gc(2).type;r.gc();const e=r.Cc(15);r.Ab(1),r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.tc(2,Ci,t))}}const Di=function(t){return{select:t}};function ki(t,e){if(1&t&&r.Qb(0,26),2&t){const t=r.gc(2).select;r.gc();const e=r.Cc(17);r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.tc(2,Di,t))}}function Bi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"div",42),r.Ub(2,"span",43),r.cc("click",(function(){r.Fc(t);const e=r.gc().type,i=r.gc();return i.changeSelectComsuption(i.constants.typeTabsComsuption.todo,e)})),r.Ub(3,"label"),r.Tc(4),r.hc(5,"translate"),r.Tb(),r.Tb(),r.Ub(6,"span",43),r.cc("click",(function(){r.Fc(t);const e=r.gc().type,i=r.gc();return i.changeSelectComsuption(i.constants.typeTabsComsuption.incluido,e)})),r.Ub(7,"label"),r.Tc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Ub(10,"span",43),r.cc("click",(function(){r.Fc(t);const e=r.gc().type,i=r.gc();return i.changeSelectComsuption(i.constants.typeTabsComsuption.fuera,e)})),r.Ub(11,"label"),r.Tc(12),r.hc(13,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Rc(14,Si,2,4,"div",7),r.Rc(15,ki,1,4,"ng-template",null,44,r.Sc),r.Tb()}if(2&t){const t=r.Cc(16),e=r.gc(),i=e.select,n=e.type,a=r.gc();r.Ab(2),r.nc("ngClass",i===a.constants.typeTabsComsuption.todo?"card-expandable-consumption__badge--blue":"card-expandable-consumption__badge--grey"),r.Ab(2),r.Uc(r.ic(5,8,"v10.billing.comsuption.labelAll")),r.Ab(2),r.nc("ngClass",i===a.constants.typeTabsComsuption.incluido?"card-expandable-consumption__badge--blue":"card-expandable-consumption__badge--grey"),r.Ab(2),r.Uc(r.ic(9,10,"v10.billing.comsuption.labelInclude")),r.Ab(2),r.nc("ngClass",i===a.constants.typeTabsComsuption.fuera?"card-expandable-consumption__badge--blue":"card-expandable-consumption__badge--grey"),r.Ab(2),r.Uc(r.ic(13,12,"v10.billing.comsuption.labelExtra")),r.Ab(2),r.nc("ngIf",(null==a.consumptionList[n]?null:a.consumptionList[n].length)>0)("ngIfElse",t)}}function Ai(t,e){if(1&t&&r.Qb(0,26),2&t){const t=r.gc().type;r.gc();const e=r.Cc(19);r.nc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.tc(2,Ci,t))}}function Ui(t,e){if(1&t&&(r.Rc(0,Bi,17,14,"div",7),r.Rc(1,Ai,1,4,"ng-template",null,37,r.Sc)),2&t){const t=e.listTotalComsuptionType,i=r.Cc(2);r.nc("ngIf",t.length>0)("ngIfElse",i)}}function Vi(t,e){if(1&t&&(r.Ub(0,"div",53),r.Ub(1,"label",54),r.Tc(2),r.hc(3,"formatDate"),r.Tb(),r.Tb()),2&t){const t=r.gc().$implicit,e=r.gc(2);r.Ab(2),r.Uc(r.kc(3,1,t.timePeriod.startDateTime,e.constants.DatePipeFormat.fullDayAndMonth,e.constants.DatePipeFormat.timezoneDate))}}function Ii(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"label"),r.Tc(2),r.hc(3,"consumptionParseDuration"),r.Tb(),r.Rb()),2&t){const t=r.gc().$implicit,e=r.gc().type;r.Ab(2),r.Uc(r.jc(3,1,t,e))}}function Hi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"sp-tooltip-modal",57),r.fc(),r.Ub(1,"svg",58),r.cc("click",(function(){r.Fc(t);const e=r.gc(2).$implicit,i=r.gc().type;return r.gc().moreInfoIconClicked(e,i)})),r.Ub(2,"title"),r.Tc(3,"Info"),r.Tb(),r.Pb(4,"use",59),r.Tb(),r.ec(),r.Ub(5,"div",60),r.Pb(6,"p",61),r.Ub(7,"div",62),r.Ub(8,"a",63),r.cc("click",(function(){r.Fc(t);const e=r.gc(2).$implicit,i=r.gc().type;return r.gc().showMoreInfoHelp(e,i)})),r.Tc(9),r.hc(10,"translate"),r.Tb(),r.Ub(11,"mva10-c-button",64),r.cc("click",(function(){r.Fc(t);const e=r.gc(2).$implicit,i=r.gc().type;return r.gc().manageMoreInfo(e,i)})),r.hc(12,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2).$implicit;r.nc("showAsOverlay",!1),r.Ab(6),r.nc("innerHTML",t.moreInfo.description,r.Gc),r.Ab(3),r.Uc(r.ic(10,5,"v10.billing.comsuption.moreInfo.helpLink")),r.Ab(2),r.nc("styleClass","mva10-c-button--small")("body",r.ic(12,7,"v10.billing.comsuption.moreInfo.manageButton"))}}function Li(t,e){if(1&t&&(r.Ub(0,"div",55),r.Ub(1,"label"),r.Tc(2),r.Tb(),r.Rc(3,Hi,13,9,"sp-tooltip-modal",56),r.Tb()),2&t){const t=r.gc().$implicit;r.Ab(2),r.Uc(t.description),r.Ab(1),r.nc("ngIf",null==t.moreInfo?null:t.moreInfo.description)}}function Ei(t,e){if(1&t&&(r.Ub(0,"div",46),r.Rc(1,Vi,4,5,"div",47),r.hc(2,"consumptionSeparatorDay"),r.Ub(3,"div",48),r.Ub(4,"label"),r.Tc(5),r.hc(6,"consumptionParseDestination"),r.Tb(),r.Ub(7,"label",49),r.Tc(8),r.hc(9,"sliceCurrencyRoundZero"),r.hc(10,"currency"),r.Tb(),r.Tb(),r.Ub(11,"div",50),r.Ub(12,"label"),r.Tc(13),r.hc(14,"formatDate"),r.Tb(),r.Rc(15,Ii,4,4,"ng-container",51),r.hc(16,"consumptionParseDuration"),r.Tb(),r.Rc(17,Li,4,2,"div",52),r.Tb()),2&t){const t=e.$implicit,i=e.index,n=r.gc().type,a=r.gc();r.Ab(1),r.nc("ngIf",r.jc(2,7,t,a.consumptionList[n][i-1])),r.Ab(4),r.Uc(r.kc(6,10,t,n,null==a.serviceSelectComsuption?null:a.serviceSelectComsuption.id)),r.Ab(2),r.nc("ngClass",r.tc(27,ui,t.amount>0)),r.Ab(1),r.Vc("",r.ic(9,14,r.kc(10,16,t.amount,"EUR","symbol")),"\u20ac"),r.Ab(5),r.Uc(r.kc(14,20,t.timePeriod.startDateTime,a.constants.DatePipeFormat.timeFullHour,a.constants.DatePipeFormat.timezoneDate)),r.Ab(2),r.nc("ngIf",r.jc(16,24,t,n)),r.Ab(2),r.nc("ngIf",t.description&&(n===a.bundleTypeEnum.Data&&t.moreInfo||t.amount>0))}}function Ri(t,e){if(1&t&&r.Rc(0,Ei,18,29,"div",45),2&t){const t=e.type,i=r.gc();r.nc("ngForOf",i.consumptionList[t])}}function Fi(t,e){if(1&t&&(r.Ub(0,"div",39),r.Pb(1,"img",66),r.Ub(2,"span"),r.Tc(3),r.Tb(),r.Ub(4,"span"),r.Tc(5),r.Tb(),r.Tb()),2&t){const t=r.gc().select,e=r.gc();r.Ab(1),r.nc("src",e.emptyImage,r.Jc),r.Ab(2),r.Uc(e.emptyTabConsumptionTexts[t][0]),r.Ab(2),r.Uc(e.emptyTabConsumptionTexts[t][1])}}function Wi(t,e){if(1&t&&r.Rc(0,Fi,6,3,"div",65),2&t){const t=r.gc();r.nc("ngIf",t.emptyTabConsumptionTexts)}}function Ni(t,e){if(1&t&&(r.Ub(0,"div",39),r.Pb(1,"img",66),r.Ub(2,"span"),r.Tc(3),r.hc(4,"translate"),r.Tb(),r.Ub(5,"span"),r.Tc(6),r.Tb(),r.Tb()),2&t){const t=r.gc().type,e=r.gc();r.Ab(1),r.nc("src",e.emptyImage,r.Jc),r.Ab(2),r.Uc(r.ic(4,3,"v10.billing.comsuption.titleEmpty")),r.Ab(3),r.Uc(e.emptyBundleTexts[t])}}function ji(t,e){if(1&t&&r.Rc(0,Ni,7,5,"div",65),2&t){const t=r.gc();r.nc("ngIf",t.emptyBundleTexts)}}function $i(t,e){1&t&&(r.Ub(0,"div",67),r.Ub(1,"div",68),r.Pb(2,"div",69),r.Pb(3,"div",69),r.Pb(4,"div",69),r.Tb(),r.Tb())}let zi=(()=>{class t{constructor(t,e,i,n,a,l,s,o,c,d,g,p,b,h,u,m){this.appTheme=t,this.subscriptionData=e,this.translate=i,this.serviceBalance=n,this.taggingHelper=a,this.billingService=l,this.utilitiesService=s,this.storage=o,this.bubbleHelpService=c,this.authenticateService=d,this.checkCardsPipe=g,this.router=p,this.lineService=b,this.serviceSettingsService=h,this.deepLinkingService=u,this.customerAccountService=m,this.overlayData=new x.R,this.cardExpandableValueCalls=!0,this.cardExpandableValueInternet=!0,this.cardExpandableValueMessages=!0,this.cardExpandableValueTv=!0,this.loadComsuption=!1,this.errorComsuption=!1,this.totalComsuptionTypeCalls=0,this.totalComsuptionTypeInternet=0,this.totalComsuptionTypeMessages=0,this.totalComsuptionTypeTv=0,this.arrayPostpaid=[],this.arrayLandline=[],this.arrayTv=[],this.selectorListLoaded=!0,this.consumptionList={[U.a.Voice]:[],[U.a.Data]:[],[U.a.SMS]:[],[U.a.TV]:[]},this.showComsuptionOverlay=!1,this.closeComsuptionOverlay=new r.n,this.appTheme.showFullAppLoader=!1}get constants(){return o}get bundleTypeEnum(){return U.a}ngOnInit(){this.overlayData=new x.R,this.overlayData.isScrollableTray=!0,this.resetTextExpand(),this.selectorData=new x.X,this.selectorData.cardImageSelectorList=new Array,this.billingService.selectedBill.subscriptions.forEach(t=>{this.mapServiceSelector(t,t.type)}),this.orderServicesArrays(),this.resetConsumptionList(),this.getComsuption(this.serviceId)}getComsuption(t){if(t){this.serviceSelectComsuption=this.billingService.selectedBill.subscriptions.find(e=>e.id===t);const e=this.selectorData.cardImageSelectorList.find(e=>e.id===t);e?e.checked=!0:this.selectorData.cardImageSelectorList[0].checked=!0}else this.serviceSelectComsuption=this.billingService.selectedBill.subscriptions.find(t=>t.id===this.selectorData.cardImageSelectorList[0].id),this.selectorData.cardImageSelectorList[0].checked=!0;this.selectorStartAtIndex=this.selectorData.cardImageSelectorList.findIndex(t=>t.checked),this.getTranslateTextComsuption(),this.errorComsuption=!1,this.loadComsuption=!1,this.billingService.GetBillDetailsServiceUsages(this.billingService.selectedBill.id,this.serviceSelectComsuption.id).subscribe(t=>{this.listComsuption=this.filterDescriptionsToShow(t),this.updateConsumptionList(),this.checkTotalComsuptionType(),this.sendViewInitComsuption(),this.loadComsuption=!0,this.initSelection()},t=>{this.errorComsuption=!0,this.loadComsuption=!0,this.sendViewInitComsuptionError()})}initSelection(){this.detailToExpand&&setTimeout(()=>{switch(this.detailToExpand){case U.b.NonZero:this.expandNonZeroCardConsumption(this.badgeToSelect);break;case U.b.OneOobTypeOnly:this.expandIfOnlyOneOobConsumptionType(this.badgeToSelect);break;default:this.clickExpandCardConsumption(!1,this.detailToExpand,!0),this.badgeToSelect&&this.changeSelectComsuption(this.badgeToSelect,this.detailToExpand,!0)}this.detailToExpand=null,this.badgeToSelect=null},500)}getDateCycle(t){const e=new Date(t.billingCycle.startDate),i=new Date(t.billingCycle.endDate);return`${e.getDate()} ${this.utilitiesService.getMonthName((e.getMonth()+1).toString(),!0)} -\n     ${i.getDate()} ${this.utilitiesService.getMonthName((i.getMonth()+1).toString(),!0)}`}getTranslateTextComsuption(){this.translate.get("v10.billing").subscribe(t=>{this.overlayData.title=t.comsuption.titlePage,this.labelButtonCollapse=t.comsuption.openExpand,this.labelButtonExpanded=t.comsuption.closeExpand,this.labelCalls=t.comsuption.labelCalls,this.labelData=t.comsuption.labelData,this.labelMessages=t.comsuption.labelSms,this.labelTv=t.comsuption.labelTv,this.labelInternet=t.comsuption.labelInternet,this.labelDescEmptyComsuption=t.comsuption.descEmpty,this.dataWCSComsuption=t.comsuption,this.labelcardExpandableValueCalls=this.labelButtonCollapse,this.labelcardExpandableValueInternet=this.labelButtonCollapse,this.labelcardExpandableValueMessages=this.labelButtonCollapse,this.labelcardExpandableValueTv=this.labelButtonCollapse,this.lottieConfig={path:this.appTheme.getImgFullPath(t.comsuption.iconError),autoplay:!0,loop:!0},this.monthTitle=this.billingService.getMonthFromBillingCycle(this.billingService.selectedBill),this.dateTitle=this.getDateCycle(this.billingService.selectedBill),this.initEmptyTexts()})}sendViewInitComsuption(){switch(this.serviceSelectComsuption.type.trim().toLowerCase()){case _.a.Mobile.toLowerCase().trim():case _.a.Postpaid.toLowerCase().trim():p.a.BillingVf10.comsuption.postpaid.view.client_billing_id=p.a.BillingVf10.Landing.view.client_billing_id,p.a.BillingVf10.comsuption.postpaid.view.client_billing_type=p.a.BillingVf10.Landing.view.client_billing_type,this.taggingHelper.view(null,p.a.BillingVf10.comsuption.postpaid.view),this.taggingComsuption=p.a.BillingVf10.comsuption.postpaid;break;case _.a.Landline.toLowerCase().trim():p.a.BillingVf10.comsuption.landline.view.client_billing_id=p.a.BillingVf10.Landing.view.client_billing_id,p.a.BillingVf10.comsuption.landline.view.client_billing_type=p.a.BillingVf10.Landing.view.client_billing_type,this.taggingHelper.view(null,p.a.BillingVf10.comsuption.landline.view),this.taggingComsuption=p.a.BillingVf10.comsuption.landline;break;case _.a.Tv.toLowerCase().trim():p.a.BillingVf10.comsuption.tv.view.client_billing_id=p.a.BillingVf10.Landing.view.client_billing_id,p.a.BillingVf10.comsuption.tv.view.client_billing_type=p.a.BillingVf10.Landing.view.client_billing_type,this.taggingHelper.view(null,p.a.BillingVf10.comsuption.tv.view),this.taggingComsuption=p.a.BillingVf10.comsuption.tv}}sendViewInitComsuptionError(){let t;switch(this.serviceSelectComsuption.type.trim().toLowerCase()){case _.a.Mobile.toLowerCase().trim():case _.a.Postpaid.toLowerCase().trim():t=Object.assign({},p.a.BillingVf10.comsuption.postpaid.view);break;case _.a.Landline.toLowerCase().trim():t=Object.assign({},p.a.BillingVf10.comsuption.landline.view);break;case _.a.Tv.toLowerCase().trim():t=Object.assign({},p.a.BillingVf10.comsuption.tv.view)}t.error_category=p.a.BillingVf10.labels.server_error,t.error_descripcion=p.a.BillingVf10.labels.server_error_desc,this.taggingHelper.view(null,t)}clickExpandCardConsumption(t,e,i=!1){let n,a,l="";switch(e){case U.a.Voice:l="cardExpandCallsId",n=this.cardVoice,a=this.taggingComsuption.clickCalls,this.cardExpandableValueCalls=t,this.labelcardExpandableValueCalls=t?this.labelButtonCollapse:this.labelButtonExpanded;break;case U.a.Data:l="cardExpandInternetId",n=this.cardData,a=this.taggingComsuption.clickInternet,this.cardExpandableValueInternet=t,this.labelcardExpandableValueInternet=t?this.labelButtonCollapse:this.labelButtonExpanded;break;case U.a.SMS:l="cardExpandMessagesId",n=this.cardSMS,a=this.taggingComsuption.clickMessages,this.cardExpandableValueMessages=t,this.labelcardExpandableValueMessages=t?this.labelButtonCollapse:this.labelButtonExpanded;break;case U.a.TV:l="cardExpandTvId",n=this.cardTV,a=this.taggingComsuption.clickTV,this.cardExpandableValueTv=t,this.labelcardExpandableValueTv=t?this.labelButtonCollapse:this.labelButtonExpanded}if(t)$("#"+l).slideUp(300);else if($("#"+l).slideDown(300),setTimeout(()=>n.nativeElement.scrollIntoView({behavior:"smooth",block:"start"}),300),!i){const t=Object.assign({},this.taggingComsuption.view),e=Object.assign(t,a.data);this.taggingHelper.track(a.eventName,e)}this.updateConsumptionList()}expandNonZeroCardConsumption(t){this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.TV)&&this.totalComsuptionTypeTv>0&&(this.clickExpandCardConsumption(!1,U.a.TV,!0),t&&this.changeSelectComsuption(t,U.a.TV,!0)),this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.SMS)&&this.totalComsuptionTypeMessages>0&&(this.clickExpandCardConsumption(!1,U.a.SMS,!0),t&&this.changeSelectComsuption(t,U.a.SMS,!0)),this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.Data)&&this.totalComsuptionTypeInternet>0&&(this.clickExpandCardConsumption(!1,U.a.Data,!0),t&&this.changeSelectComsuption(t,U.a.Data,!0)),this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.Voice)&&this.totalComsuptionTypeCalls>0&&(this.clickExpandCardConsumption(!1,U.a.Voice,!0),t&&this.changeSelectComsuption(t,U.a.Voice,!0))}expandIfOnlyOneOobConsumptionType(t){let e,i=0;this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.Voice)&&this.totalComsuptionTypeCalls>0&&(i++,e=U.a.Voice),this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.Data)&&this.totalComsuptionTypeInternet>0&&(i++,e=U.a.Data),this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.SMS)&&this.totalComsuptionTypeMessages>0&&(i++,e=U.a.SMS),this.checkCardsPipe.transform(this.serviceSelectComsuption,U.a.TV)&&this.totalComsuptionTypeTv>0&&(i++,e=U.a.TV),1===i&&(this.clickExpandCardConsumption(!1,e,!0),t&&this.changeSelectComsuption(t,e,!0))}changeSelectComsuption(t,e,i=!1){if(e===U.a.Voice?this.typeComsuptionSelectCalls=t:e===U.a.Data?this.typeComsuptionSelectInternet=t:e===U.a.SMS&&(this.typeComsuptionSelectMessages=t),!i){const e=Object.assign({},this.taggingComsuption.view);let i;switch(t){case o.typeTabsComsuption.todo:i=Object.assign(e,this.taggingComsuption.clickTodo.data),this.taggingHelper.track(this.taggingComsuption.clickIncluido.eventName,i);break;case o.typeTabsComsuption.incluido:i=Object.assign(e,this.taggingComsuption.clickIncluido.data),this.taggingHelper.track(this.taggingComsuption.clickFuera.eventName,i);break;case o.typeTabsComsuption.fuera:i=Object.assign(e,this.taggingComsuption.clickFuera.data),this.taggingHelper.track(this.taggingComsuption.clickTodo.eventName,i)}}this.updateConsumptionList()}resetTextExpand(){this.cardExpandableValueCalls=!0,this.cardExpandableValueInternet=!0,this.cardExpandableValueMessages=!0,this.cardExpandableValueTv=!0,this.labelcardExpandableValueCalls=this.labelButtonCollapse,this.labelcardExpandableValueInternet=this.labelButtonCollapse,this.labelcardExpandableValueMessages=this.labelButtonCollapse,this.labelcardExpandableValueTv=this.labelButtonCollapse,this.typeComsuptionSelectCalls=o.typeTabsComsuption.todo,this.typeComsuptionSelectInternet=o.typeTabsComsuption.todo,this.typeComsuptionSelectMessages=o.typeTabsComsuption.todo}closeExpandCards(){$("#cardExpandCallsId").slideUp(0),$("#cardExpandInternetId").slideUp(0),$("#cardExpandMessagesId").slideUp(0),$("#cardExpandTvId").slideUp(0)}closeOverlay(t){if(this.closeExpandCards(),this.showComsuptionOverlay=!1,setTimeout(()=>{this.closeComsuptionOverlay.emit()},500),t)return;let e,i;switch(this.serviceSelectComsuption.type.trim().toLowerCase()){case _.a.Mobile.toLowerCase().trim():case _.a.Postpaid.toLowerCase().trim():e=Object.assign({},p.a.BillingVf10.comsuption.postpaid.view),i=Object.assign(e,p.a.BillingVf10.comsuption.postpaid.clickCloseConsumptionOverlay.data),this.taggingHelper.track(p.a.BillingVf10.comsuption.postpaid.clickCloseConsumptionOverlay.eventName,i);break;case _.a.Landline.toLowerCase().trim():e=Object.assign({},p.a.BillingVf10.comsuption.landline.view),i=Object.assign(e,p.a.BillingVf10.comsuption.landline.clickCloseConsumptionOverlay.data),this.taggingHelper.track(p.a.BillingVf10.comsuption.landline.clickCloseConsumptionOverlay.eventName,i);break;case _.a.Tv.toLowerCase().trim():e=Object.assign({},p.a.BillingVf10.comsuption.tv.view),i=Object.assign(e,p.a.BillingVf10.comsuption.tv.clickCloseConsumptionOverlay.data),this.taggingHelper.track(p.a.BillingVf10.comsuption.tv.clickCloseConsumptionOverlay.eventName,i)}}selectorCardServiceClicked(t,e){this.serviceSelectComsuption=this.billingService.selectedBill.subscriptions.find(e=>e.id===t),this.selectorData.cardImageSelectorList.forEach(e=>{e.checked=!1,e.id===t&&(e.checked=!0)}),this.closeExpandCards(),this.resetTextExpand(),this.loadComsuption=!1,this.errorComsuption=!1,this.billingService.GetBillDetailsServiceUsages(this.billingService.selectedBill.id,this.serviceSelectComsuption.id).subscribe(t=>{this.listComsuption=this.filterDescriptionsToShow(t),this.updateConsumptionList(),this.checkTotalComsuptionType(),this.sendViewInitComsuption(),this.loadComsuption=!0},t=>{422===t.status?(this.listComsuption=[],this.resetConsumptionList(),this.checkTotalComsuptionType(),this.sendViewInitComsuption(),this.loadComsuption=!0):(this.errorComsuption=!0,this.loadComsuption=!0,this.sendViewInitComsuptionError())})}mapServiceSelector(t,e){const i=new x.g;this.translate.get("v10").subscribe(n=>{switch(e.toLowerCase().trim()){case _.a.Mobile.toLowerCase().trim():i.title=n.dashboard.overlay_outrate.mobile.postpaid,i.description=t.id,i.image=this.appTheme.getImgFullPath(n.dashboard.images.product_selector.mobile),i.id=t.id,this.arrayPostpaid.push(i);break;case _.a.Landline.toLowerCase().trim():i.title=n.common.literals.phone_C,i.description=t.id,i.image=this.appTheme.getImgFullPath(n.dashboard.images.product_selector.landline),i.id=t.id,this.arrayLandline.push(i);break;case _.a.Tv.toLowerCase().trim():i.title=n.common.literals.tv_C,i.image=this.appTheme.getImgFullPath(n.dashboard.images.product_selector.tv),i.id=t.id,this.arrayTv.push(i)}i.checked=!1})}orderServicesArrays(){this.selectorData.cardImageSelectorList.push(...this.arrayPostpaid.slice(),...this.arrayLandline.slice(),...this.arrayTv.slice())}resetConsumptionList(){this.consumptionList={[U.a.Voice]:[],[U.a.Data]:[],[U.a.SMS]:[],[U.a.TV]:[]}}updateConsumptionList(){this.consumptionList={[U.a.Voice]:this.listComsuptionFunction(U.a.Voice),[U.a.Data]:this.listComsuptionFunction(U.a.Data),[U.a.SMS]:this.listComsuptionFunction(U.a.SMS),[U.a.TV]:this.listComsuptionFunction(U.a.TV)}}listComsuptionFunction(t){let e=[];if(t===U.a.Voice)switch(this.typeComsuptionSelectCalls){case o.typeTabsComsuption.todo:e=this.listTotalComsuptionTypeCalls;break;case o.typeTabsComsuption.incluido:e=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.Voice&&!(t.amount>0));break;case o.typeTabsComsuption.fuera:e=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.Voice&&t.amount>0)}else if(t===U.a.Data)switch(this.typeComsuptionSelectInternet){case o.typeTabsComsuption.todo:e=this.listTotalComsuptionTypeInternet;break;case o.typeTabsComsuption.incluido:e=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.Data&&!(t.amount>0));break;case o.typeTabsComsuption.fuera:e=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.Data&&t.amount>0)}else if(t===U.a.SMS)switch(this.typeComsuptionSelectMessages){case o.typeTabsComsuption.todo:e=this.listTotalComsuptionTypeMessages;break;case o.typeTabsComsuption.incluido:e=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.SMS&&!(t.amount>0));break;case o.typeTabsComsuption.fuera:e=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.SMS&&t.amount>0)}else t===U.a.TV&&(e=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.TV));return e}checkTotalComsuptionType(){this.listTotalComsuptionTypeCalls=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.Voice),this.listTotalComsuptionTypeInternet=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.Data),this.listTotalComsuptionTypeMessages=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.SMS),this.listTotalComsuptionTypeTv=this.listComsuption.filter(t=>t.type.toLowerCase()===U.a.TV),this.totalComsuptionTypeCalls=0,this.totalComsuptionTypeInternet=0,this.totalComsuptionTypeMessages=0,this.totalComsuptionTypeTv=0,this.listTotalComsuptionTypeCalls.forEach(t=>{this.totalComsuptionTypeCalls+=t.amount}),this.listTotalComsuptionTypeInternet.forEach(t=>{this.totalComsuptionTypeInternet+=t.amount}),this.listTotalComsuptionTypeMessages.forEach(t=>{this.totalComsuptionTypeMessages+=t.amount}),this.listTotalComsuptionTypeTv.forEach(t=>{this.totalComsuptionTypeTv+=t.amount})}filterDescriptionsToShow(t){const e=this.translate.instant("v10.billing.comsuption.moreInfo.types");return t.map(t=>{var i,n,a;if(t.description=((null===(i=t.type)||void 0===i?void 0:i.toLowerCase())===U.a.Data||t.amount>0)&&t.description||null,t.description){const i=null===(n=Object.keys(e))||void 0===n?void 0:n.find(i=>[...e[i].matchingTexts,e[i].title].map(t=>t.toLowerCase()).includes(t.description.toLowerCase()));t.moreInfo=i?Object.assign(Object.assign({},e[i]),{type:i}):null,t.description=(null===(a=t.moreInfo)||void 0===a?void 0:a.title)||t.description}return t})}getDateComsuption(t){const e=this.utilitiesService.getDateFormatted(t).split("/"),i=this.utilitiesService.getMonthName(e[1],!1);return`${e[0]} de ${i}, ${this.utilitiesService.getTime(t)}`}initEmptyTexts(){this.emptyImage=this.appTheme.getImgFullPath(this.translate.instant("v10.billing.common.cards.empty.image")),this.emptyTabConsumptionTexts={[o.typeTabsComsuption.incluido]:[this.dataWCSComsuption.titleEmptyInclude,this.dataWCSComsuption.descEmptyInclude],[o.typeTabsComsuption.fuera]:[this.dataWCSComsuption.titleEmptyExtra,this.dataWCSComsuption.descEmptyExtra],[o.typeTabsComsuption.todo]:[]},this.emptyBundleTexts={[U.a.Voice]:this.labelDescEmptyComsuption.replace("{0}",this.labelCalls),[U.a.Data]:this.labelDescEmptyComsuption.replace("{0}",this.labelData),[U.a.SMS]:this.labelDescEmptyComsuption.replace("{0}",this.labelMessages),[U.a.TV]:this.labelDescEmptyComsuption.replace("{0}",this.labelTv)}}getLabelsComsuptionEmpty(t){const e=[];switch(t){case o.typeTabsComsuption.incluido:e.push(this.dataWCSComsuption.titleEmptyInclude),e.push(this.dataWCSComsuption.descEmptyInclude);break;case o.typeTabsComsuption.fuera:e.push(this.dataWCSComsuption.titleEmptyExtra),e.push(this.dataWCSComsuption.descEmptyExtra)}return e}getLabelEmptyComsuptionType(t){let e;return t===U.a.Voice?e=this.labelDescEmptyComsuption.replace("{0}",this.labelCalls):t===U.a.Data?e=this.labelDescEmptyComsuption.replace("{0}",this.labelData):t===U.a.SMS?e=this.labelDescEmptyComsuption.replace("{0}",this.labelMessages):t===U.a.TV&&(e=this.labelDescEmptyComsuption.replace("{0}",this.labelTv)),e}handleAnimation(t){this.anim=t}fillMoreInfoTaggingData(t,e,i){var n;const a=o.billedConsumptionServiceTagging[null===(n=this.serviceSelectComsuption.type)||void 0===n?void 0:n.toLowerCase().trim()],l=o.billedConsumptionCardTagging[null==i?void 0:i.toLowerCase().trim()];return JSON.parse(JSON.stringify(t||{}).replace(/\{service\}/g,a).replace(/\{card\}/g,l).replace(/\{type\}/g,e.description))}moreInfoIconClicked(t,e){let i=Object.assign(this.taggingComsuption.view,p.a.BillingVf10.billedConsumption.view);i=this.fillMoreInfoTaggingData(i,t,e);let n=Object.assign({},p.a.BillingVf10.billedConsumption.clickInfoIcon);n=this.fillMoreInfoTaggingData(n,t,e),this.taggingHelper.track(n.eventName,Object.assign(i,n.data));let a=Object.assign({},p.a.BillingVf10.billedConsumption.moreInfoTooltip.view);a=this.fillMoreInfoTaggingData(a,t,e),this.taggingHelper.view(null,a)}showMoreInfoHelp(t,e){var i;if(null===(i=null==t?void 0:t.moreInfo)||void 0===i?void 0:i.helpPostpaid){this.closeOverlay(!0),setTimeout(()=>{this.bubbleHelpService.showHelpIframe({url:this.authenticateService.hasRole(y.a.Authorized)?t.moreInfo.helpAuthorized:t.moreInfo.helpPostpaid,openSound:!0,openAnimation:!0})},500);let i=Object.assign(this.taggingComsuption.view,p.a.BillingVf10.billedConsumption.moreInfoTooltip.view);i=this.fillMoreInfoTaggingData(i,t,e);let n=Object.assign({},p.a.BillingVf10.billedConsumption.moreInfoTooltip.clickTooltipMoreInfoLink);n=this.fillMoreInfoTaggingData(n,t,e),this.taggingHelper.track(n.eventName,Object.assign(i,n.data))}}manageMoreInfo(t,e){var i,n,a,l,o,c;this.closeOverlay(!0);const r=null===(n=null===(i=this.subscriptionData.customerData)||void 0===i?void 0:i.services)||void 0===n?void 0:n.find(t=>t.id===this.serviceSelectComsuption.id);if(r){(null===(a=t.moreInfo)||void 0===a?void 0:a.type)===Xe.autoRedial&&(this.appTheme.showFullAppLoader=!0,this.lineService.selectedServiceId=r.id,this.lineService.selectedServiceName=r.name,this.router.navigate([s.a.LineServices.Autoredial.route])),(null===(l=t.moreInfo)||void 0===l?void 0:l.type)===Xe.dictateSMS&&(this.appTheme.showFullAppLoader=!0,this.lineService.selectedServiceId=r.id,this.lineService.selectedServiceName=r.name,this.router.navigate([s.a.LineServices.DictaSMS.route])),(null===(o=t.moreInfo)||void 0===o?void 0:o.type)===Xe.premiumSMS&&(this.appTheme.showFullAppLoader=!0,this.serviceSettingsService.selectedService=r,this.serviceSettingsService.getThirdPartyData(r.id).subscribe(t=>{this.serviceSettingsService.thirdPartyItem=t.find(t=>t.name===ni.premiumSMS),this.router.navigate([s.a.ServiceSettings.ThirdPartyDetails.route])})),(null===(c=t.moreInfo)||void 0===c?void 0:c.type)===Xe.worryFree&&(this.appTheme.showFullAppLoader=!0,this.deepLinkingService.isDeepLink=!0,this.subscriptionData.customerData.currentService=r,this.router.navigate([s.a.ProductsAndServices.worryFreeMain.route]));let i=Object.assign(this.taggingComsuption.view,p.a.BillingVf10.billedConsumption.moreInfoTooltip.view);i=this.fillMoreInfoTaggingData(i,t,e);let n=Object.assign({},p.a.BillingVf10.billedConsumption.moreInfoTooltip.clickTooltipManage);n=this.fillMoreInfoTaggingData(n,t,e),this.taggingHelper.track(n.eventName,Object.assign(i,n.data))}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(c.a),r.Ob(b.a),r.Ob(Q.e),r.Ob(u.a),r.Ob(m.a),r.Ob(f.a),r.Ob(h.a),r.Ob(O.a),r.Ob(we.a),r.Ob(M.a),r.Ob(ti),r.Ob(l.f),r.Ob(ei.a),r.Ob(ii.a),r.Ob(ai.a),r.Ob(P.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["sp-comsuption-billing-vf10"]],viewQuery:function(t,e){var i;1&t&&(r.ad(di,!0),r.ad(gi,!0),r.ad(pi,!0),r.ad(bi,!0)),2&t&&(r.Bc(i=r.dc())&&(e.cardVoice=i.first),r.Bc(i=r.dc())&&(e.cardData=i.first),r.Bc(i=r.dc())&&(e.cardSMS=i.first),r.Bc(i=r.dc())&&(e.cardTV=i.first))},inputs:{serviceId:"serviceId",showComsuptionOverlay:"showComsuptionOverlay",detailToExpand:"detailToExpand",badgeToSelect:"badgeToSelect"},outputs:{closeComsuptionOverlay:"closeComsuptionOverlay"},decls:22,vars:9,consts:[[3,"overlayData","show","loaded","greyMode","closed"],["header",""],[1,"billingvf10__subtitle"],[1,"month"],["body","",1,"card-expandable-consumption"],[1,"card-expandable-consumption__selector-type"],["overlay","",3,"selectorData","listLoaded","startAtIndex","cardClickEvent",4,"ngIf"],[4,"ngIf","ngIfElse"],["skeletonComsuption",""],["sectionTypeComsuptionTemplate",""],["sectionListComsuptionTemplate",""],["emptyComsuptionSelectTemplate",""],["emptyComsuptionTypeTemplate",""],["billSkeleton",""],["overlay","",3,"selectorData","listLoaded","startAtIndex","cardClickEvent"],["errorComsuptionTemplate",""],["class","card-expandable-consumption__card",4,"ngIf"],[1,"card-expandable-consumption__card"],["cardVoice",""],[3,"styleClass","responsiveSize"],[1,"card-expandable-consumption__desc_item"],[1,"icon"],[0,"xlink","href","#icon-call-log"],[1,"titleCaseCapitalize","mva10-u--ml4x"],[1,"billingvf10--font-family-rg-bold",3,"ngClass"],["id","cardExpandCallsId",1,"billingvf10--hidden"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"vfac-card-expandable__label","cursor-pointer",3,"click"],["cardData",""],[0,"xlink","href","#icon-broadband-or-wifi"],["id","cardExpandInternetId",1,"billingvf10--hidden"],["cardSMS",""],[0,"xlink","href","#icon-sms"],["id","cardExpandMessagesId",1,"billingvf10--hidden"],["cardTV",""],[0,"xlink","href","#icon-tv"],["id","cardExpandTvId",1,"billingvf10--hidden"],["emptyComsuptionType",""],[3,"responsiveSize"],[1,"billing-vf10-empty"],[3,"options","width","height","animationCreated"],[3,"ngTemplateOutlet"],[1,"billingvf10--display-flex"],[1,"card-expandable-consumption__badge","cursor-pointer",3,"ngClass","click"],["emptyComsuptionSelect",""],["class","card-expandable-consumption__section",4,"ngFor","ngForOf"],[1,"card-expandable-consumption__section"],["class","card-expandable-consumption__item card-expandable-consumption__item--separator-day",4,"ngIf"],[1,"card-expandable-consumption__item"],[3,"ngClass"],[1,"card-expandable-consumption__item-time"],[4,"ngIf"],["class","card-expandable-consumption__item-more-info",4,"ngIf"],[1,"card-expandable-consumption__item","card-expandable-consumption__item--separator-day"],[1,"titleUpperCase"],[1,"card-expandable-consumption__item-more-info"],[3,"showAsOverlay",4,"ngIf"],[3,"showAsOverlay"],["tooltipButton","",1,"icon",3,"click"],[0,"xlink","href","#icon-info-circle"],["tooltipContent",""],[1,"mva10-u--body",3,"innerHTML"],[1,"links-container"],[1,"mva10-u--body",3,"click"],[3,"styleClass","body","click"],["class","billing-vf10-empty",4,"ngIf"],["alt","card",3,"src"],[1,"skeleton-billing"],[1,"vfes-box-shadow","skeleton-wrapper-section","skeleton-billing__card"],[1,"skeleton"]],template:function(t,e){if(1&t&&(r.Ub(0,"vfac-overlay",0),r.cc("closed",(function(){return e.closeOverlay()})),r.Ub(1,"div",1),r.Ub(2,"label",2),r.Ub(3,"span",3),r.Tc(4),r.Tb(),r.Tc(5),r.Tb(),r.Tb(),r.Ub(6,"div",4),r.Ub(7,"div",5),r.Rc(8,hi,1,3,"vfac-selector",6),r.Tb(),r.Rc(9,xi,4,2,"div",7),r.Rc(10,Mi,1,1,"ng-template",null,8,r.Sc),r.Tb(),r.Tb(),r.Rc(12,Ui,3,2,"ng-template",null,9,r.Sc),r.Rc(14,Ri,1,1,"ng-template",null,10,r.Sc),r.Rc(16,Wi,1,1,"ng-template",null,11,r.Sc),r.Rc(18,ji,1,1,"ng-template",null,12,r.Sc),r.Rc(20,$i,5,0,"ng-template",null,13,r.Sc)),2&t){const t=r.Cc(11);r.nc("overlayData",e.overlayData)("show",e.showComsuptionOverlay)("loaded",!0)("greyMode",!0),r.Ab(4),r.Uc(e.monthTitle),r.Ab(1),r.Vc(" ",e.dateTitle," "),r.Ab(3),r.nc("ngIf",e.selectorData),r.Ab(1),r.nc("ngIf",e.loadComsuption)("ngIfElse",t)}},directives:[x.Hb,n.t,x.rb,it.s,n.q,n.A,nt.b,n.s,li.a,it.o],pipes:[ti,lt.a,n.d,Q.d,si,oi,Z.a,ri],styles:['.card-expandable-consumption__selector-type[_ngcontent-%COMP%]{background-color:#fff;margin:-16px -16px 16px;padding:16px 16px 0}@media screen and (min-width:769px){.card-expandable-consumption__selector-type[_ngcontent-%COMP%]{margin:-20px -20px 16px;padding:16px 20px 0}}.card-expandable-consumption__card[_ngcontent-%COMP%]{padding-top:16px}.card-expandable-consumption__card[_ngcontent-%COMP%]:first-child{padding-top:0}.card-expandable-consumption__card[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.card-expandable-consumption__desc_item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.card-expandable-consumption__desc_item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}.card-expandable-consumption__desc_item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px}.card-expandable-consumption__badge[_ngcontent-%COMP%]{border-radius:16px;display:flex;margin-left:8px}.card-expandable-consumption__badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:5px 14px;line-height:1.38}@media screen and (min-width:769px){.card-expandable-consumption__badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px}}.card-expandable-consumption__badge--grey[_ngcontent-%COMP%]{background-color:#ebebeb}.card-expandable-consumption__badge--grey[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333}.card-expandable-consumption__badge--blue[_ngcontent-%COMP%]{background-color:#007c92}.card-expandable-consumption__badge--blue[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.card-expandable-consumption__badge[_ngcontent-%COMP%]:first-child{margin-left:0}.card-expandable-consumption__item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:16px}.card-expandable-consumption__item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.38}.card-expandable-consumption__item--separator-day[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999;font-family:VodafoneRegularBold;font-size:14px}@media screen and (min-width:769px){.card-expandable-consumption__item--separator-day[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}}.card-expandable-consumption__item-time[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.card-expandable-consumption__item-time[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-family:VodafoneRegular;color:#666}.card-expandable-consumption__item-time[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"|";margin:0 6px;color:#ccc}.card-expandable-consumption__item-more-info[_ngcontent-%COMP%]{display:flex;align-items:flex-end;margin-top:4px}.card-expandable-consumption__item-more-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-family:VodafoneRegular;color:#666}.card-expandable-consumption__item-more-info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer;width:18px;height:18px;margin-left:4px}.card-expandable-consumption__item-more-info[_ngcontent-%COMP%]   .links-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between}.card-expandable-consumption__item-more-info[_ngcontent-%COMP%]   .links-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline!important;margin-right:16px}.card-expandable-consumption__section[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.icon[_ngcontent-%COMP%]{font-size:32px;height:30px;width:30px}',".billingvf10[_ngcontent-%COMP%]{background-color:#f4f4f4}.billingvf10__title-page[_ngcontent-%COMP%]{letter-spacing:.8px;text-align:center;color:#fff}.billingvf10__wrapper[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:0 20px 40px}@media screen and (max-width:769px){.billingvf10__wrapper[_ngcontent-%COMP%]{width:100%!important;min-width:100%!important;padding:0 16px 32px}}.billingvf10__title[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10__subtitle[_ngcontent-%COMP%]{font-family:VodafoneRegular;color:#666}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:22px}@media screen and (min-width:769px){.billingvf10__subtitle[_ngcontent-%COMP%]{font-size:18px}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:24px}}.billingvf10--width100[_ngcontent-%COMP%]{width:100%}.billingvf10--hidden[_ngcontent-%COMP%]{display:none}.billingvf10--opacity[_ngcontent-%COMP%]{opacity:.6}.billingvf10--margin-0-auto[_ngcontent-%COMP%]{margin:0 auto}.billingvf10--margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.billingvf10--margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.billingvf10--margin-right-8[_ngcontent-%COMP%]{margin-right:8px}.billingvf10--margin-right-16[_ngcontent-%COMP%]{margin-right:16px}.billingvf10--margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:16px}.billingvf10--margin-top-90[_ngcontent-%COMP%]{margin-top:90px}.billingvf10--margin-top-80[_ngcontent-%COMP%]{margin-top:80px}.billingvf10--margin-left-40[_ngcontent-%COMP%]{margin-left:40px}.billingvf10--margin-left-24[_ngcontent-%COMP%]{margin-left:24px}.billingvf10--text-align-right[_ngcontent-%COMP%]{text-align:right}.billingvf10--font-family-rg-bold[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10--display-flex[_ngcontent-%COMP%]{display:flex}.billingvf10--red[_ngcontent-%COMP%]{color:#e60000}.billing-vf10-empty[_ngcontent-%COMP%]{padding:8px 24px 24px;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:VodafoneRegular;font-size:1rem;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#333}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700;line-height:1.33}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){font-weight:400;line-height:1.38;text-align:center}.billing-vf10-empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24vmin;height:24vmin}.vfac-card-expandable__label[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.22;text-align:center;color:#e60000}.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#ebebeb;margin-bottom:16px}@media screen and (min-width:769px){.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:20px}}.skeleton-wrapper-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:placeholderSkeleton 2s linear infinite forwards;animation:placeholderSkeleton 2s linear infinite forwards;background:#ccc;background-image:linear-gradient(90deg,#ccc 0,#f3f3f3 20%,#ccc 40%,#ccc);background-image:-webkit-linear-gradient(left,#ccc,#f3f3f3 20%,#ccc 40%,#ccc);background-repeat:no-repeat;background-size:800px 250px;position:relative;display:block}.skeleton-wrapper-section[_ngcontent-%COMP%]{-webkit-animation-name:skeletonAnimate;animation-name:skeletonAnimate;background-repeat:repeat;background-size:50% auto;background-color:#fff}@-webkit-keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@-webkit-keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}@keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}.skeleton-billing__title[_ngcontent-%COMP%]{width:80%}.skeleton-billing__title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:12px;margin-bottom:24px}.skeleton-billing__card[_ngcontent-%COMP%]{height:127px;padding-top:1px;padding-left:16px;padding-right:16px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px;height:143px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{height:12px;width:50%;margin-top:20px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{margin-top:24px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){height:12px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){margin-top:16px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){height:40px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){margin-top:16px}}"]}),t})();const Yi=["otherConceptsCard"];function Qi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",12),r.Ub(1,"div",13),r.Ub(2,"label",14),r.Tc(3),r.Tb(),r.Ub(4,"button",15),r.cc("click",(function(){return r.Fc(t),r.gc().goToBillPayment()})),r.Ub(5,"label",16),r.Tc(6),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Ab(3),r.Uc(t.labelPaymentTitle),r.Ab(3),r.Uc(t.labelPaymentButton)}}const Gi=function(t){return{background:t}};function qi(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"mva10-c-card",18),r.Ub(2,"div",19),r.Ub(3,"div",20),r.Ub(4,"div",21),r.Pb(5,"p",22),r.Pb(6,"p",23),r.Tb(),r.Ub(7,"button",24),r.cc("click",(function(){return r.Fc(t),r.gc(3).showWhatHappenedOverlay()})),r.Tc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Pb(10,"div",25),r.hc(11,"translate"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(3);r.Ab(1),r.nc("responsiveSize",16),r.Ab(4),r.nc("innerHtml",null==t.whatHappenedCardData?null:t.whatHappenedCardData.title,r.Gc),r.Ab(1),r.nc("innerHtml",null==t.whatHappenedCardData?null:t.whatHappenedCardData.body,r.Gc),r.Ab(1),r.nc("ngClass",null!=t.whatHappenedCardData&&t.whatHappenedCardData.buttonStyle?null==t.whatHappenedCardData?null:t.whatHappenedCardData.buttonStyle:"vfes-button--primary"),r.Ab(1),r.Vc(" ",null!=t.whatHappenedCardData&&t.whatHappenedCardData.button?null==t.whatHappenedCardData?null:t.whatHappenedCardData.button:r.ic(9,6,"v10.billing.details.what_happened.detail_card.button")," "),r.Ab(2),r.nc("ngStyle",r.tc(10,Gi,"url("+t.appTheme.getImgFullPath(r.ic(11,8,"v10.dashboard.images.toby_pm"))+") no-repeat"))}}function Zi(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,26),r.Tb()),2&t){r.gc(3);const t=r.Cc(13);r.Ab(1),r.nc("ngTemplateOutlet",t)}}function Ji(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,qi,12,12,"div",7),r.Rc(2,Zi,2,1,"div",7),r.Tb()),2&t){const t=r.gc(2);r.Ab(1),r.nc("ngIf",t.whatHappenedCardData),r.Ab(1),r.nc("ngIf",!t.whatHappenedCardData)}}function Ki(t,e){if(1&t&&(r.Ub(0,"div",17),r.Rc(1,Ji,3,2,"div",7),r.Tb()),2&t){const t=r.gc();r.Ab(1),r.nc("ngIf",!t.hideWhatHappenedOverlay)}}function Xi(t,e){1&t&&r.Qb(0)}const tn=function(t){return{$implicit:t}};function en(t,e){if(1&t&&(r.Sb(0),r.Rc(1,Xi,1,0,"ng-container",48),r.Rb()),2&t){r.gc();const t=r.Cc(4),e=r.gc().$implicit;r.Ab(1),r.nc("ngTemplateOutlet",t)("ngTemplateOutletContext",r.tc(2,tn,e.subItems))}}function nn(t,e){1&t&&r.Qb(0)}function an(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",52),r.Ub(1,"div",53),r.Ub(2,"label",54),r.Tc(3),r.hc(4,"translate"),r.Tb(),r.Ub(5,"span",55),r.cc("click",(function(){r.Fc(t);const e=r.gc(6);return e.showWhatHappenedOverlay(e.typeWhatHappened.New,!0)})),r.Tb(),r.Tb(),r.Ub(6,"div",56),r.Rc(7,nn,1,0,"ng-container",48),r.Tb(),r.Tb()}if(2&t){r.gc(2);const t=r.Cc(4),e=r.gc(4);r.Ab(3),r.Vc(" ",r.ic(4,3,e.billNewOfferSubItems.length>1?"v10.billing.details.productList.newTariffMultipleTitle":"v10.billing.details.productList.newTariffTitle").replace("{0}",e.billNewOfferSubItems[0].name)," "),r.Ab(4),r.nc("ngTemplateOutlet",t)("ngTemplateOutletContext",r.tc(5,tn,e.billNewOfferSubItems))}}function ln(t,e){1&t&&r.Qb(0)}function sn(t,e){if(1&t&&(r.Ub(0,"div",57),r.Ub(1,"div",58),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"div",56),r.Rc(5,ln,1,0,"ng-container",48),r.Tb(),r.Tb()),2&t){r.gc(2);const t=r.Cc(4),e=r.gc(4);r.Ab(2),r.Uc(r.ic(3,3,"v10.billing.details.productList.oldTariffTitle")),r.Ab(3),r.nc("ngTemplateOutlet",t)("ngTemplateOutletContext",r.tc(5,tn,e.billOldOfferSubItems))}}function on(t,e){1&t&&r.Qb(0)}function cn(t,e){if(1&t&&(r.Ub(0,"div",59),r.Ub(1,"div",58),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"div",56),r.Rc(5,on,1,0,"ng-container",48),r.Tb(),r.Tb()),2&t){r.gc(2);const t=r.Cc(4),e=r.gc(4);r.Ab(2),r.Uc(r.ic(3,3,"v10.billing.details.productList.noChangesTitle")),r.Ab(3),r.nc("ngTemplateOutlet",t)("ngTemplateOutletContext",r.tc(5,tn,e.billNonChangingOfferSubItems))}}function rn(t,e){if(1&t&&(r.Sb(0),r.Rc(1,an,8,7,"div",49),r.Rc(2,sn,6,7,"div",50),r.Rc(3,cn,6,7,"div",51),r.Rb()),2&t){const t=r.gc(5);r.Ab(1),r.nc("ngIf",null==t.billNewOfferSubItems?null:t.billNewOfferSubItems.length),r.Ab(1),r.nc("ngIf",null==t.billOldOfferSubItems?null:t.billOldOfferSubItems.length),r.Ab(1),r.nc("ngIf",null==t.billNonChangingOfferSubItems?null:t.billNonChangingOfferSubItems.length)}}function dn(t,e){1&t&&(r.Ub(0,"span",65),r.Tc(1),r.hc(2,"translate"),r.Tb()),2&t&&(r.Ab(1),r.Vc(" ",r.ic(2,1,"v10.billing.details.productList.newTariffPaymentInAdvance")," "))}function gn(t,e){1&t&&(r.Ub(0,"span",65),r.Tc(1),r.hc(2,"translate"),r.Tb()),2&t&&(r.Ab(1),r.Vc(" ",r.ic(2,1,"v10.billing.details.productList.oldTariffPaymentInAdvance")," "))}function pn(t,e){if(1&t&&(r.Ub(0,"label",66),r.Tc(1),r.hc(2,"sliceCurrencyRoundZero"),r.hc(3,"currency"),r.Tb()),2&t){const t=r.gc().$implicit,e=r.gc(6);r.Ab(1),r.Vc("",t.amount?e.pipeDecimal(t.amount):r.ic(2,1,r.kc(3,3,0,"EUR","symbol")),"\u20ac ")}}function bn(t,e){if(1&t&&(r.Ub(0,"label",66),r.Tc(1),r.hc(2,"sliceCurrencyRoundZero"),r.hc(3,"currency"),r.Tb()),2&t){const t=r.gc().$implicit,e=r.gc(6);r.Ab(1),r.Vc("",t.amount?e.obtainAmountWithDiscount(t):r.ic(2,1,r.kc(3,3,0,"EUR","symbol")),"\u20ac ")}}function hn(t,e){1&t&&r.Pb(0,"hr")}function un(t,e){if(1&t&&(r.Ub(0,"div",70),r.Ub(1,"label",71),r.Tc(2),r.hc(3,"translate"),r.Tb(),r.Ub(4,"label",72),r.Tc(5),r.hc(6,"sliceCurrencyRoundZero"),r.hc(7,"currency"),r.Tb(),r.Tb()),2&t){const t=r.gc(2).$implicit,e=r.gc(6);r.Ab(2),r.Uc(r.ic(3,2,"v10.billing.details.productList.monthAmount")),r.Ab(3),r.Vc("",t.amount?e.pipeDecimal(t.amount):r.ic(6,4,r.kc(7,6,0,"EUR","symbol")),"\u20ac ")}}function mn(t,e){if(1&t&&(r.Ub(0,"div",75),r.Tc(1),r.Tb()),2&t){const t=r.gc().$implicit;r.Ab(1),r.Vc(" ",t.discountEndDateDescription," ")}}function fn(t,e){if(1&t&&(r.Ub(0,"div",70),r.Ub(1,"label",71),r.Ub(2,"div",73),r.Tc(3),r.Tb(),r.Rc(4,mn,2,1,"div",74),r.Tb(),r.Ub(5,"label",72),r.Tc(6),r.hc(7,"sliceCurrencyRoundZero"),r.hc(8,"currency"),r.Tb(),r.Tb()),2&t){const t=e.$implicit,i=r.gc(8);r.Ab(3),r.Vc(" ",t.name," "),r.Ab(1),r.nc("ngIf",t.discountEndDateDescription),r.Ab(2),r.Vc("",t.amount?i.pipeDecimal(t.amount):r.ic(7,3,r.kc(8,5,0,"EUR","symbol")),"\u20ac ")}}function vn(t,e){1&t&&r.Pb(0,"hr")}function _n(t,e){if(1&t&&(r.Ub(0,"div",67),r.Rc(1,un,8,10,"div",68),r.Rc(2,fn,9,9,"div",69),r.Rc(3,vn,1,0,"hr",7),r.Tb()),2&t){const t=r.gc(),e=t.$implicit,i=t.index,n=r.gc().$implicit;r.Ab(1),r.nc("ngIf",e.amount>=0),r.Ab(1),r.nc("ngForOf",e.discounts),r.Ab(1),r.nc("ngIf",i!==n.length-1)}}const Cn=function(t){return{"billingvf10-details-products__item-list__clickable":t}};function yn(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"div",60),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc(6).onClickItemDetail(i)})),r.Ub(2,"label",61),r.Rc(3,dn,3,3,"span",62),r.Rc(4,gn,3,3,"span",62),r.Tc(5),r.Tb(),r.Rc(6,pn,4,7,"label",63),r.Rc(7,bn,4,7,"label",63),r.Tb(),r.Rc(8,hn,1,0,"hr",7),r.Rc(9,_n,4,3,"div",64),r.Tb()}if(2&t){const t=e.$implicit,i=r.gc(6);r.Ab(1),r.nc("ngClass",r.tc(9,Cn,(null==t?null:t.name)&&i.redLinkItems.includes(null==t?null:t.name.toLowerCase()))),r.Ab(2),r.nc("ngIf",!0===t.newOffer&&t.typeAlarm===i.billAlarmType.changeTariffWithPaymentInAdvance),r.Ab(1),r.nc("ngIf",!1===t.newOffer&&t.typeAlarm===i.billAlarmType.changeTariffWithPaymentInAdvance),r.Ab(1),r.Wc(" ",t.name," ",t.serviceNumber&&!i.servicesToHideInList.includes(t.serviceNumber)?i.constants.staticWords.en+" "+t.serviceNumber:""," "),r.Ab(1),r.nc("ngIf",t.amount<0&&0==(null==t.discounts?null:t.discounts.length)),r.Ab(1),r.nc("ngIf",t.amount>=0||(null==t.discounts?null:t.discounts.length)>0),r.Ab(1),r.nc("ngIf",!i.cardExpandableValue),r.Ab(1),r.nc("ngIf",(null==t.discounts?null:t.discounts.length)>0||!!t.amount&&t.amount>=0)}}function Tn(t,e){1&t&&r.Rc(0,yn,10,11,"div",39),2&t&&r.nc("ngForOf",e.$implicit)}function wn(t,e){if(1&t&&(r.Ub(0,"div",46),r.Rc(1,en,2,4,"ng-container",7),r.Rc(2,rn,4,3,"ng-container",7),r.Rc(3,Tn,1,1,"ng-template",null,47,r.Sc),r.Tb()),2&t){const t=r.gc(4);r.Ab(1),r.nc("ngIf",!t.billHasTariffChanges),r.Ab(1),r.nc("ngIf",t.billHasTariffChanges)}}function On(t,e){1&t&&r.Pb(0,"hr")}function Pn(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",79),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc(5).clickComsuption(i.serviceNumber)})),r.Ub(1,"label",80),r.Tc(2),r.Tb(),r.Ub(3,"label",81),r.Tc(4),r.hc(5,"sliceCurrencyRoundZero"),r.hc(6,"currency"),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,i=r.gc(5);r.Ab(2),r.Wc(" ",t.name," ",t.serviceNumber&&!i.servicesToHideInList.includes(t.serviceNumber)?i.constants.staticWords.en+" "+t.serviceNumber:""," "),r.Ab(2),r.Vc("",t.amount?i.pipeDecimal(t.amount):r.ic(5,3,r.kc(6,5,0,"EUR","symbol")),"\u20ac ")}}function xn(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"div",76),r.Rc(2,On,1,0,"hr",7),r.Ub(3,"div",77),r.Ub(4,"label",16),r.Tc(5),r.hc(6,"translate"),r.Tb(),r.Tb(),r.Rc(7,Pn,7,9,"div",78),r.Tb(),r.Tb()),2&t){const t=r.gc().$implicit,e=r.gc(3);r.Ab(2),r.nc("ngIf",!e.billHasTariffChanges),r.Ab(3),r.Vc(" ",r.ic(6,3,"v10.billing.details.productList.detailsOob")," "),r.Ab(2),r.nc("ngForOf",t.subItems)}}function Mn(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,wn,5,2,"div",45),r.Rc(2,xn,8,5,"div",7),r.Tb()),2&t){const t=e.$implicit,i=r.gc(3);r.Ab(1),r.nc("ngIf",t.categoryType.toLowerCase()==i.billDetailsCategoryType.basic),r.Ab(1),r.nc("ngIf",t.categoryType.toLowerCase()==i.billDetailsCategoryType.outofbundle&&t.subItems.length>0)}}function Sn(t,e){if(1&t&&(r.Ub(0,"div",41),r.Ub(1,"label"),r.Tc(2),r.Tb(),r.Ub(3,"label"),r.Tc(4),r.Tb(),r.Tb()),2&t){const t=e.$implicit,i=r.gc(3);r.Ab(2),r.Wc("",null==t?null:t.type," ",t.percentage,""),r.Ab(2),r.Vc("",i.pipeDecimal(null==t?null:t.tax),"\u20ac")}}function Dn(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"div",28),r.Ub(2,"label",29),r.Tc(3),r.hc(4,"translate"),r.Tb(),r.Ub(5,"div",30),r.cc("click",(function(){return r.Fc(t),r.gc(2).clickComsuption()})),r.Ub(6,"label",31),r.Tc(7),r.hc(8,"translate"),r.Tb(),r.fc(),r.Ub(9,"svg",32),r.Ub(10,"title"),r.Tc(11,"bill-or-report"),r.Tb(),r.Pb(12,"use",33),r.Tb(),r.Tb(),r.Tb(),r.ec(),r.Ub(13,"mva10-c-card",34),r.Ub(14,"div",35),r.fc(),r.Ub(15,"svg",36),r.Ub(16,"title"),r.Tc(17,"connected-devices"),r.Tb(),r.Pb(18,"use",37),r.Tb(),r.ec(),r.Ub(19,"label",38),r.Tc(20),r.hc(21,"translate"),r.Tb(),r.Tb(),r.Pb(22,"hr"),r.Rc(23,Mn,3,2,"div",39),r.Pb(24,"hr"),r.Ub(25,"div",40),r.Ub(26,"div",41),r.Ub(27,"label"),r.Tc(28),r.hc(29,"translate"),r.Tb(),r.Ub(30,"label"),r.Tc(31),r.Tb(),r.Tb(),r.Rc(32,Sn,5,3,"div",42),r.Tb(),r.Ub(33,"div",43),r.Ub(34,"label"),r.Tc(35),r.hc(36,"translate"),r.Tb(),r.Ub(37,"label"),r.Tc(38),r.Tb(),r.Tb(),r.Pb(39,"hr"),r.Ub(40,"div",44),r.cc("click",(function(){r.Fc(t);const e=r.gc(2);return e.clickExpandCardProducts(!e.cardExpandableValue)})),r.Ub(41,"label"),r.Tc(42),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.Ab(3),r.Uc(r.ic(4,12,"v10.billing.details.productList.title")),r.Ab(4),r.Uc(r.ic(8,14,"v10.billing.details.productList.viewOob")),r.Ab(6),r.nc("styleClass","vfac-card-expandable")("responsiveSize",20),r.Ab(7),r.Uc(r.ic(21,16,"v10.billing.details.productList.subTitle")),r.Ab(3),r.nc("ngForOf",t.billDetails.categories),r.Ab(5),r.Uc(r.ic(29,18,"v10.billing.details.productList.subTotal")),r.Ab(3),r.Vc("",t.pipeDecimal(t.billDetails.subTotal),"\u20ac"),r.Ab(1),r.nc("ngForOf",t.billDetails.taxes),r.Ab(3),r.Uc(r.ic(36,20,"v10.billing.details.productList.total")),r.Ab(3),r.Vc("",t.pipeDecimal(t.billDetails.tax+t.billDetails.subTotal),"\u20ac"),r.Ab(4),r.Uc(t.cardExpandableLabel)}}function kn(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,26),r.Tb()),2&t){r.gc(2);const t=r.Cc(11);r.Ab(1),r.nc("ngTemplateOutlet",t)}}function Bn(t,e){if(1&t&&(r.Ub(0,"div",27),r.Rc(1,Dn,43,22,"div",7),r.Rc(2,kn,2,1,"div",7),r.Tb()),2&t){const t=r.gc();r.Ab(1),r.nc("ngIf",t.listProductsLoad),r.Ab(1),r.nc("ngIf",!t.listProductsLoad)}}const An=function(t){return{"billingvf10-details-products__label--red-line":t}},Un=function(t){return{"billingvf10-details-products__label--red":t}};function Vn(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"div",87),r.cc("click",(function(){r.Fc(t);const i=e.$implicit;return r.gc(5).clickOther(i.typeAlarm)})),r.Ub(2,"label",88),r.Tc(3),r.Tb(),r.Ub(4,"label",89),r.Tc(5),r.hc(6,"sliceCurrencyRoundZero"),r.hc(7,"currency"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,i=r.gc(5);r.Ab(2),r.nc("ngClass",r.tc(11,An,t.typeAlarm===i.billAlarmType.refund)),r.Ab(1),r.Wc("",t.name," ",t.serviceNumber?i.constants.staticWords.en+" "+t.serviceNumber:"",""),r.Ab(1),r.nc("ngClass",r.tc(13,Un,t.typeAlarm===i.billAlarmType.refund)),r.Ab(1),r.Vc("",t.amount?t.amount:r.ic(6,5,r.kc(7,7,0,"EUR","symbol"))," \u20ac ")}}function In(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"mva10-c-card",18),r.Ub(2,"div",35),r.fc(),r.Ub(3,"svg",84),r.Ub(4,"title"),r.Tc(5,"bundles"),r.Tb(),r.Pb(6,"use",85),r.Tb(),r.ec(),r.Ub(7,"label",38),r.Tc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Pb(10,"hr"),r.Rc(11,Vn,8,15,"div",39),r.Pb(12,"hr"),r.Ub(13,"div",70),r.Ub(14,"label",86),r.Tc(15),r.Tb(),r.Tb(),r.Ub(16,"div",43),r.Ub(17,"label"),r.Tc(18),r.hc(19,"translate"),r.Tb(),r.Ub(20,"label"),r.Tc(21),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc().$implicit,e=r.gc(3);r.Ab(1),r.nc("responsiveSize",20),r.Ab(7),r.Uc(r.ic(9,6,"v10.billing.details.otherConcepts.subTitle")),r.Ab(3),r.nc("ngForOf",t.subItems),r.Ab(4),r.Uc(e.labelBillOtherConceptsDesc),r.Ab(3),r.Uc(r.ic(19,8,"v10.billing.details.otherConcepts.total")),r.Ab(3),r.Vc("",(t.amount||0).toString().replace(".",","),"\u20ac")}}function Hn(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,In,22,10,"div",7),r.Tb()),2&t){const t=e.$implicit,i=r.gc(3);r.Ab(1),r.nc("ngIf",t.categoryType.toLowerCase()==i.billDetailsCategoryType.other&&t.subItems.length>0)}}function Ln(t,e){if(1&t&&(r.Ub(0,"div"),r.Rc(1,Hn,2,1,"div",39),r.Tb()),2&t){const t=r.gc(2);r.Ab(1),r.nc("ngForOf",t.billDetails.categories)}}function En(t,e){if(1&t&&(r.Ub(0,"div"),r.Qb(1,26),r.Tb()),2&t){r.gc(2);const t=r.Cc(13);r.Ab(1),r.nc("ngTemplateOutlet",t)}}function Rn(t,e){if(1&t&&(r.Ub(0,"div",82,83),r.Rc(2,Ln,2,1,"div",7),r.Rc(3,En,2,1,"div",7),r.Tb()),2&t){const t=r.gc();r.Ab(2),r.nc("ngIf",t.listProductsLoad),r.Ab(1),r.nc("ngIf",!t.listProductsLoad)}}function Fn(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"ng-lottie",90),r.cc("animationCreated",(function(e){return r.Fc(t),r.gc().handleAnimation(e)})),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Ab(1),r.nc("options",t.lottieConfig)("width",100)("height",100)}}function Wn(t,e){if(1&t){const t=r.Vb();r.Ub(0,"sp-comsuption-billing-vf10",91),r.cc("closeComsuptionOverlay",(function(){return r.Fc(t),r.gc().closeComsuptionOverlay()})),r.Tb()}if(2&t){const t=r.gc();r.nc("serviceId",t.serviceId)("showComsuptionOverlay",t.showComsuptionOverlay)("detailToExpand",t.consumptionOverlayDetailToExpand)("badgeToSelect",t.consumptionOverlayBadgeToSelect)}}function Nn(t,e){1&t&&(r.Ub(0,"div",92),r.Ub(1,"div",93),r.Pb(2,"div",94),r.Tb(),r.Ub(3,"div",95),r.Pb(4,"div",94),r.Pb(5,"div",94),r.Pb(6,"div",94),r.Tb(),r.Tb())}function jn(t,e){1&t&&(r.Ub(0,"div",92),r.Ub(1,"div",95),r.Pb(2,"div",94),r.Pb(3,"div",94),r.Pb(4,"div",94),r.Tb(),r.Tb())}let $n=(()=>{class t{constructor(t,e,i,n,a,l,s,o,c,r,d,g,p,b,h,u){this.router=t,this.appTheme=e,this.subscriptionData=i,this.translate=n,this.serviceBalance=a,this.taggingHelper=l,this.billingService=s,this.utilitiesService=o,this.storage=c,this.billingVf10Service=r,this.numberPipe=d,this.mva10SubHeaderService=g,this.serviceBalanceService=p,this.auth=b,this.resizeService=h,this.locationService=u,this.listProductsValid=!0,this.listProductsLoad=!1,this.isLastBillReady=!1,this.cardExpandableValue=!0,this.overlayFullScreenData=new x.P,this.showOverlayFullScreen=!1,this.showWHOverlay=!1,this.typeAlarmsNews=[Ce.a.newProduct,Ce.a.newProductPaymentInAdvance,Ce.a.changeTariff,Ce.a.changeTariffWithPaymentInAdvance],this.BREAKPOINTS=x.d,this.redLinkItems=[],this.servicesToHideInList=[],this.appTheme.showFullAppLoader=!1}get constants(){return o}get billDetailsCategoryType(){return pe.a}get billAlarmType(){return Ce.a}get replace(){return String.prototype.replace}ngOnInit(){this.mva10SubHeaderService.open(fe),this.billDetailsLogic(),this.billingVf10Service.downloadBill&&(this.clickDonwloadPdf(),this.billingVf10Service.downloadBill=!1),this.breakpoint=this.resizeService.breakpoint,this.resizeService.onResize$.subscribe(t=>{this.breakpoint=t})}billDetailsLogic(){this.billingService.selectedBill?(this.billingService.GetBills().subscribe(()=>{this.bills=Object.assign([],this.billingService.bills),this.billingService.selectedBill=this.billingService.bills.find(t=>t.id===this.billingService.selectedBill.id),this.bills&&this.checkLastBillsReady(this.bills)}),p.a.BillingVf10.details.view.client_billing_id=p.a.BillingVf10.Landing.view.client_billing_id,p.a.BillingVf10.details.view.client_billing_type=p.a.BillingVf10.Landing.view.client_billing_type,this.getTranslateText(),this.getBillsDetails()):this.router.navigate([s.a.BillingVf10.MainScreen.route])}checkTariffChangesInSelectedBill(){const t=[];this.billDetails.categories.filter(t=>t.categoryType===pe.a.basic).forEach(e=>t.push(...e.subItems)),this.billHasTariffChanges=this.billingVf10Service.isTariffChangeForDicounts(this.billingService.selectedBill),this.billHasNewProducts=this.billingVf10Service.checkBillHasNewProducts(this.billingService.selectedBill),this.billHasTariffUpdates=this.billingVf10Service.checkBillHasTariffUpdates(this.billingService.selectedBill),this.billHasTariffChanges&&(this.billNewOfferSubItems=this.billingVf10Service.getNewOfferSubItems(t),this.billOldOfferSubItems=this.billingVf10Service.getOldOfferSubItems(t),this.billNonChangingOfferSubItems=this.billingVf10Service.getNonChangingOfferSubItems(t))}sendViewInit(){const t=Object.assign({},p.a.BillingVf10.details.view);t.billing_alert=(this.billDetails.numberOfAlarms>0?"con":"sin")+" alarmas",this.taggingHelper.view(null,t)}getTranslateText(){this.translate.get("v10.billing").subscribe(t=>{this.imageJsonLottie=t.details.billError.icon,this.labelBillErrorTitle=t.details.billError.title,this.labelBillErrorSubTitle=t.details.billError.subtitle,this.labelBillErrorButton=t.details.billError.button,this.labelBillViewMore=t.details.productList.viewMore,this.labelBillViewMoreClose=t.details.productList.viewMoreClose,this.labelBillOtherConceptsDesc=t.details.otherConcepts.desc,this.labelDownloadPdf=t.details.downloadPdf,this.cardExpandableLabel=this.labelBillViewMore,this.labelPaymentTitle=t.details.payment.title,this.labelPaymentButton=t.details.payment.button,this.showCTAPayment=t.details.payment.show,this.labelNewTariff=t.details.productList.newTariffTitle.replace("{0}",""),setTimeout(()=>{this.appTheme.appHeaderTitle=t.details.titlePage.replace("{0}",this.billingVf10Service.getAliasBill(this.billingService.selectedBill))},0)})}checkLastBillsReady(t){const e=Math.max.apply(Math,t.map(t=>t.billingCycle.billingYear)),i=t.filter(t=>+t.billingCycle.billingYear===e);if(i.length){const t=Math.max.apply(Math,i.map(t=>t.billingCycle.billingMonth)),e=i.filter(e=>+e.billingCycle.billingMonth===t);this.isLastBillReady=!!e.filter(t=>t.billNo===this.billingService.selectedBill.billNo&&"ready"===t.status).length}}getBillsDetails(){this.billingService.selectedBillId=this.billingService.selectedBill.id,this.billingService.GetBillDetails().subscribe(()=>{this.billDetails=this.billingService.selectedBill.details,this.parseBasicDiscountDates(),this.checkTariffChangesInSelectedBill(),this.initClickableLinks(),this.setMsisdnToHideFromList(),this.listProductsLoad=!0,this.labelBillOtherConceptsDesc=this.labelBillOtherConceptsDesc.replace("[{0}]",this.billDetails.taxes[0].type),this.initWhatHappened(),this.sendViewInit()},t=>{this.errorGeneric();const e=Object.assign({},p.a.BillingVf10.details.view);e.error_category=p.a.BillingVf10.labels.server_error,e.error_descripcion=p.a.BillingVf10.labels.server_error_desc,this.taggingHelper.view(null,e)})}errorGeneric(){this.overlayFullScreenData.titleOverlay=this.labelBillErrorTitle,this.overlayFullScreenData.textOverlay=this.labelBillErrorSubTitle,this.overlayFullScreenData.primaryBtnText=this.labelBillErrorButton,this.overlayFullScreenData.stylesPrimaryBtn="vfes-button--primary",this.overlayFullScreenData.closeBtn=!0,this.lottieConfig={path:this.appTheme.getImgFullPath(this.imageJsonLottie),autoplay:!0,loop:!0},this.showOverlayFullScreen=!0}clickCloseOverlayFullScreen(){this.showOverlayFullScreen=!1,this.locationService.back()}clickExpandCardProducts(t){if(t?$("#subTotalIvaId").slideUp(300):$("#subTotalIvaId").slideDown(300),t?$(".billingvf10-details-products__list-discount").slideUp(300):$(".billingvf10-details-products__list-discount").slideDown(300),this.cardExpandableValue=t,this.cardExpandableLabel=t?this.labelBillViewMore:this.labelBillViewMoreClose,!t){const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.clickDetailListProducts.data);this.taggingHelper.track(p.a.BillingVf10.details.clickDetailListProducts.eventName,e)}}getDateCycle(t){const e=new Date(t.billingCycle.startDate),i=new Date(t.billingCycle.endDate);return`${e.getDate()} ${this.utilitiesService.getMonthName((e.getMonth()+1).toString(),!0)} -\n     ${i.getDate()} ${this.utilitiesService.getMonthName((i.getMonth()+1).toString(),!0)}`}parseBasicDiscountDates(){this.billDetails.categories.filter(t=>t.categoryType.toLowerCase()===pe.a.basic).forEach(t=>{(t.subItems||[]).forEach(t=>{(t.discounts||[]).forEach(t=>t.discountEndDateDescription=this.getParsedDiscountEndDate(t))})})}getParsedDiscountEndDate(t){return t&&t.endDate?t.typeAlarm===Ce.a.lastMonthDiscount?this.translate.instant("v10.billing.details.discounts.finished"):this.translate.instant("v10.billing.details.discounts.finishing_on").replace("{0}",this.utilitiesService.getDateWithMonth(t.endDate,!0)):""}obtainAmountWithDiscount(t){let e=0;return t.discounts.forEach(t=>{e+=t.amount}),this.pipeDecimal(t.amount+e)}pipeDecimal(t){return this.numberPipe.transform(t,"1.2-2").toString().replace(".",",").replace(",00","")}clickOther(t){if("9"===t){const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.clickOtherConcept.data);this.taggingHelper.track(p.a.BillingVf10.details.clickOtherConcept.eventName,e),this.router.navigate([s.a.billing.creditNotes.route])}}clickDonwloadPdf(){this.billingVf10Service.downloadPDF(this.billingService.selectedBill);const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.descargarPdf.data);this.taggingHelper.track(p.a.BillingVf10.details.descargarPdf.eventName,e)}handleAnimation(t){this.anim=t}clickComsuption(t){if(t){const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.clickProductOob.data);this.taggingHelper.track(p.a.BillingVf10.details.clickProductOob.eventName,e)}else{const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.clickOob.data);this.taggingHelper.track(p.a.BillingVf10.details.clickOob.eventName,e)}this.serviceId=t,this.consumptionOverlayDetailToExpand=U.b.OneOobTypeOnly,this.consumptionOverlayBadgeToSelect=o.typeTabsComsuption.fuera,this.showComsuptionOverlay=!0}closeComsuptionOverlay(){this.showComsuptionOverlay=!1}initWhatHappened(){this.showWHOverlay=!1,this.hideWhatHappenedOverlay=!1,this.whatHappenedCardData=null,setTimeout(()=>{if(this.billingVf10Service.detailsHasAlarms(this.billDetails)){const t=this.utilitiesService.capitalizeText(this.auth.getUserFromLocalJWT().firstName),e=this.billingVf10Service.getTotalBillChanges(this.billDetails.categories,!0,!0),i=this.billingVf10Service.getTimeTypeDiscounts(this.billingService.selectedBill,_e.a.finishedThisMonth),n=this.translate.instant("v10.billing.details.what_happened.detail_card");0!==e||this.billHasTariffChanges||this.billHasNewProducts||i.length>0&&!this.billHasTariffChanges&&!this.billHasNewProducts||this.billHasTariffUpdates?this.checkOnlyMigration(e,i)?this.initMigrationWhatHappenedCard(t):this.whatHappenedCardData={title:n.title.replace("{0}",t),body:this.getWhatHappenedCardMsg(e,i)}:this.hideWhatHappenedOverlay=!0}else this.hideWhatHappenedOverlay=!0},1500)}getWhatHappenedCardMsg(t,e){const i=this.translate.instant("v10.billing.details.what_happened.detail_card");let n="";return n=this.billHasTariffChanges||this.billHasNewProducts||this.billHasTariffUpdates?i.tariff_variations:0===t?(e.length>1?i.discounts.finished_plural:i.discounts.finished_singular).replace("{0}",e.length):0===e.length?i.textDifference.replace("{0}",t.toFixed(2).replace(".",",").replace(",00","")+"\u20ac"):i.textDifference.replace("{0}",t.toFixed(2).replace(".",",").replace(",00","")+"\u20ac")+" "+(e.length>1?i.discounts.also_finished_plural:i.discounts.also_finished_singular).replace("{0}",e.length),n}initMigrationWhatHappenedCard(t){this.whatHappenedCardData={title:this.translate.instant("v10.billing.details.what_happened.detail_card.migration.title").replace("{0}",t),body:this.translate.instant("v10.billing.details.what_happened.detail_card.migration.body"),button:this.translate.instant("v10.billing.details.what_happened.detail_card.migration.button"),buttonStyle:"vfes-button--tertiary"}}checkOnlyMigration(t,e){return this.billingVf10Service.checkBillHasTariffUpdates(this.billingService.selectedBill,Ce.a.migration)&&0===t&&!this.billHasTariffChanges&&!this.billHasNewProducts&&!(e.length>0&&!this.billHasTariffChanges&&!this.billHasNewProducts)}showWhatHappenedOverlay(t,e){this.hideBackArrowWHOverlay=!1;let i=p.a.BillingVf10.details.clickWhatHappened;switch(t){case ye.a.New:this.whatHappenedType=t,this.whatHappenedOverlayPage=2,e&&(this.hideBackArrowWHOverlay=!0,i=p.a.BillingVf10.details.clickNewTariffInfoIcon);break;default:this.whatHappenedOverlayPage=1}const n=Object.assign({},p.a.BillingVf10.details.view),a=Object.assign(n,i.data);this.taggingHelper.track(i.eventName,a),this.showWHOverlay=!0}onCloseWhatHappenedOverlay(){this.showWHOverlay=!1,this.whatHappenedOverlayPage=1,this.whatHappenedType=null,this.hideBackArrowWHOverlay=!1}showConsumptionFromWhatHappened(t){let e="";this.consumptionOverlayDetailToExpand=null,this.consumptionOverlayBadgeToSelect=null,t&&t.length>0&&(e=t[0].serviceNumber,this.consumptionOverlayDetailToExpand=U.b.OneOobTypeOnly,this.consumptionOverlayBadgeToSelect=o.typeTabsComsuption.fuera),this.serviceId=e,this.showComsuptionOverlay=!0}scrollToRefundsSection(){setTimeout(()=>this.otherConceptsCard.nativeElement.scrollIntoView({behavior:"smooth",block:"start"}),100)}goToBillPayment(){const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.payment.data);this.taggingHelper.track(p.a.BillingVf10.details.payment.eventName,e),this.router.navigate([s.a.billing.billPayment.route])}get typeWhatHappened(){return ye.a}ngOnDestroy(){this.mva10SubHeaderService.close()}initClickableLinks(){this.translate.get("common.itemsList").subscribe(t=>{this.redLinkItems.push(...t.CallIdCategory,...t.secureNetCategory),this.redLinkItems=this.redLinkItems.toString().toLowerCase().split(",")})}onClickItemDetail(t){if(t&&t.name&&this.redLinkItems.includes(t.name.toLowerCase())){const e=t.name.toLowerCase();if(this.subscriptionData.customerData.currentService=this.subscriptionData.customerData.services.find(e=>e.id===t.serviceNumber)||this.subscriptionData.customerData.currentService,this.translate.instant("common.itemsList.CallIdCategory").toString().toLowerCase().split(",").includes(e)){const t=Object.assign({},p.a.BillingVf10.details.view),e=Object.assign(t,p.a.BillingVf10.details.clickCallId.data);return this.taggingHelper.track(p.a.BillingVf10.details.clickCallId.eventName,e),void this.router.navigate([s.a.ProductsAndServices.MainScreen.route],{queryParams:{scrollTo:"callIdSection"}})}if(this.translate.instant("common.itemsList.secureNetCategory").toString().toLowerCase().split(",").includes(e)){const e=Object.assign({},p.a.BillingVf10.details.view),i=Object.assign(e,p.a.BillingVf10.details.clickSecureNet.data);return this.taggingHelper.track(p.a.BillingVf10.details.clickSecureNet.eventName,i),this.storage.secureNetAlertServiceId=t.serviceNumber,this.storage.secureNetAccountId=this.billingService.selectedBill.billingAccount.id,this.storage.navigateToSecureNetFromBilling=!0,this.appTheme.showFullAppLoader=!0,void this.router.navigate([s.a.ProductsAndServices.securenet.route])}}}setMsisdnToHideFromList(){this.servicesToHideInList=this.billingService.selectedBill.subscriptions.reduce((t,e)=>{if(e&&e.id&&!t.includes(e.id))switch(e.type.toLowerCase()){case _.a.Tv.toLowerCase():case _.a.Internet.toLowerCase():t.push(e.id)}return t},[])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(l.f),r.Ob(c.a),r.Ob(b.a),r.Ob(Q.e),r.Ob(u.a),r.Ob(m.a),r.Ob(f.a),r.Ob(h.a),r.Ob(O.a),r.Ob(D.a),r.Ob(n.g),r.Ob(be.a),r.Ob(ve.a),r.Ob(M.a),r.Ob(A.a),r.Ob(Y.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["sp-details-billing-vf10"]],viewQuery:function(t,e){var i;1&t&&r.ad(Yi,!0),2&t&&r.Bc(i=r.dc())&&(e.otherConceptsCard=i.first)},decls:14,vars:13,consts:[[1,"billingvf10","mva10-row"],["class","billingvf10-details-pay",4,"ngIf"],[1,"billingvf10-details-body","mva10-responsive"],["class","billingvf10-details-what_happened",4,"ngIf"],["class","billingvf10-details-products",4,"ngIf"],["class","billingvf10-details-other-concept",4,"ngIf"],[3,"overlayFullScreenData","show","primaryBtnClicked","closeBtnClicked"],[4,"ngIf"],[3,"show","page","billDetails","hideBackArrow","secondPageWhatHappenedType","closed","clickOobDetail","clickRefundDetail"],[3,"serviceId","showComsuptionOverlay","detailToExpand","badgeToSelect","closeComsuptionOverlay",4,"ngIf"],["billSkeletonTitle",""],["billSkeleton",""],[1,"billingvf10-details-pay"],[1,"billingvf10-details-pay__content","mva10-responsive"],[1,"mva10-u--h5","billingvf10-details-pay__label"],["type","button","name","Pagar","title","Pagar",1,"mva10-c-button","billingvf10-details-pay__button","cursor-pointer",3,"click"],[1,"billingvf10--font-family-rg-bold"],[1,"billingvf10-details-what_happened"],[3,"responsiveSize"],[1,"billingvf10-details-what_happened__card"],[1,"text-container"],[1,"mva10-u--mb4x"],[1,"billingvf10__title",3,"innerHtml"],[3,"innerHtml"],["type","button","id","billingVf10DetailsBillingVf10OpenWhatHappenedButton",1,"vfes-button","vfes-button-small","cursor-pointer",3,"ngClass","click"],[1,"image-container",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"billingvf10-details-products"],[1,"billingvf10-details-products__title","mva10-u--mb4x"],[1,"billingvf10__title","mva10-u--h3"],[1,"billingvf10--display-flex","cursor-pointer",3,"click"],[1,"billingvf10-details-products__label-oob"],[1,"billingvf10-details__icon--size-32","billingvf10-details__icon--red","billingvf10--margin-left-8"],[0,"xlink","href","#icon-bill-or-report"],[3,"styleClass","responsiveSize"],[1,"mva10-u--mb4x","billingvf10--display-flex"],[1,"billingvf10-details__icon--size-24","billingvf10--margin-right-16"],[0,"xlink","href","#icon-connected-devices"],[1,"billingvf10__title","mva10-u--h5"],[4,"ngFor","ngForOf"],["id","subTotalIvaId",1,"billingvf10--hidden"],[1,"billingvf10-details-products__item"],["class","billingvf10-details-products__item",4,"ngFor","ngForOf"],[1,"billingvf10-details-products__item","billingvf10-details-products__item--bold"],[1,"vfac-card-expandable__label","cursor-pointer",3,"click"],["class","billingvf10--margin-left-24 mva10-u--mb4x",4,"ngIf"],[1,"billingvf10--margin-left-24","mva10-u--mb4x"],["basicCategoryTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","billingvf10-details-bill-changes__section new-offer",4,"ngIf"],["class","billingvf10-details-bill-changes__section old-offer",4,"ngIf"],["class","billingvf10-details-bill-changes__section current-offer",4,"ngIf"],[1,"billingvf10-details-bill-changes__section","new-offer"],[1,"billingvf10-details-bill-changes__background"],[1,"billingvf10-details-bill-changes__title","mva10-u--8/12"],[1,"icon","icon-info-circle","billingvf10-details-products__icon-news",3,"click"],[1,"billingvf10-details-bill-changes__items"],[1,"billingvf10-details-bill-changes__section","old-offer"],[1,"billingvf10-details-bill-changes__title"],[1,"billingvf10-details-bill-changes__section","current-offer"],[1,"billingvf10-details-products__item-list",3,"ngClass","click"],[1,"mva10-u--8/12","billingvf10-details-products__item-list__name"],["class","billingvf10-details-products__item-payment-advance",4,"ngIf"],["class","mva10-u--4/12 billingvf10--text-align-right billingvf10-details-products__item-list__value",4,"ngIf"],["class","billingvf10-details-products__list-discount billingvf10--hidden",4,"ngIf"],[1,"billingvf10-details-products__item-payment-advance"],[1,"mva10-u--4/12","billingvf10--text-align-right","billingvf10-details-products__item-list__value"],[1,"billingvf10-details-products__list-discount","billingvf10--hidden"],["class","billingvf10-details-products__item-list billingvf10-details-products__item-list--grey",4,"ngIf"],["class","billingvf10-details-products__item-list billingvf10-details-products__item-list--grey",4,"ngFor","ngForOf"],[1,"billingvf10-details-products__item-list","billingvf10-details-products__item-list--grey"],[1,"mva10-u--8/12"],[1,"mva10-u--4/12","billingvf10--text-align-right"],[1,"billingvf10-details-products__item-list__discount-name"],["class","billingvf10-details-products__item-list__discount-date",4,"ngIf"],[1,"billingvf10-details-products__item-list__discount-date"],[1,"billingvf10--margin-left-24"],[1,"billingvf10-details-products__item-list"],["class","billingvf10-details-products__item-list cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"billingvf10-details-products__item-list","cursor-pointer",3,"click"],[1,"mva10-u--8/12","billingvf10-details-products__label--red-line"],[1,"mva10-u--4/12","billingvf10--text-align-right","billingvf10-details-products__label--red"],[1,"billingvf10-details-other-concept"],["otherConceptsCard",""],[1,"billingvf10-details__icon--size-32","billingvf10--margin-right-8"],[0,"xlink","href","#icon-bundles"],[1,""],[1,"billingvf10--margin-left-24","billingvf10-details-products__item-list","cursor-pointer",3,"click"],[1,"mva10-u--8/12",3,"ngClass"],[1,"mva10-u--4/12","billingvf10--text-align-right",3,"ngClass"],[3,"options","width","height","animationCreated"],[3,"serviceId","showComsuptionOverlay","detailToExpand","badgeToSelect","closeComsuptionOverlay"],[1,"skeleton-billing"],[1,"skeleton-billing__title","skeleton-wrapper-section"],[1,"skeleton"],[1,"vfes-box-shadow","skeleton-wrapper-section","skeleton-billing__card"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Rc(1,Qi,7,2,"div",1),r.Ub(2,"div",2),r.Rc(3,Ki,2,1,"div",3),r.Rc(4,Bn,3,2,"div",4),r.Rc(5,Rn,4,2,"div",5),r.Tb(),r.Tb(),r.Ub(6,"vfac-overlay-full-screen",6),r.cc("primaryBtnClicked",(function(){return e.clickCloseOverlayFullScreen()}))("closeBtnClicked",(function(){return e.clickCloseOverlayFullScreen()})),r.Rc(7,Fn,2,3,"div",7),r.Tb(),r.Ub(8,"sp-what-happened",8),r.cc("closed",(function(){return e.onCloseWhatHappenedOverlay()}))("clickOobDetail",(function(t){return e.showConsumptionFromWhatHappened(t)}))("clickRefundDetail",(function(){return e.scrollToRefundsSection()})),r.Tb(),r.Rc(9,Wn,1,4,"sp-comsuption-billing-vf10",9),r.Rc(10,Nn,7,0,"ng-template",null,10,r.Sc),r.Rc(12,jn,5,0,"ng-template",null,11,r.Sc)),2&t&&(r.Ab(1),r.nc("ngIf",e.isLastBillReady&&"true"===e.showCTAPayment),r.Ab(2),r.nc("ngIf",e.listProductsValid),r.Ab(1),r.nc("ngIf",e.listProductsValid),r.Ab(1),r.nc("ngIf",e.listProductsValid),r.Ab(1),r.nc("overlayFullScreenData",e.overlayFullScreenData)("show",e.showOverlayFullScreen),r.Ab(1),r.nc("ngIf",e.showOverlayFullScreen),r.Ab(1),r.nc("show",e.showWHOverlay)("page",e.whatHappenedOverlayPage)("billDetails",e.billDetails)("hideBackArrow",e.hideBackArrowWHOverlay)("secondPageWhatHappenedType",e.whatHappenedType),r.Ab(1),r.nc("ngIf",e.showComsuptionOverlay))},directives:[n.t,x.Qb,Ke,it.s,n.q,n.w,n.A,n.s,nt.b,zi],pipes:[Q.d,lt.a,n.d],styles:['@use "sass:math";.billingvf10-details-body[_ngcontent-%COMP%]{padding-bottom:16px}@media (min-width:48em){.billingvf10-details-body[_ngcontent-%COMP%]{padding-bottom:40px}}.billingvf10-details-pay[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;padding-bottom:16px;width:100%}@media screen and (min-width:769px){.billingvf10-details-pay[_ngcontent-%COMP%]{padding-top:16px}}.billingvf10-details-pay__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.billingvf10-details-pay__label[_ngcontent-%COMP%]{width:100%}.billingvf10-details-pay__button[_ngcontent-%COMP%]{width:30%!important}.billingvf10-details-products[_ngcontent-%COMP%]{padding-top:16px}@media screen and (min-width:769px){.billingvf10-details-products[_ngcontent-%COMP%]{padding-top:32px}}.billingvf10-details-products__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}.billingvf10-details-products__label-oob[_ngcontent-%COMP%]{font-family:VodafoneRegular;color:#e60000}.billingvf10-details-products__item-list[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:12px}.billingvf10-details-products__item-list--grey[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#666}.billingvf10-details-products__item-list__discount-date[_ngcontent-%COMP%]{font-size:smaller;color:#9a9a9a}.billingvf10-details-products__item-list__clickable[_ngcontent-%COMP%]   .billingvf10-details-products__item-list__name[_ngcontent-%COMP%]{color:#e60000;text-decoration:underline}.billingvf10-details-products__item-list__clickable[_ngcontent-%COMP%]   .billingvf10-details-products__item-list__value[_ngcontent-%COMP%]{color:#e60000}.billingvf10-details-products__item-list-label-news[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;background-color:#f4f4f4;padding-left:4px}.billingvf10-details-products__item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.billingvf10-details-products__item--bold[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10-details-products__list-discount[_ngcontent-%COMP%]{margin-left:25px}.billingvf10-details-products__label--red[_ngcontent-%COMP%]{color:#e60000}.billingvf10-details-products__label--red-line[_ngcontent-%COMP%]{color:#e60000;-webkit-text-decoration-line:underline;text-decoration-line:underline}.billingvf10-details-products__icon-news[_ngcontent-%COMP%]{color:red;font-size:24px;margin-bottom:auto}.billingvf10-details-other-concept[_ngcontent-%COMP%]{padding-top:32px}.billingvf10-details__icon--red[_ngcontent-%COMP%]{color:#e60000}.billingvf10-details__icon--size-24[_ngcontent-%COMP%], .billingvf10-details__icon--size-32[_ngcontent-%COMP%]{width:24px;height:24px}.billingvf10-details-what_happened[_ngcontent-%COMP%]{padding-top:16px}@media (min-width:48em){.billingvf10-details-what_happened[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:0}}.billingvf10-details-what_happened[_ngcontent-%COMP%]   .mva10-c-card[_ngcontent-%COMP%]{padding-right:0}.billingvf10-details-what_happened__card[_ngcontent-%COMP%]{display:flex}.billingvf10-details-what_happened__card[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{flex-grow:1}.billingvf10-details-what_happened__card[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}.billingvf10-details-what_happened__card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 100px;background-size:contain!important;background-position:right -25px top!important}.billingvf10-details-what_happened__card[_ngcontent-%COMP%]   .vfes-button[_ngcontent-%COMP%]{width:auto!important}.billingvf10-details-what_happened__card[_ngcontent-%COMP%]   .vfes-button-small[_ngcontent-%COMP%]{padding:4px 16px;font-size:16px;line-height:22px;font-weight:700}.billingvf10-details-bill-changes__section[_ngcontent-%COMP%]{margin-bottom:25px;border-bottom:1px solid #ebebeb}.billingvf10-details-bill-changes__section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.billingvf10-details-bill-changes__title[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:4px;font-family:VodafoneRgBd;font-size:16px;line-height:22px;color:#333}@media (min-width:48.0625em){.billingvf10-details-bill-changes__title[_ngcontent-%COMP%]{font-size:18px;line-height:24px}}.billingvf10-details-bill-changes__background[_ngcontent-%COMP%]{background-color:#f4f4f4;min-width:100%;display:flex;align-items:center;justify-content:space-between}.billingvf10-details-bill-changes__items[_ngcontent-%COMP%]{padding:16px 0 6px}.card-expandable-consumption__selector-type[_ngcontent-%COMP%]{background-color:#fff;margin:-16px -16px 16px;padding:16px 16px 0}@media screen and (min-width:769px){.card-expandable-consumption__selector-type[_ngcontent-%COMP%]{margin:-20px -20px 16px;padding:16px 20px 0}}.card-expandable-consumption__card[_ngcontent-%COMP%]{padding-top:16px}.card-expandable-consumption__card[_ngcontent-%COMP%]:first-child{padding-top:0}.card-expandable-consumption__card[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.card-expandable-consumption__desc_item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.card-expandable-consumption__desc_item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}.card-expandable-consumption__desc_item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px}.card-expandable-consumption__badge[_ngcontent-%COMP%]{border-radius:16px;display:flex;margin-left:8px}.card-expandable-consumption__badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:5px 14px;line-height:1.38}@media screen and (min-width:769px){.card-expandable-consumption__badge[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px}}.card-expandable-consumption__badge--grey[_ngcontent-%COMP%]{background-color:#ebebeb}.card-expandable-consumption__badge--grey[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333}.card-expandable-consumption__badge--blue[_ngcontent-%COMP%]{background-color:#007c92}.card-expandable-consumption__badge--blue[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.card-expandable-consumption__badge[_ngcontent-%COMP%]:first-child{margin-left:0}.card-expandable-consumption__item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:16px}.card-expandable-consumption__item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.38}.card-expandable-consumption__item--separator-day[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999;font-family:VodafoneRegularBold;font-size:14px}@media screen and (min-width:769px){.card-expandable-consumption__item--separator-day[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}}.card-expandable-consumption__item-time[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-expandable-consumption__item-time[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-family:VodafoneRegular;color:#666}.icon[_ngcontent-%COMP%]{height:30px;width:30px;margin-top:2px}',".billingvf10[_ngcontent-%COMP%]{background-color:#f4f4f4}.billingvf10__title-page[_ngcontent-%COMP%]{letter-spacing:.8px;text-align:center;color:#fff}.billingvf10__wrapper[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:0 20px 40px}@media screen and (max-width:769px){.billingvf10__wrapper[_ngcontent-%COMP%]{width:100%!important;min-width:100%!important;padding:0 16px 32px}}.billingvf10__title[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10__subtitle[_ngcontent-%COMP%]{font-family:VodafoneRegular;color:#666}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:22px}@media screen and (min-width:769px){.billingvf10__subtitle[_ngcontent-%COMP%]{font-size:18px}.billingvf10__subtitle[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:24px}}.billingvf10--width100[_ngcontent-%COMP%]{width:100%}.billingvf10--hidden[_ngcontent-%COMP%]{display:none}.billingvf10--opacity[_ngcontent-%COMP%]{opacity:.6}.billingvf10--margin-0-auto[_ngcontent-%COMP%]{margin:0 auto}.billingvf10--margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.billingvf10--margin-left-8[_ngcontent-%COMP%]{margin-left:8px}.billingvf10--margin-right-8[_ngcontent-%COMP%]{margin-right:8px}.billingvf10--margin-right-16[_ngcontent-%COMP%]{margin-right:16px}.billingvf10--margin-bottom-16[_ngcontent-%COMP%]{margin-bottom:16px}.billingvf10--margin-top-90[_ngcontent-%COMP%]{margin-top:90px}.billingvf10--margin-top-80[_ngcontent-%COMP%]{margin-top:80px}.billingvf10--margin-left-40[_ngcontent-%COMP%]{margin-left:40px}.billingvf10--margin-left-24[_ngcontent-%COMP%]{margin-left:24px}.billingvf10--text-align-right[_ngcontent-%COMP%]{text-align:right}.billingvf10--font-family-rg-bold[_ngcontent-%COMP%]{font-family:VodafoneRegularBold}.billingvf10--display-flex[_ngcontent-%COMP%]{display:flex}.billingvf10--red[_ngcontent-%COMP%]{color:#e60000}.billing-vf10-empty[_ngcontent-%COMP%]{padding:8px 24px 24px;display:flex;flex-direction:column;align-items:center;justify-content:space-around}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:VodafoneRegular;font-size:1rem;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#333}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700;line-height:1.33}.billing-vf10-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){font-weight:400;line-height:1.38;text-align:center}.billing-vf10-empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24vmin;height:24vmin}.vfac-card-expandable__label[_ngcontent-%COMP%]{font-family:VodafoneRegular;line-height:1.22;text-align:center;color:#e60000}.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#ebebeb;margin-bottom:16px}@media screen and (min-width:769px){.vfac-card-expandable[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:20px}}.skeleton-wrapper-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:placeholderSkeleton 2s linear infinite forwards;animation:placeholderSkeleton 2s linear infinite forwards;background:#ccc;background-image:linear-gradient(90deg,#ccc 0,#f3f3f3 20%,#ccc 40%,#ccc);background-image:-webkit-linear-gradient(left,#ccc,#f3f3f3 20%,#ccc 40%,#ccc);background-repeat:no-repeat;background-size:800px 250px;position:relative;display:block}.skeleton-wrapper-section[_ngcontent-%COMP%]{-webkit-animation-name:skeletonAnimate;animation-name:skeletonAnimate;background-repeat:repeat;background-size:50% auto;background-color:#fff}@-webkit-keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@keyframes placeholderSkeleton{0%{background-position:-800px 0}to{background-position:800px 0}}@-webkit-keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}@keyframes skeletonAnimate{0%{background-position:0 0}to{background-position:100% 0}}.skeleton-billing__title[_ngcontent-%COMP%]{width:80%}.skeleton-billing__title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:12px;margin-bottom:24px}.skeleton-billing__card[_ngcontent-%COMP%]{height:127px;padding-top:1px;padding-left:16px;padding-right:16px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px;height:143px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{height:12px;width:50%;margin-top:20px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{margin-top:24px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){height:12px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){margin-top:16px}}.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){height:40px;margin-top:12px}@media screen and (min-width:769px){.skeleton-billing__card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){margin-top:16px}}"]}),t})();var zn=i("IZ9p");const Yn=[{path:"",component:d,children:[{path:"",redirectTo:s.a.BillingVf10.MainScreen.name,pathMatch:"full"},{path:s.a.BillingVf10.MainScreen.name,component:ge,resolve:[zn.a]},{path:s.a.BillingVf10.BillDetails.name,component:$n}]}];let Qn=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[l.j.forChild(Yn)],l.j]}),t})(),Gn=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[ri,oi,si,ti]}),t})(),qn=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[n.g],imports:[[n.c,a.a,Qn,x.S,x.p,x.i,x.m,x.Q,x.H,x.D,x.Y,x.Z,x.v,x.c,x.O,Gn]]}),t})()},hKgl:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("8Y7J");let a=(()=>{class t{transform(t,e,i){return t?void 0===e||void 0===i?t:t.split(e).join(i):""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Nb({name:"replace",type:t,pure:!0}),t})()},yb6Y:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("8Y7J"),a=i("PHSF"),l=i("SVse");function s(t,e){if(1&t&&(n.Ub(0,"div",6),n.fc(),n.Ub(1,"svg",7),n.Pb(2,"use"),n.Tb(),n.Tb()),2&t){const t=n.gc();n.Ab(2),n.Bb("href",t.iconLeft,null,"xlink")}}function o(t,e){if(1&t&&n.Pb(0,"div",8),2&t){const t=n.gc();n.nc("innerHtml",t.description,n.Gc)}}function c(t,e){1&t&&(n.Ub(0,"div",9),n.fc(),n.Ub(1,"svg",10),n.Ub(2,"title"),n.Tc(3,"Chrevon"),n.Tb(),n.Pb(4,"use",11),n.Tb(),n.Tb())}let r=(()=>{class t{constructor(){this.colorBg="primary",this.showChevron=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["sp-label-nba"]],inputs:{title:"title",largeTitle:"largeTitle",colorBg:"colorBg",iconLeft:"iconLeft",description:"description",showChevron:"showChevron"},decls:6,vars:6,consts:[[1,"label-nba-wrapper"],[3,"title","largeTitle","colorBg"],[1,"content-body"],["class","content-icon",4,"ngIf"],["class","content-text mva10-u--h5",3,"innerHtml",4,"ngIf"],["class","content-chevron",4,"ngIf"],[1,"content-icon"],[1,"icon","icon__leftIcon"],[1,"content-text","mva10-u--h5",3,"innerHtml"],[1,"content-chevron"],[1,"icon","icon__chevron-right"],[0,"xlink","href","#icon-chevron-right"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"mva10-c-card-label",1),n.Ub(2,"div",2),n.Rc(3,s,3,1,"div",3),n.Rc(4,o,1,1,"div",4),n.Rc(5,c,5,0,"div",5),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Ab(1),n.nc("title",e.title)("largeTitle",e.largeTitle)("colorBg",e.colorBg),n.Ab(2),n.nc("ngIf",e.iconLeft),n.Ab(1),n.nc("ngIf",e.description),n.Ab(1),n.nc("ngIf",e.showChevron))},directives:[a.z,l.t],styles:[".label-nba-wrapper[_ngcontent-%COMP%]{padding-top:7px}.label-nba-wrapper[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;margin:-16px}.label-nba-wrapper[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:32px;height:30px;width:30px}.label-nba-wrapper[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .icon__renew[_ngcontent-%COMP%]{color:#333}.label-nba-wrapper[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .icon__chevron-right[_ngcontent-%COMP%]{color:#e60000}.label-nba-wrapper[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]{flex-grow:1;margin:0 16px;color:#565656}"]}),t})()}}]);